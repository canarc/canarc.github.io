(this.webpackJsonpagrotekweb=this.webpackJsonpagrotekweb||[]).push([[0],{351:function(e,t,n){},571:function(e,t,n){"use strict";n.r(t),n.d(t,"API_ADDRESS",(function(){return Il})),n.d(t,"store",(function(){return Al}));var r=n(0),a=n.n(r),i=n(71),l=n.n(i),o=(n(351),n(28)),c=n(89),s=n(26),d=n(179),u=n(4),p=n(5),m=n(231),h=n(238),j=n(601),b=n(602),f=n(603),x=n(604),O=n(605),y=n(606),g=n(607),v=n(608),k=n(609),_=n(185),S=n(7),w=n(10),T=n(13),C=n(14),I=n(19),M=n(20),A=n(579),z=n(100),B=n(587),F=n(594),D=n(74),R=n(596),L=n(580),P=n(581),Y=n(583),K=n(597),E=n(15),N=n.n(E),G=(n(323),n(94),n(23)),V=n.n(G);function H(){return Al.getState().auth.user.token}V.a.locale("tr");var q=function(e,t,n){return(String(t).repeat(n)+e).substr(-1*n,n)};function U(e){var t;return e?(null===e||void 0===e||null===(t=e.charAt(0))||void 0===t?void 0:t.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1)):""}function W(e,t){return V()(e).format(t||"D MMMM YYYY HH:mm")}function J(e){switch(e){case"kollu":return"Kollu \xdcretimde";case"turbo":return"Turbo \xdcretimde";case"diger":return"Di\u011fer \xdcretimde";case"test":return"Testte";case"depo":return"Depoda";case"bahce":return"Bah\xe7ede";case"onaybekliyor":return"\xdcretim Onay\u0131 Bekliyor";case"planland\u0131":return"\xdcretim Plan\u0131na Al\u0131nd\u0131";case"teslimat":return"Teslim Edildi";case"onproduction":return"\xdcretimde";case"sendedpaint":return"Boyaya G\xf6nderildi";case"sendedgalvaniz":return"Galvanize G\xf6nderildi";case"receivedgalvaniz":return"Galvaniz i\u015fleminde.";case"receivedpaint":return"Boya i\u015fleminde.";case"sendedsaruhanli":return"Boyadan \xe7\u0131kt\u0131.";case"receivedsaruhanli":return"Saruhanl\u0131 Depoda (Haz\u0131r).";case"completed":return"Tamamland\u0131";default:return U(e)}}function Q(e){if(!e)return"Stoktan";switch(e){case"delivered":return"Teslim Edildi";case"producted":return"\xdcretim Tamamland\u0131 (Haz\u0131r)";case"confirmed":return"\xdcretiliyor (Onayland\u0131)";case"cancelled":return"\u0130ptal Edildi";case"ontheway":return"Yolda (Saruhanl\u0131ya G\xf6nderildi)";case"pending":return"Onay Bekliyor";default:return e}}function Z(){return $.apply(this,arguments)}function $(){return($=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/auth/getAllUsers",{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status)return e.data})).catch((function(){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post(Il+"/api/auth/register",t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(201===e.status)return e.data})).catch((function(){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post(Il+"/api/auth/changePasswordAdmin",t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){return!0})).catch((function(){return!1}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete(Il+"/api/auth/deleteuser/"+t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status)return!0})).catch((function(){return!1}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){return le.apply(this,arguments)}function le(){return(le=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put(Il+"/api/auth/ReopenUser/"+t,{},{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status)return!0})).catch((function(){return!1}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t){return ce.apply(this,arguments)}function ce(){return(ce=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put(Il+"/api/auth/ChangeRole/",{Mail:t,Role:n},{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status)return!0})).catch((function(){return!1}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se,de,ue=n(585),pe=n(341),me=n(178),he=n(2),je=JSON.parse(null!==(se=localStorage.getItem("config"))&&void 0!==se?se:"{}"),be=function(e){var t=e.visible,n=e.onCreate,r=e.onCancel,a=ue.a.useForm(),i=Object(p.a)(a,1)[0];return Object(he.jsx)(B.a,{visible:t,title:"Yeni Bir Kullan\u0131c\u0131 Olu\u015ftur.",okText:"Olu\u015ftur",cancelText:"\u0130ptal Et",onCancel:r,onOk:function(){i.validateFields().then((function(e){i.resetFields(),n(e)})).catch((function(e){console.log("Validate Failed:",e)}))},children:Object(he.jsxs)(ue.a,{form:i,layout:"vertical",name:"form_in_modal",initialValues:{modifier:"public"},requiredMark:!1,children:[Object(he.jsx)(ue.a.Item,{name:"Mail",label:"E-mail",rules:[{required:!0,message:"L\xfctfen bir mail adresi girin."},{type:"email",message:"L\xfctfen ge\xe7erli bir mail adresi girin."}],children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{name:"Name",label:"Ad",rules:[{required:!0,message:"L\xfctfen bir isim girin."}],children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{name:"Surname",label:"Soyad",rules:[{required:!0,message:"L\xfctfen bir soyisim girin."}],children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{name:"Role",className:"collection-create-form_last-form-item",rules:[{required:!0,message:"L\xfctfen bir s\u0131n\u0131f se\xe7in."}],children:Object(he.jsx)(me.a.Group,{children:je.role.map((function(e){return Object(he.jsx)(me.a,{value:e.type,children:e.text})}))})})]})})},fe=function(e){var t=e.visible,n=e.mail,r=e.onCreate,a=e.onCancel,i=ue.a.useForm(),l=Object(p.a)(i,1)[0];return Object(he.jsx)(B.a,{visible:t,title:"Kullan\u0131c\u0131n\u0131n \u015eifresini De\u011fi\u015ftir",okText:"De\u011fi\u015ftir",cancelText:"\u0130ptal Et",onCancel:a,onOk:function(){l.getFieldValue("password")===l.getFieldValue("password1")&&l.validateFields().then((function(e){l.resetFields(),r(Object(u.a)(Object(u.a)({},e),{},{Mail:n}))})).catch((function(e){console.log("Validate Failed:",e)}))},children:Object(he.jsxs)(ue.a,{form:l,layout:"vertical",name:"form_in_modal",initialValues:{modifier:"public"},requiredMark:!1,children:[Object(he.jsx)(ue.a.Item,{name:"Password",label:"\u015eifre",rules:[{required:!0,message:"L\xfctfen bir \u015fifre girin."}],children:Object(he.jsx)(pe.a,{type:"password"})}),Object(he.jsx)(ue.a.Item,{name:"Password1",label:"\u015eifre (Tekrar)",rules:[{required:!0,message:"L\xfctfen ayn\u0131 \u015fifreyi tekrar girin."}],children:Object(he.jsx)(pe.a,{type:"password"})})]})})},xe=A.a.Content,Oe=(A.a.Sider,z.a.Option),ye=JSON.parse(null!==(de=localStorage.getItem("config"))&&void 0!==de?de:"{}"),ge=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){var e;Object(T.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={selectedRowKeys:[],changePasswordMail:"",registrationButtonLoading:!1,registrationFormVisible:!1,changePasswordFormVisible:!1,tableLoading:!0,data:[]},e.columns=[{title:"Ad",dataIndex:"name",sorter:function(e,t){return e.name.localeCompare(t.name)}},{title:"Soyad",dataIndex:"surname",sorter:function(e,t){return e.surname.localeCompare(t.surname)}},{title:"E-Mail",dataIndex:"mail",sorter:function(e,t){return e.mail.localeCompare(t.mail)}},{title:"Rol",render:function(e,t){return Object(he.jsx)(he.Fragment,{children:Object(he.jsx)(z.a,{defaultValue:t.role,style:{width:120},onChange:function(){var e=Object(w.a)(Object(S.a)().mark((function e(n){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(t.mail,n);case 2:e.sent||B.a.error({title:"Bir hata olu\u015ftu",content:Object(he.jsx)("p",{children:"Kullan\u0131c\u0131n\u0131n rol\xfc de\u011fi\u015ftirilemedi l\xfctfen tekrar deneyin."}),okText:"Tamam"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:ye.role.map((function(e){return Object(he.jsx)(Oe,{value:e.type,children:e.text})}))})})}},{title:"\u0130\u015flemler",width:10,render:function(t,n){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(F.a,{title:"Bu kullan\u0131c\u0131y\u0131 ".concat(n.isDeleted?"a\xe7mak":"silmek"," istedi\u011finizden emin misiniz?"),onConfirm:Object(w.a)(Object(S.a)().mark((function t(){return Object(S.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isDeleted){t.next=7;break}return t.next=3,ie(n.mail);case 3:if(!t.sent){t.next=5;break}e.getTableData();case 5:t.next=11;break;case 7:return t.next=9,re(n.mail);case 9:if(!t.sent){t.next=11;break}e.getTableData();case 11:case"end":return t.stop()}}),t)}))),okText:"Evet",cancelText:"Hay\u0131r",children:Object(he.jsx)(D.a,{block:!0,danger:!0,type:"primary",children:n.isDeleted?"Yeniden A\xe7":"Kullan\u0131c\u0131y\u0131 Sil"})}),Object(he.jsx)(D.a,{style:{marginTop:5},onClick:function(){e.showChangePasswordForm(n.mail)},block:!0,type:"default",children:"\u015eifre De\u011fi\u015ftir"})]})}}],e.showRegistrationForm=function(){e.setState({registrationButtonLoading:!0,registrationFormVisible:!0})},e.showChangePasswordForm=function(t){e.setState({changePasswordFormVisible:!0,changePasswordMail:t})},e.onSelectChange=function(t){console.log("selectedRowKeys changed: ",t),e.setState({selectedRowKeys:t})},e}return Object(C.a)(n,[{key:"getTableData",value:function(){var e=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:(t=e.sent)&&this.setState({data:t}),this.setState({tableLoading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getTableData()}},{key:"render",value:function(){var e=this,t=this.state,n=t.registrationButtonLoading,r=t.tableLoading,a=t.selectedRowKeys,i=t.data,l=t.registrationFormVisible,o=t.changePasswordFormVisible,c=t.changePasswordMail;a.length;return Object(he.jsx)(A.a,{style:{minHeight:"100vh"},children:Object(he.jsxs)(xe,{children:[Object(he.jsx)(R.a,{orientation:"center",plain:!0,children:Object(he.jsx)(L.a,{children:Object(he.jsx)(P.a,{xs:{span:11,offset:1},lg:{span:6,offset:2},children:Object(he.jsx)(D.a,{type:"primary",onClick:this.showRegistrationForm,icon:Object(he.jsx)(K.a,{}),loading:n,children:"Kullan\u0131c\u0131 Ekle"})})})}),Object(he.jsx)(Y.a,{loading:r,rowKey:function(e){return e.mail},columns:this.columns,dataSource:i}),Object(he.jsx)(be,{visible:l,onCreate:function(){var t=Object(w.a)(Object(S.a)().mark((function t(n){var r,a;return Object(S.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X(n);case 2:(r=t.sent)?(a=[].concat(e.state.data,r),e.setState({data:a,registrationFormVisible:!1,registrationButtonLoading:!1})):B.a.error({title:"Bir hata olu\u015ftu",content:Object(he.jsx)("p",{children:"Bu mail adresi daha \xf6nce kay\u0131t olmu\u015f olabilir."}),okText:"Tamam"});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onCancel:function(){e.setState({registrationButtonLoading:!1,registrationFormVisible:!1})}}),Object(he.jsx)(fe,{visible:o,mail:c,onCreate:function(){var t=Object(w.a)(Object(S.a)().mark((function t(n){return Object(S.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te(n);case 2:t.sent?(e.setState({changePasswordFormVisible:!1}),B.a.success({title:"\u0130\u015flem ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"Kullan\u0131c\u0131n\u0131n \u015fifresi ba\u015far\u0131yla de\u011fi\u015fti."}),okText:"Tamam"})):B.a.error({title:"Bir hata olu\u015ftu",content:Object(he.jsx)("p",{children:"L\xfctfen tekrar deneyin."}),okText:"Tamam"});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onCancel:function(){e.setState({changePasswordFormVisible:!1})}})]})})}}]),n}(r.Component),ve=ge,ke="LOGIN",_e="LOGOUT",Se={user:null};var we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return Object(u.a)(Object(u.a)({},e),{},{user:t.payload});case _e:return Object(u.a)(Object(u.a)({},e),{},{user:null});default:return e}};function Te(){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(w.a)(Object(S.a)().mark((function e(){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/config").then((function(e){localStorage.setItem("config",JSON.stringify(e.data))}));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e,t){return function(){var n=Object(w.a)(Object(S.a)().mark((function n(r){return Object(S.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:N.a.post(Il+"/api/auth/login",{Mail:e,Password:t}).then((function(e){sessionStorage.setItem("user",JSON.stringify(e.data)),r({type:ke,payload:e.data}),window.location.href="/"})).catch((function(e){var t;401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)?B.a.error({title:"Giri\u015f Yetkiniz Yok",content:Object(he.jsx)("p",{children:"L\xfctfen admin ile ileti\u015fime ge\xe7in.."}),okText:"Tamam"}):B.a.error({title:"Bilgileriniz Yanl\u0131\u015f",content:Object(he.jsx)("p",{children:"L\xfctfen bilgilerinizi kontrol edin.."}),okText:"Tamam"})}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var Me=n(589),Ae=n(582),ze=n(344),Be=n(49),Fe=n.n(Be),De=n(66),Re=n.n(De),Le=n(8);V.a.locale("tr");var Pe=Object(C.a)((function e(){Object(T.a)(this,e),this.turbo=!1,this.kollu=!1,this.diger=!1,this.test=!1,this.bahce=!1,this.depo=!1,this.iptal=!1,this.teslimat=!1,this.onaybekliyor=!1}));function Ye(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.date=V()().format("YYYY-MM-DD HH:mm"),t.year=V()().format("YY"),t.tank_size&&(t.tank_size=parseInt(String(t.tank_size))),t.order_amount&&(t.order_amount=parseInt(String(t.order_amount))),t.status=t.production_unit,t.serial_number=n,e.next=8,N.a.post(Il+"/api/order/TakeOrder/",t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status)return B.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"Sipari\u015f ba\u015far\u0131yla olu\u015fturuldu."}),okText:"Tamam"}),!0})).catch((function(){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen bilgileri kontrol edin."}),okText:"Tamam"}),!1}));case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(e,t){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.date=V()().format("YYYY-MM-DD HH:mm"),t.year=V()().format("YY"),t.tank_size&&(t.tank_size=parseInt(String(t.tank_size))),t.order_amount&&(t.order_amount=parseInt(String(t.order_amount))),t.status=t.production_unit,t.serial_number=n,t.order_tooker="",e.next=9,N.a.post(Il+"/api/order/TakeOrderDealer/",t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status)return B.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"Sipari\u015f ba\u015far\u0131yla olu\u015fturuldu."}),okText:"Tamam"}),!0})).catch((function(){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen bilgileri kontrol edin."}),okText:"Tamam"}),!1}));case 9:return r=e.sent,e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.date=V()().format("YYYY-MM-DD HH:mm"),t.year=V()().format("YY"),t.tank_size&&(t.tank_size=parseInt(String(t.tank_size))),t.order_amount&&(t.order_amount=parseInt(String(t.order_amount))),t.status=t.production_unit,t.serial_number=n,e.next=8,N.a.post(Il+"/api/order/EditOrder/",t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status)return B.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"Sipari\u015f ba\u015far\u0131yla olu\u015fturuldu."}),okText:"Tamam"}),!0})).catch((function(){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen bilgileri kontrol edin."}),okText:"Tamam"}),!1}));case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(){return(He=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/order/GetFinishedOrders",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen bilgileri kontrol edin."}),okText:"Tamam"}),[]}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(){return(qe=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/order/GetMachinePartsStatuses",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen bilgileri kontrol edin."}),okText:"Tamam"}),[]}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(){return(Ue=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/order/GetCancelledOrders",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen bilgileri kontrol edin."}),okText:"Tamam"}),[]}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(){return(We=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/order/GetAllOrders",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen bilgileri kontrol edin."}),okText:"Tamam"}),[]}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(){return(Je=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/order/GetAllDealerOrders",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen bilgileri kontrol edin."}),okText:"Tamam"}),[]}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(){return(Qe=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/order/GetAllOrdersByType?type=".concat(t.toLowerCase()),{headers:{Authorization:"Bearer "+H()}}).then((function(e){return 200===e.status?e.data:[]})).catch((function(){return[]}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(){return $e.apply(this,arguments)}function $e(){return($e=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/order/GetAllTankFromSaruhanl\u0131",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return 200===e.status?e.data:[]})).catch((function(){return[]}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(){return(Xe=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/task/GetPendingOrders",{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status)return e.data})).catch((function(){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(){return tt.apply(this,arguments)}function tt(){return(tt=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/task/GetProductionReadyOrders",{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status)return e.data})).catch((function(){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(){return rt.apply(this,arguments)}function rt(){return(rt=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/ProductionTasks/GetApprovalPendingOrders",{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status)return e.data})).catch((function(){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(e){return it.apply(this,arguments)}function it(){return(it=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat(Il,"/api/ProductionTasks/AddApproval?order_id=").concat(t),{},{headers:{Authorization:"Bearer: "+H()}}).then((function(e){return 200===e.status&&B.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"\u0130\u015flem ba\u015far\u0131yla ger\xe7ekle\u015fti.."}),okText:"Tamam"}),!0})).catch((function(e){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e){return ot.apply(this,arguments)}function ot(){return(ot=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat(Il,"/api/ProductionTasks/DealerConfirmOffer?order_id=").concat(t),{headers:{Authorization:"Bearer: "+H()}}).then((function(e){return 200===e.status&&B.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"\u0130\u015flem ba\u015far\u0131yla ger\xe7ekle\u015fti.."}),okText:"Tamam"}),!0})).catch((function(e){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e){return st.apply(this,arguments)}function st(){return(st=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat(Il,"/api/ProductionTasks/DealerDenyOffer?order_id=").concat(t),{headers:{Authorization:"Bearer: "+H()}}).then((function(e){return 200===e.status&&B.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"\u0130\u015flem ba\u015far\u0131yla ger\xe7ekle\u015fti.."}),okText:"Tamam"}),!0})).catch((function(e){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e,t,n){return ut.apply(this,arguments)}function ut(){return(ut=Object(w.a)(Object(S.a)().mark((function e(t,n,r){var a,i;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Number(n),e.next=3,N.a.put("".concat(Il,"/api/order/SetPaymentDetails"),{order_id:t,price:a,payment_detail:r},{headers:{Authorization:"Bearer: "+H()}}).then((function(e){return console.log("res",e),200===e.status&&B.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"\u0130\u015flem ba\u015far\u0131yla ger\xe7ekle\u015fti.."}),okText:"Tamam"}),!0})).catch((function(e){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e){return mt.apply(this,arguments)}function mt(){return(mt=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(Il,"/api/order/getOrderById/").concat(t),{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status||204===e.status)return e.data})).catch((function(){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e){return jt.apply(this,arguments)}function jt(){return(jt=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/order/GetOrderMachineDetailsById/"+t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){return 200===e.status?e.data:[]})).catch((function(){return[]}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e){return ft.apply(this,arguments)}function ft(){return(ft=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(Il,"/api/order/getOrderHistory/").concat(t),{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status||204===e.status)return e.data})).catch((function(){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(e){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(Il,"/api/order/getArmHistory/").concat(t),{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status||204===e.status)return e.data})).catch((function(){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e){return gt.apply(this,arguments)}function gt(){return(gt=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(Il,"/api/order/getFanHistory/").concat(t),{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status||204===e.status)return e.data})).catch((function(){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(e){return kt.apply(this,arguments)}function kt(){return(kt=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(Il,"/api/order/getChassisHistory/").concat(t),{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status||204===e.status)return e.data})).catch((function(){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(){return(_t=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(Il,"/api/task/GetGenericTaskHistory/").concat(t),{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status||204===e.status)return e.data})).catch((function(){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(){return wt.apply(this,arguments)}function wt(){return(wt=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/order/GetDeliveries",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return 200===e.status?e.data:[]})).catch((function(){return[]}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(w.a)(Object(S.a)().mark((function e(){var t,n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Pe).bahce=!0,t.depo=!0,e.next=5,N.a.put(Il+"/api/task/GetAllMachinesStatus",t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status)return e.data})).catch((function(){return null}));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function It(e){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post(Il+"/api/order/SwitchMachines",t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){200===e.status&&B.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"Sipari\u015f ba\u015far\u0131yla kayd\u0131r\u0131ld\u0131.L\xfctfen sayfay\u0131 yenileyin"}),okText:"Tamam"})})).catch((function(e){B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"})}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(){return zt.apply(this,arguments)}function zt(){return(zt=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(Il,"/api/order/GetAllTankProducerOrders"),{headers:{Authorization:"Bearer "+H()}}).then((function(e){return 200===e.status?e.data:[]})).catch((function(e){return[]}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bt(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put("".concat(Il,"/api/order/SendToTankProducerOrders/"),{CurrentPosition:t,Id:n},{headers:{Authorization:"Bearer: "+H()}}).then((function(e){if(200===e.status)return B.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"\u0130\u015flem ba\u015far\u0131yla ger\xe7ekle\u015fti.."}),okText:"Tamam"}),e.data})).catch((function(e){return console.log(e),B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dt(e,t,n){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(w.a)(Object(S.a)().mark((function e(t,n,r){var a;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put("".concat(Il,"/api/order/MoveTo/").concat(t,"/").concat(n,"/").concat(r),{},{headers:{Authorization:"Bearer: "+H()}}).then((function(e){return 200===e.status&&B.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"\u0130\u015flem ba\u015far\u0131yla ger\xe7ekle\u015fti.."}),okText:"Tamam"}),!0})).catch((function(e){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(){return(Lt=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(Il,"/api/order/UndoFanTo/").concat(t),{headers:{Authorization:"Bearer: "+H()}}).then((function(e){return 200===e.status&&B.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"\u0130\u015flem ba\u015far\u0131yla ger\xe7ekle\u015fti.."}),okText:"Tamam"}),!0})).catch((function(e){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(){return(Pt=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(Il,"/api/order/UndoArmTo/").concat(t),{headers:{Authorization:"Bearer: "+H()}}).then((function(e){return 200===e.status&&B.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"\u0130\u015flem ba\u015far\u0131yla ger\xe7ekle\u015fti.."}),okText:"Tamam"}),!0})).catch((function(e){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(){return(Yt=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(Il,"/api/order/UndoChassisTo/").concat(t),{headers:{Authorization:"Bearer: "+H()}}).then((function(e){return 200===e.status&&B.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"\u0130\u015flem ba\u015far\u0131yla ger\xe7ekle\u015fti.."}),okText:"Tamam"}),!0})).catch((function(e){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kt(){return(Kt=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(Il,"/api/order/UndoMoveTo/").concat(t),{headers:{Authorization:"Bearer: "+H()}}).then((function(e){return 200===e.status&&B.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"\u0130\u015flem ba\u015far\u0131yla ger\xe7ekle\u015fti.."}),okText:"Tamam"}),!0})).catch((function(e){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(w.a)(Object(S.a)().mark((function e(){var t,n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Pe).turbo=!0,t.kollu=!0,t.diger=!0,t.test=!0,t.depo=!0,t.bahce=!0,e.next=9,N.a.put(Il+"/api/task/GetAllMachinesStatus",t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status)return e.data})).catch((function(){return null}));case 9:return n=e.sent,e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gt(e){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,N.a.post("".concat(Il,"/api/order/DeleteOrder/"),{Id:t},{headers:{Authorization:"Bearer: "+H()}}).then((function(e){200===e.status&&B.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"Sipari\u015f ba\u015far\u0131yla iptal edildi."}),okText:"Tamam"})})).catch((function(e){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ht(e){return qt.apply(this,arguments)}function qt(){return(qt=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,N.a.delete("".concat(Il,"/api/order/DeleteSingleMachine/").concat(t),{headers:{Authorization:"Bearer: "+H()}}).then((function(e){200===e.status&&B.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"Makine ba\u015far\u0131yla silindi."}),okText:"Tamam"})})).catch((function(e){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(){return Wt.apply(this,arguments)}function Wt(){return(Wt=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/Task/GetLayout",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(e,t){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post(Il+"/api/Task/SaveLayoutInfo/",{layout:null!==t&&void 0!==t&&t.length?[].concat(Object(Le.a)(t),[n]).join(","):n},{headers:{Authorization:"Bearer "+H()}}).then((function(e){return 200===e.status&&B.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"K\u0131sayol ba\u015far\u0131yla eklendi."}),okText:"Tamam"}),e.data.layout})).catch((function(e){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),""}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zt(e,t){return $t.apply(this,arguments)}function $t(){return($t=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post(Il+"/api/Task/SaveLayoutInfo/",{layout:t.filter((function(e){return e!==n})).join(",")},{headers:{Authorization:"Bearer "+H()}}).then((function(e){return 200===e.status&&B.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(he.jsx)("p",{children:"K\u0131sayol ba\u015far\u0131yla kald\u0131r\u0131ld\u0131."}),okText:"Tamam"}),e.data.layout})).catch((function(e){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),""}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xt(){return(Xt=Object(w.a)(Object(S.a)().mark((function e(t,n,r){var a;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put("".concat(Il,"/api/productiontasks/MoveToFan/").concat(t,"/").concat(n,"/"),{},{headers:{Authorization:"Bearer: "+H()}}).then((function(e){if(200===e.status||204===e.status)return r&&r(),e.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function en(e,t,n){return tn.apply(this,arguments)}function tn(){return(tn=Object(w.a)(Object(S.a)().mark((function e(t,n,r){var a;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put("".concat(Il,"/api/productiontasks/MoveToChassis/").concat(t,"/").concat(n,"/"),{},{headers:{Authorization:"Bearer: "+H()}}).then((function(e){200!==e.status&&204!==e.status||r&&r()}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nn(e,t,n){return rn.apply(this,arguments)}function rn(){return(rn=Object(w.a)(Object(S.a)().mark((function e(t,n,r){var a;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put("".concat(Il,"/api/productiontasks/MoveToArm/").concat(t,"/").concat(n,"/"),{},{headers:{Authorization:"Bearer: "+H()}}).then((function(e){if(200===e.status||204===e.status)return r&&r(),e.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(e,t){return N.a.post("".concat(Il,"/api/config/").concat(e),t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){return B.a.success({title:"\u0130\u015flem Ba\u015farili.",content:"Yeni \xf6zellik ba\u015fariyla eklendi, g\xf6rmek i\xe7in sayfayi yenileyin.."}),!0})).catch((function(e){return B.a.error({title:"Bir Hata Olu\u015ftu.",content:"L\xfctfen tekrar deneyin."}),!1}))}function ln(e){return console.log("values",e),N.a.put("".concat(Il,"/api/config/"),e,{headers:{Authorization:"Bearer "+H()}}).then((function(e){return B.a.success({title:"\u0130\u015flem Ba\u015farili.",content:"\xd6zellik ba\u015fariyla silindi, g\xf6rmek i\xe7in sayfayi yenileyin.."}),!0})).catch((function(e){return B.a.error({title:"Bir Hata Olu\u015ftu.",content:"L\xfctfen tekrar deneyin."}),!1}))}function on(){return N.a.get("".concat(Il,"/api/config/GetCustomerList"),{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return[]}))}function cn(){return N.a.get("".concat(Il,"/api/Task/GetOrderNumber"),{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return[]}))}var sn=n(598),dn=z.a.Option,un=z.a.OptGroup,pn=n(67),mn=A.a.Content;function hn(e){for(var t="",n=e.length-1;n>=0;n--)t+=e[n];return t}var jn,bn=function(){var e,t=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),n=Object(r.useState)(!1),a=Object(p.a)(n,2),i=a[0],l=a[1],o=Object(r.useState)(0),c=Object(p.a)(o,2),s=c[0],d=c[1],m=Object(r.useState)(""),h=Object(p.a)(m,2),j=h[0],b=h[1],f=Object(r.useState)([]),x=Object(p.a)(f,2),O=x[0],y=x[1],g=Object(r.useState)("turbo"),v=Object(p.a)(g,2),k=v[0],_=v[1],T=Object(r.useState)({brand:"",type:"",cooler_type:"",arm_type:"",tank_size:0,pump:"",order_no:"",order_amount:0,year:""}),C=Object(p.a)(T,2),I=C[0],M=C[1],B=function(){switch(k){case"kollu":return I.brand+I.type+I.arm_type+I.tank_size+I.pump+I.year+0+I.order_no+0+I.order_amount;case"turbo":return I.brand+I.type+I.cooler_type+I.tank_size+I.pump+I.year+0+I.order_no+0+I.order_amount;case"diger":return I.brand+I.type+I.year+0+I.order_no+0+I.order_amount;default:return""}}(),F=ue.a.useForm(),R=Object(p.a)(F,1)[0],L=function(){l(!0),cn().then((function(e){d(15),M(Object(u.a)(Object(u.a)({},I),{},{order_no:String(e)})),l(!1)}))};return Object(r.useEffect)((function(){s>0&&setTimeout((function(){d(s-1)}),1e3)}),[s]),Object(r.useEffect)((function(){L(),on().then((function(e){y(e)}))}),[]),Object(he.jsx)(A.a,{style:{minHeight:"100vh"},children:Object(he.jsx)(mn,{children:Object(he.jsxs)(ml,{style:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap-reverse"},children:[Object(he.jsxs)(ue.a,{form:R,onFieldsChange:function(){var e="turktraktor"==R.getFieldValue("brand")?R.getFieldValue("brand")+" "+R.getFieldValue("model"):"turbo"==R.getFieldValue("production_unit")?R.getFieldValue("brand")+" "+R.getFieldValue("tank_size")+"LT "+R.getFieldValue("cooler_type")+R.getFieldValue("fan_radius")+"cm "+R.getFieldValue("fan_type"):"kollu"==R.getFieldValue("production_unit")?R.getFieldValue("brand")+" "+R.getFieldValue("tank_size")+"LT "+R.getFieldValue("arm_type")+" "+R.getFieldValue("arm_length"):"diger"==R.getFieldValue("production_unit")?R.getFieldValue("brand")+" "+R.getFieldValue("type"):"";b(B+","+e.toUpperCase()),R.getFieldValue("model")&&"turktraktor"==R.getFieldValue("brand")&&R.setFieldsValue({caldron_color:R.getFieldValue("model")})},onFinish:function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),d(0),t.order_no=I.order_no,e.next=5,Ye(t,B);case 5:!0===e.sent&&(P(t.order_amount),R.resetFields()),l(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),labelCol:{span:5},wrapperCol:{span:24},style:{maxWidth:"calc(100% - 168px)",minWidth:"450px"},requiredMark:!1,children:[Object(he.jsx)(ue.a.Item,{name:"date",initialValue:Re()(),label:"Tarih",required:!0,children:Object(he.jsx)(Me.a,{disabled:!0})}),Object(he.jsx)(ue.a.Item,{name:"customer",label:"M\xfc\u015fteri Ad\u0131",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:250,message:"Maksimum s\u0131n\u0131r a\u015f\u0131ld\u0131."}],required:!0,children:Object(he.jsx)(Ae.a,{style:{width:200},options:O,placeholder:"aramak i\xe7in yaz\u0131n.",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})}),Object(he.jsx)(ue.a.Item,{name:"address",label:"Adresi",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:250,message:"Maksimum s\u0131n\u0131r a\u015f\u0131ld\u0131."}],required:!0,children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{name:"phone_number",label:"Telefon No",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:10,min:10,message:"Telefon numaras\u0131 10 haneden olu\u015fmal\u0131d\u0131r."}],required:!0,children:Object(he.jsx)(pe.a,{addonBefore:"+90",style:{width:"100%"}})}),Object(he.jsx)(ue.a.Item,{name:"production_unit",label:"\xdcretim Birimi",initialValue:"turbo",required:!0,children:Object(he.jsxs)(me.a.Group,{onChange:function(e){_(e.target.value)},children:[Object(he.jsx)(me.a,{value:"turbo",children:"Turbo"}),Object(he.jsx)(me.a,{value:"kollu",children:"Kollu"}),Object(he.jsx)(me.a,{value:"diger",children:"Di\u011fer"})]})}),Object(he.jsx)(ue.a.Item,{name:"brand",label:"Marka",required:!0,children:Object(he.jsx)(z.a,{onSelect:function(e){var n=t.brand.filter((function(t){return t.type==e}));M(Object(u.a)(Object(u.a)({},I),{},{brand:n[0].shortend}))},children:t.brand.map((function(e){return Object(he.jsx)(dn,{value:e.type,children:e.text},e.type)}))})}),"turbo"==k&&"T"==I.brand?Object(he.jsx)(ue.a.Item,{name:"model",label:"Model",required:!0,children:Object(he.jsx)(z.a,{children:t.turktraktormodel.map((function(e){return Object(he.jsx)(dn,{value:e.text,children:e.text},e.text)}))})}):null,Object(he.jsx)(ue.a.Item,{name:"type",label:"Tip",required:!0,children:"turbo"===k||"kollu"===k?Object(he.jsx)(z.a,{onSelect:function(e){var n=t.type.filter((function(t){return t.type==e}));M(Object(u.a)(Object(u.a)({},I),{},{type:n[0].shortend}))},children:t.type.map((function(e){return Object(he.jsx)(dn,{value:e.type,children:e.text},e.type)}))}):Object(he.jsx)(z.a,{onSelect:function(e){var n=t.machine_type.filter((function(t){return t.type==e}));M(Object(u.a)(Object(u.a)({},I),{},{type:n[0].shortend}))},children:t.machine_type.map((function(e){return Object(he.jsx)(dn,{value:e.type,children:e.text},e.type)}))})}),"kollu"==k||"turbo"==k?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(ue.a.Item,{name:"caldron_color",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:32,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Kazan Rengi",required:!0,children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{name:"caldron_stock",label:"Kazan Tedarik",children:Object(he.jsxs)(me.a.Group,{children:[Object(he.jsx)(me.a,{value:"onstock",children:"Stoktan"}),Object(he.jsx)(me.a,{value:"new",children:"Kazan \xdcreticiden"})]})}),Object(he.jsx)(ue.a.Item,{name:"caldron_material",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:19,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Materyal",required:!0,children:Object(he.jsx)(z.a,{children:t.caldron_material.map((function(e){return Object(he.jsx)(dn,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"tank_size",label:"Depo Hacmi",required:!0,children:Object(he.jsx)(z.a,{onSelect:function(e){var n=t.tank_size.filter((function(t){return t.type==e}));M(Object(u.a)(Object(u.a)({},I),{},{tank_size:parseInt(n[0].shortend)}))},children:Object(he.jsx)(un,{label:"Litre",children:t.tank_size.map((function(e){return Object(he.jsx)(dn,{value:e.type,children:e.text},e.type)}))})})}),Object(he.jsx)(ue.a.Item,{name:"tow_type",label:"\xc7eki Tipi",required:!0,children:Object(he.jsx)(z.a,{children:t.tow_type.map((function(e){return Object(he.jsx)(dn,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"pump",label:"Pompa",required:!0,children:Object(he.jsx)(z.a,{onSelect:function(e){var n=t.pump.filter((function(t){return t.type==e}));M(Object(u.a)(Object(u.a)({},I),{},{pump:n[0].shortend}))},children:t.pump.map((function(e){return Object(he.jsx)(dn,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"commander",label:"Kumanda",required:!0,children:Object(he.jsx)(z.a,{children:t.commander.map((function(e){return Object(he.jsx)(dn,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"meme_type",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:19,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Meme Tipi",required:!0,children:Object(he.jsx)(z.a,{children:t.meme_type.map((function(e){return Object(he.jsx)(dn,{value:e.type,children:e.text},e.type)}))})})]}):null,"kollu"==k?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(ue.a.Item,{name:"arm_type",label:"Kol Tipi",required:!0,children:Object(he.jsx)(z.a,{onSelect:function(e){var n=t.arm_type.filter((function(t){return t.type==e}));M(Object(u.a)(Object(u.a)({},I),{},{arm_type:n[0].shortend}))},children:t.arm_type.map((function(e){return Object(he.jsx)(dn,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"meme_distance",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:19,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Meme Aral\u0131\u011f\u0131",required:!0,children:Object(he.jsx)(pe.a,{maxLength:19})}),Object(he.jsx)(ue.a.Item,{name:"arm_length",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:30,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Kol Uzunlu\u011fu",required:!0,children:Object(he.jsx)(pe.a,{maxLength:20})})]}):null,"turbo"==k?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(ue.a.Item,{name:"cooler_type",label:"Fan Tipi",required:!0,children:Object(he.jsx)(z.a,{onSelect:function(e){var n=t.cooler_type.filter((function(t){return t.type==e}));M(Object(u.a)(Object(u.a)({},I),{},{cooler_type:n[0].shortend}))},children:t.cooler_type.map((function(e){return Object(he.jsx)(dn,{value:e.type,children:e.text},e.type)}))})}),"turbo"==k?Object(he.jsx)(ue.a.Item,{name:"caldron_type",label:"Kazan Tipi",required:!0,children:Object(he.jsx)(z.a,{children:t.caldron_type.map((function(e){return Object(he.jsx)(dn,{value:e.type,children:e.text},e.type)}))})}):null,"turbo"==k?Object(he.jsx)(ue.a.Item,{name:"fan_radius",label:"Pervane \xc7ap\u0131",required:!0,children:Object(he.jsx)(z.a,{children:t.fan_radius.map((function(e){return Object(he.jsx)(dn,{value:e.type,children:e.text},e.type)}))})}):null,"turbo"==k?Object(he.jsx)(ue.a.Item,{name:"fan_type",label:"Pervane Tipi",required:!0,children:Object(he.jsx)(z.a,{children:t.fan_type.map((function(e){return Object(he.jsx)(dn,{value:e.type,children:e.text},e.type)}))})}):null]}):null,Object(he.jsxs)(ue.a.Item,{name:"order_no",label:"Sipari\u015f No",children:[Object(he.jsx)(pe.a,{disabled:!0,value:I.order_no,style:{width:"324px"},maxLength:6,onChange:function(e){M(Object(u.a)(Object(u.a)({},I),{},{order_no:q(e.target.value,"0",6)}))}}),Object(he.jsx)(D.a,{disabled:i||s,icon:Object(he.jsx)(ze.a,{indicator:Object(he.jsx)(sn.a,{spin:i})}),onClick:L})]}),Object(he.jsx)(ue.a.Item,{name:"order_amount",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:5,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Sipari\u015f Adedi",required:!0,children:Object(he.jsx)(pe.a,{max:99,min:1,type:"number",onChange:function(e){M(Object(u.a)(Object(u.a)({},I),{},{order_amount:parseInt(e.target.value)}))}})}),Object(he.jsx)(ue.a.Item,{name:"year",label:"Y\u0131l",initialValue:Re()(),required:!0,children:Object(he.jsx)(Me.a,{disabled:!0,picker:"year"})}),Object(he.jsx)(ue.a.Item,{name:"chassis_color",label:"\u015ease Rengi",required:!0,children:Object(he.jsx)(z.a,{children:t.chassis_color.map((function(e){return Object(he.jsx)(dn,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"alt_features",rules:[{max:250,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Ek \xd6zellikler",required:!0,children:Object(he.jsx)(pe.a.TextArea,{maxLength:250})}),Object(he.jsx)(ue.a.Item,{name:"order_tooker",label:"Sipari\u015f Alan",required:!0,children:Object(he.jsx)(z.a,{children:t.order_tooker.map((function(e){return Object(he.jsx)(dn,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"serial_number",label:"Seri No",children:Object(he.jsx)(pe.a,{disabled:!0,placeholder:B})}),Object(he.jsx)(ue.a.Item,{name:"payment_detail",rules:[{max:250,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"\xd6deme Detay",required:!0,children:Object(he.jsx)(pe.a.TextArea,{maxLength:250})}),Object(he.jsx)(ue.a.Item,{required:!0,name:"price",label:"Fiyat",children:Object(he.jsx)(pe.a,{type:"number"})}),Object(he.jsx)(ue.a.Item,{wrapperCol:{span:24},children:Object(he.jsxs)(D.a,{loading:i,disabled:!s,size:"large",block:!0,type:"primary",htmlType:"submit",children:["Sipari\u015fi Olu\u015ftur ",s||"(Sipari\u015f No'yu Yenileyin)"]})})]}),Object(he.jsx)("div",{style:{display:"block",width:"min-content"},children:Object(he.jsx)(pn,{value:j,renderAs:"svg",size:178})})]})})});function P(e){for(var t=window.open("","","height=1024, width=1024"),n=function(e){var t=e.indexOf("0"),n=hn(e.substr(0,t));return[hn(e.substr(t+1)),n]}(hn(B)),r=j.split(","),a=e;a>0;a--){r[0]=n[0]+"0"+a;var i=Object(Be.renderToString)(Object(he.jsxs)("div",{style:{width:"50mm",height:"64mm"},children:[Object(he.jsx)(pn,{value:r[0]+","+r[1],style:{height:"44mm",width:"44mm",margin:"3mm"},renderAs:"svg"}),Object(he.jsx)("p",{style:{margin:10},children:r[0]})]}));null===t||void 0===t||t.document.write(String(i))}t&&(t.document.body.style.margin="0",t.document.close(),t.print())}},fn=n(1),xn=n(21),On=n(595),yn=n(166),gn=n(90),vn=n.n(gn),kn=n(591),_n=n(584);function Sn(e){var t=e.machine_id,n=e.type,a=Object(r.useState)(null),i=Object(p.a)(a,2),l=i[0],c=i[1],s=Object(r.useState)(null),d=Object(p.a)(s,2),u=(d[0],d[1]);Object(o.d)((function(e){return e.auth.user}));return Object(r.useEffect)((function(){!function(){switch(n){case jn.arm:xt(t).then((function(e){e.length>0&&(c(e),u(null===e||void 0===e?void 0:e.reduce((function(e,t){return e.row_created_date>t.row_created_date?e:t}))))}));break;case jn.fan:yt(t).then((function(e){e.length>0&&(c(e),u(null===e||void 0===e?void 0:e.reduce((function(e,t){return e.row_created_date>t.row_created_date?e:t}))))}));break;case jn.chassis:vt(t).then((function(e){e.length>0&&(c(e),u(null===e||void 0===e?void 0:e.reduce((function(e,t){return e.row_created_date>t.row_created_date?e:t}))))}))}}()}),[t]),l?Object(he.jsx)(_n.a,{style:{marginBottom:5},title:n==jn.arm?"Kol \u0130\u015flem Ge\xe7mi\u015fi":n==jn.chassis?"\u015ease \u0130\u015flem Ge\xe7mi\u015fi":"Fan \u0130\u015flem Ge\xe7mi\u015fi",children:Object(he.jsx)(kn.a,{mode:"left",style:{width:"100%"},children:null===l||void 0===l?void 0:l.map((function(e){return Object(he.jsxs)(kn.a.Item,{label:W(e.row_created_date),children:[Object(he.jsx)("p",{children:Object(he.jsx)("b",{children:J(e.location)})}),Object(he.jsx)("p",{children:"G\xf6nderen: ".concat(e.name," ").concat(e.surname)})]},"timelinekey"+e.row_created_date)}))})}):null}!function(e){e[e.arm=0]="arm",e[e.fan=1]="fan",e[e.chassis=2]="chassis"}(jn||(jn={}));var wn=function(e){var t=e.isVisible,n=e.setIsVisible,a=e.machine_id,i=e.serial_number,l=Object(r.useState)(null),c=Object(p.a)(l,2),s=c[0],d=c[1],u=Object(r.useState)(null),m=Object(p.a)(u,2),h=m[0],j=m[1],b=Object(o.d)((function(e){return e.auth.user}));function f(){bt(a).then((function(e){e&&(d(e),j(null===e||void 0===e?void 0:e.reduce((function(e,t){return e.row_created_date>t.row_created_date?e:t}))))}))}return Object(r.useEffect)((function(){f()}),[a]),Object(he.jsx)(vn.a,{title:i+" Numaral\u0131 Makinenin \u0130\u015flem Ge\xe7mi\u015fi",visible:t,footer:null,onCancel:function(){return n(!1)},children:Object(he.jsx)("div",{style:{display:"flex",width:"100%",alignContent:"center",alignItems:"center",justifyContent:"center"},children:s?Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(he.jsx)(_n.a,{title:"Makine \u0130\u015flem Ge\xe7mi\u015fi",style:{marginBottom:5},children:Object(he.jsx)(kn.a,{mode:"left",style:{width:"100%"},children:null===s||void 0===s?void 0:s.map((function(e){return Object(he.jsxs)(kn.a.Item,{label:W(e.row_created_date),children:[Object(he.jsx)("p",{children:Object(he.jsx)("b",{children:J(e.location)})}),Object(he.jsx)("p",{children:"G\xf6nderen: ".concat(e.name," ").concat(e.surname)})]},"timelinekey"+e.row_created_date)}))})}),Object(he.jsx)(Sn,{machine_id:a,type:jn.chassis}),Object(he.jsx)(Sn,{machine_id:a,type:jn.fan}),Object(he.jsx)(Sn,{machine_id:a,type:jn.arm}),"admin"===b.role&&"onaybekliyor"!==(null===h||void 0===h?void 0:h.location)&&"iptal"!==(null===h||void 0===h?void 0:h.location)?Object(he.jsx)(F.a,{title:"Bu sipari\u015fi bir \xf6nceki konuma g\xf6ndermek istedi\u011finizden emin misiniz?",onConfirm:function(){(function(e){return Kt.apply(this,arguments)})(a).then((function(e){e&&f()}))},okText:"Evet",cancelText:"Hay\u0131r",children:Object(he.jsx)(D.a,{style:{marginBottom:10},type:"primary",children:"Bir \xd6nceki Konuma Geri G\xf6nder"})}):null]}):Object(he.jsx)(ze.a,{size:"large"})})})},Tn=n(69),Cn=n.n(Tn),In=n(159),Mn=n.n(In),An=n.p+"static/media/kase.64df1020.jpg",zn=n(25),Bn=function(e){var t,n,r,a=e.item,i=new Date,l=i.getFullYear(),o=i.getMonth()+1,c=i.getDate(),s="".concat(c,"/").concat(o,"/").concat(l),d=[{key:null!==(t=null===a||void 0===a?void 0:a.id)&&void 0!==t?t:"-",name:null!==(n=null===a||void 0===a?void 0:a.description)&&void 0!==n?n:"-",quantity:null!==(r=null===a||void 0===a?void 0:a.order_amount)&&void 0!==r?r:"-",unit:"ADET",price:a.price?((null===a||void 0===a?void 0:a.price)/1.1).toFixed(3):"-",totalPrice:null!==a&&void 0!==a&&a.price?((null===a||void 0===a?void 0:a.price)*a.order_amount/1.1).toFixed(3):"-"}];return Object(he.jsx)(zn.StyleProvider,{hashPriority:"high",children:Object(he.jsxs)("div",{style:{padding:"1cm",width:"21cm",height:"29.7cm",display:"flex",flexDirection:"column"},children:[Object(he.jsxs)("header",{style:{display:"flex",alignItems:"center",height:"100px"},children:[Object(he.jsx)("div",{style:{flex:1},children:Object(he.jsx)("img",{width:"70",height:"70",src:"agrotek.png",alt:"logo"})}),Object(he.jsx)("div",{style:{flex:1,textAlign:"justify",fontWeight:"bold"},children:"AGROTEK \u0130LA\xc7LAMA MAK\u0130NALARI VE TARIM TEKNOLOJ\u0130LER\u0130 \u0130THALAT \u0130HRACAT ZIRA\u0130 \xdcR\xdcNLER SANAY\u0130 T\u0130CARET LTD. \u015eT\u0130."})]}),Object(he.jsxs)("span",{style:{alignSelf:"end"},children:["Tarih: ",s]}),Object(he.jsx)("span",{style:{alignSelf:"center",marginTop:"0.5cm",marginBottom:"10px"},children:"Z\u0130RAAT BANKASI"}),Object(he.jsx)("span",{style:{alignSelf:"center",marginBottom:"6px"},children:"BANKA \u015eUBES\u0130"}),Object(he.jsxs)("span",{children:["Sn. ",null===a||void 0===a?void 0:a.customer," a\u015fa\u011f\u0131da a\xe7\u0131klamalar\u0131 yaz\u0131l\u0131 olan ila\xe7lama makinesini firmam\u0131zdan talep etmektedir."]}),Object(he.jsxs)("span",{children:["Sn. ",null===a||void 0===a?void 0:a.customer,"'\xfcn bu talebinin ger\xe7ekle\u015ftirilmesi i\xe7in gerekli i\u015flemlerin yap\u0131lmas\u0131n\u0131 arz ederiz."]}),Object(he.jsx)("span",{style:{marginBottom:"10px"},children:"Sayg\u0131lar\u0131m\u0131zla"}),Object(he.jsx)("span",{style:{alignSelf:"end",marginRight:"1cm",marginBottom:"0.5cm"},children:"Agrotek \u0130la\xe7lama Mak. LTD. \u015eT\u0130."}),Object(he.jsx)("span",{style:{display:"flex",alignSelf:"end",height:"100px",marginBottom:"10px"},children:Object(he.jsx)("img",{style:{height:"2.28cm",width:"7.57cm"},src:An,alt:"logo"})}),Object(he.jsx)("span",{style:{fontWeight:"bolder",alignSelf:"center",marginBottom:"2rem"},children:"PROFORMA FATURA"}),Object(he.jsxs)("div",{style:{width:"100%",border:"1px solid black",display:"flex",boxSizing:"border-box"},children:[Object(he.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[Object(he.jsxs)("span",{children:["Say\u0131n :",a.customer]}),Object(he.jsxs)("span",{children:["Adres : ",a.address]}),Object(he.jsx)("span",{}),Object(he.jsx)("span",{}),Object(he.jsx)("span",{children:"Vergi No / tc no : -"}),Object(he.jsxs)("span",{children:["Telefon : ",a.phone_number]})]}),Object(he.jsxs)("div",{style:{flex:1,padding:"5px",display:"flex",flexDirection:"column",borderLeft:"1px solid black"},children:[Object(he.jsx)("span",{children:"AGROTEK \u0130LA\xc7LAMA MAK\u0130NALARI VE TARIM TEKN.\u0130TH.\u0130HR.Z\u0130RA\u0130 \xdcR\xdcNLER SAN.T\u0130C.LTD.\u015eT\u0130."}),Object(he.jsx)("span",{children:"HACIRAHMANLI MH. \u0130ST\u0130KLAL CD.(K\xdcME EVLER) NO:20"}),Object(he.jsx)("span",{children:"SARUHANLI / MAN\u0130SA"}),Object(he.jsx)("span",{children:"Z\u0130RAAT BANKASI / SARUHANLI \u015eB. / \u015eB.KODU: 622"}),Object(he.jsx)("span",{children:"IBAN: TR84 001 0006 2253 4366 4350 01"})]})]}),Object(he.jsxs)("div",{style:{display:"flex",border:"1px solid black",marginTop:"1rem"},children:[Object(he.jsxs)("div",{style:{flex:1,display:"flex"},children:[Object(he.jsxs)("div",{style:{display:"flex",flex:1,flexDirection:"column",borderRight:"1px solid black"},children:[Object(he.jsx)("span",{style:{textAlign:"center",borderBottom:"1px solid black",padding:"5px"},children:"TAR\u0130H"}),Object(he.jsx)("span",{style:{textAlign:"center",padding:"13px"},children:s})]}),Object(he.jsxs)("div",{style:{flex:1,flexDirection:"column",display:"flex",borderRight:"1px solid black"},children:[Object(he.jsx)("span",{style:{textAlign:"center",borderBottom:"1px solid black",padding:"5px"},children:"PROFORMA FATURA NUMARASI"}),Object(he.jsx)("span",{style:{textAlign:"center",padding:"13px"},children:null===a||void 0===a?void 0:a.order_no})]})]}),Object(he.jsxs)("div",{style:{flex:1,display:"flex"},children:[Object(he.jsxs)("div",{style:{display:"flex",flex:1,flexDirection:"column"},children:[Object(he.jsx)("span",{style:{textAlign:"center",borderBottom:"1px solid black",borderRight:"1px solid black",padding:"5px"},children:"RUHSAT TAR\u0130H / NO"}),Object(he.jsxs)("div",{style:{display:"flex",alignItems:"center",textAlign:"center",borderRight:"1px solid black",height:"100%"},children:[Object(he.jsx)("span",{style:{flex:1},children:"4/20/2022"}),Object(he.jsx)("div",{style:{width:"1px",height:"100%",backgroundColor:"black"}}),Object(he.jsx)("span",{style:{flex:1},children:"3058"})]})]}),Object(he.jsxs)("div",{style:{display:"flex",flex:1,flexDirection:"column"},children:[Object(he.jsx)("span",{style:{textAlign:"center",borderBottom:"1px solid black",borderRight:"1px solid black",padding:"5px"},children:"DENEY RAPORU NO"}),Object(he.jsx)("div",{style:{display:"flex",alignItems:"center",padding:"5px",textAlign:"center",borderRight:"1px solid black",height:"30px"},children:Object(he.jsx)("span",{style:{flex:1},children:"2022/11499-TMM.036"})})]}),Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(he.jsx)("span",{style:{textAlign:"center",borderBottom:"1px solid black",padding:"5px"},children:"SAYFA"}),Object(he.jsx)("div",{style:{display:"flex",alignItems:"center",padding:"5px",textAlign:"center",height:"30px"},children:Object(he.jsx)("span",{style:{flex:1},children:"1/1"})})]})]})]}),Object(he.jsx)(Y.a,{style:{marginTop:"1rem"},columns:[{title:"\xdcR\xdcN C\u0130NS\u0130",dataIndex:"name",width:"12cm"},{title:"B\u0130R\u0130M",dataIndex:"unit"},{title:"ADET",dataIndex:"quantity"},{title:"B\u0130R\u0130M F\u0130YAT",dataIndex:"price",width:"3cm"},{title:"TUTAR",dataIndex:"totalPrice",width:"4cm"}],dataSource:d,bordered:!0,footer:function(){return Object(he.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",fontWeight:"bold"},children:Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(he.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:"12rem",marginTop:"0.5cm",borderBottom:"1px solid black"},children:[Object(he.jsx)("span",{children:"%10 KDV"}),Object(he.jsxs)("span",{children:[a.price?(a.price*a.order_amount/11).toFixed(3):"-"," ","TL"]})]}),Object(he.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:"12rem",borderBottom:"1px solid black"},children:[Object(he.jsx)("span",{children:"G.TOPLAM"}),Object(he.jsxs)("span",{children:[a.price?(a.price*a.order_amount).toFixed(3):"-"," ","TL"]})]})]})})},pagination:!1}),Object(he.jsx)("span",{style:{textDecoration:"underline",marginTop:"1rem",fontSize:"14px"},children:"NOT: \u0130LA\xc7LAMA MAK\u0130NALARI KORUMA KONTROL GENEL MD.\u2019NE BA\u011eLI OLARAK RUHSATLI VE DENEY RAPORLU OLDU\u011eUNDAN AYRICA Z\u0130RA\u0130 KRED\u0130LEND\u0130RME BELGES\u0130 \u0130STENMEMEKTED\u0130R."}),Object(he.jsx)("span",{style:{textDecoration:"underline",marginTop:"1rem",fontWeight:"bold",fontSize:"14px"},children:"**** KRED\u0130N\u0130N ONAYLANMASI HAL\u0130NDE PROFORMA FATURADA G\xd6R\xdcNEN T\xdcM BEDEL\u0130N HESABIMIZA TRANSFER\u0130N\u0130 R\u0130CA EDER\u0130Z."}),Object(he.jsx)("span",{style:{textDecoration:"underline",marginTop:"1rem",fontWeight:"bold"},children:"**** PROFORMA FATURA HAZIRLANMA TAR\u0130H\u0130NDEN \u0130T\u0130BAREN 14 G\xdcN GE\xc7ERL\u0130D\u0130R."})]})})},Fn=function(e){var t,n,r,a,i,l,o,c,s,d,m,h,j,b=e.item,f=JSON.parse(null!==(t=localStorage.getItem("config"))&&void 0!==t?t:"{}"),x=new Date,O=x.getFullYear(),y=x.getMonth()+1,g=x.getDate(),v="".concat(g,"/").concat(y,"/").concat(O),k=Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({"\xdcr\xfcn":b.description,Marka:null===(n=f.brand.filter((function(e){return e.type===b.brand}))[0])||void 0===n?void 0:n.text,Tip:null!==(r=f.type.filter((function(e){return e.type===b.type}))[0])&&void 0!==r&&r.text?null===(a=f.type.filter((function(e){return e.type===b.type}))[0])||void 0===a?void 0:a.text:null===(i=f.machine_type.filter((function(e){return e.type===b.type}))[0])||void 0===i?void 0:i.text},b.cooler_type&&{"Fan Tipi":null===(l=f.cooler_type.filter((function(e){return e.type===b.cooler_type}))[0])||void 0===l?void 0:l.text}),b.tank_size&&{"Kazan Boyutu":b.tank_size+" LT"}),b.pump&&{Pompa:null===(o=f.pump.filter((function(e){return e.type===b.pump}))[0])||void 0===o?void 0:o.text}),b.tank_size&&{"Kazan Boyutu":b.tank_size+" LT"}),b.meme_type&&{"Meme Tipi":null===(c=f.meme_type.filter((function(e){return e.type===b.meme_type}))[0])||void 0===c?void 0:c.text}),b.meme_distance&&{"Meme Aral\u0131\u011f\u0131":b.meme_distance}),b.tow_type&&{"\xc7eki Tipi":null===(s=f.tow_type.filter((function(e){return e.type===b.tow_type}))[0])||void 0===s?void 0:s.text}),b.arm_type&&{"Kol Tipi":null===(d=f.arm_type.filter((function(e){return e.type===b.arm_type}))[0])||void 0===d?void 0:d.text}),b.arm_length&&{"Kol Uzunlu\u011fu":b.arm_length}),{},{"\u015ease Rengi":null===(m=f.chassis_color.filter((function(e){return e.type===b.chassis_color}))[0])||void 0===m?void 0:m.text,"Kazan Rengi":U(b.caldron_color),"Kazan Tipi":null===(h=f.caldron_type.filter((function(e){return e.type===b.caldron_type}))[0])||void 0===h?void 0:h.text,Kumanda:null===(j=f.commander.filter((function(e){return e.type===b.commander}))[0])||void 0===j?void 0:j.text,"Ek \xd6zellikler":b.alt_features});return Object(he.jsxs)("div",{style:{width:"21cm",height:"29.7cm"},children:[Object(he.jsxs)("div",{style:{border:"1px solid black",marginRight:"4px"},children:[Object(he.jsxs)("div",{style:{display:"flex",borderBottom:"1px solid black",gap:"0.5cm",padding:"0.3cm",justifyContent:"space-evenly",alignItems:"center"},children:[Object(he.jsx)("img",{width:"40",height:"40",src:"agrotek.png",alt:"logo"}),Object(he.jsxs)("div",{style:{display:"flex",gap:"0.5cm",alignItems:"center"},children:[Object(he.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[Object(he.jsx)("span",{children:"\xc7\u0130FT\xc7\u0130"}),Object(he.jsx)("div",{style:{border:"1px solid orange",height:"15px",width:"30px"}})]}),Object(he.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[Object(he.jsx)("span",{children:"BAY\u0130"}),Object(he.jsx)("div",{style:{border:"1px solid orange",height:"15px",width:"30px"}})]}),Object(he.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[Object(he.jsx)("span",{children:"KURUMSAL"}),Object(he.jsx)("div",{style:{border:"1px solid orange",height:"15px",width:"30px"}})]})]}),Object(he.jsxs)("span",{children:["S\xd6ZLE\u015eME TAR\u0130H\u0130: ",v," "]}),Object(he.jsxs)("span",{children:["SER\u0130 NO: ",null===b||void 0===b?void 0:b.serial_number]}),Object(he.jsxs)("span",{children:["PLAS\u0130YER: ",Object(he.jsx)("br",{})]})]}),Object(he.jsxs)("div",{style:{display:"flex"},children:[Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:1},children:[Object(he.jsx)("span",{style:{textAlign:"center"},children:"M\xdc\u015eTER\u0130N\u0130N AD-SOYAD/\xdcNVANI:"}),Object(he.jsx)("span",{style:{textAlign:"center",borderTop:"1px solid black",height:"32px"},children:"M\xdc\u015eTER\u0130N\u0130N ADRES\u0130 / TEL NO:"}),Object(he.jsx)("span",{style:{textAlign:"center",borderTop:"1px solid black",height:"32px"},children:"MAK\u0130NE ADI:"}),Object(he.jsx)("span",{style:{textAlign:"center",borderTop:"1px solid black",height:"32px"},children:"SATI\u015e \u015eEKL\u0130:"}),Object(he.jsx)("span",{style:{textAlign:"center",borderTop:"1px solid black",borderBottom:"1px solid black"},children:"TAHS\u0130LAT VADES\u0130:"}),Object(he.jsx)("br",{}),Object(he.jsx)("br",{})]}),Object(he.jsx)("div",{style:{backgroundColor:"black",width:"1px",height:"166px"}}),Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:3},children:[Object(he.jsx)("span",{style:{paddingLeft:"20px"},children:null===b||void 0===b?void 0:b.customer}),Object(he.jsxs)("span",{style:{paddingLeft:"20px",height:"32px",borderTop:"1px solid black"},children:[null===b||void 0===b?void 0:b.address," / ",null===b||void 0===b?void 0:b.phone_number]}),Object(he.jsxs)("div",{style:{textAlign:"center",borderTop:"1px solid black",height:"32px",maxHeight:"32px",display:"flex",justifyContent:"space-evenly"},children:[Object(he.jsxs)("span",{style:{whiteSpace:"break-spaces",fontWeight:"bold"},children:["ADET ",Object(he.jsx)("br",{}),Object(he.jsxs)("span",{style:{fontWeight:"normal"},children:[null===b||void 0===b?void 0:b.order_amount," AD."]})]}),Object(he.jsx)("div",{style:{backgroundColor:"black",width:"1px",height:"32px"}}),Object(he.jsx)("div",{style:{},children:Object(he.jsxs)("span",{style:{fontWeight:"bold"},children:["F\u0130YAT",Object(he.jsx)("br",{}),Object(he.jsxs)("span",{style:{fontWeight:"normal"},children:[b.price.toFixed(3)," TL"]})]})}),Object(he.jsx)("div",{style:{backgroundColor:"black",width:"1px",height:"32px"}}),Object(he.jsx)("div",{style:{},children:Object(he.jsxs)("span",{style:{fontWeight:"bold",whiteSpace:"break-spaces"},children:["TUTAR ",Object(he.jsx)("br",{}),Object(he.jsxs)("span",{style:{fontWeight:"normal"},children:[(b.order_amount*b.price).toFixed(3)," TL"]})]})}),Object(he.jsx)("div",{style:{backgroundColor:"black",width:"1px",height:"32px"}}),Object(he.jsx)("span",{style:{marginTop:"-16px",textDecoration:"underline"},children:"\xd6ZEL NOTLAR"})]}),Object(he.jsxs)("div",{style:{textAlign:"center",borderTop:"1px solid black",display:"flex",height:"32px"},children:[Object(he.jsxs)("div",{style:{display:"flex",gap:"5px",marginTop:"0.2cm",marginLeft:"0.7cm"},children:[Object(he.jsx)("span",{children:"NAK\u0130T"}),Object(he.jsx)("div",{style:{border:"1px solid orange",height:"15px",width:"30px"}})]}),Object(he.jsxs)("div",{style:{display:"flex",gap:"5px",marginLeft:"1.4cm",marginTop:"0.2cm"},children:[Object(he.jsx)("span",{children:"Z\u0130RA\u0130 KRED\u0130"}),Object(he.jsx)("div",{style:{border:"1px solid orange",height:"15px",width:"30px"}})]}),Object(he.jsxs)("div",{style:{display:"flex",gap:"5px",marginLeft:"1.2cm",marginTop:"0.2cm"},children:[Object(he.jsx)("span",{children:"C/H"}),Object(he.jsx)("div",{style:{border:"1px solid orange",height:"15px",width:"30px"}})]}),Object(he.jsxs)("div",{style:{display:"flex",gap:"5px",marginLeft:"1.8cm",marginTop:"0.2cm"},children:[Object(he.jsx)("span",{children:"\xc7EK"}),Object(he.jsx)("div",{style:{border:"1px solid orange",height:"15px",width:"30px"}})]})]}),Object(he.jsxs)("div",{style:{textAlign:"center",borderTop:"1px solid black",display:"flex"},children:[Object(he.jsx)("span",{style:{flex:2,borderRight:"1px solid black"},children:"\xd6DEME TAR\u0130H\u0130"}),Object(he.jsx)("span",{style:{flex:1,borderRight:"1px solid black"},children:"TUTAR"}),Object(he.jsx)("span",{style:{flex:2},children:"KALAN BAK\u0130YE"})]}),Object(he.jsxs)("div",{style:{height:"32px",textAlign:"center",borderTop:"1px solid black",display:"flex"},children:[Object(he.jsx)("span",{style:{height:"37px",flex:2,borderBottom:"1px solid black",borderRight:"1px solid black"}}),Object(he.jsx)("span",{style:{height:"37px",flex:1,borderBottom:"1px solid black",borderRight:"1px solid black"}}),Object(he.jsx)("span",{style:{height:"37px",flex:2,borderBottom:"1px solid black"}})]})]})]})]}),Object(he.jsx)("div",{style:{padding:"1rem",paddingBottom:0,textAlign:"justify"},children:Object(he.jsxs)("span",{children:["1-1-Makina, \u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026 \u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026. adresinde ALICIYA teslim edilecektir. Ta\u015f\u0131ma ve Nakliye Bedeli \u2026..\u2026\u2026. ait olup, bu nedenle olu\u015facak hasarlar da \u2026\u2026\u2026\u2026\u2026. sorumlulu\u011fundad\u0131r. Makina\u2019n\u0131n teslimi ile sorumluluk ALICIYA ge\xe7er.",Object(he.jsx)("br",{})," 2-Makina 2 y\u0131l boyunca SATICININ garantisi alt\u0131nda olup bu s\xfcre i\xe7erisinde makinan\u0131n servis ve bak\u0131mlar\u0131 \xfccretsiz olarak yap\u0131lacakt\u0131r. Sonraki y\u0131llarda makinan\u0131n servis ve bak\u0131m\u0131ndan \xfccret al\u0131nabilece\u011fini ALICI kabul eder. Makinan\u0131n teslimi ile birlikte, makinan\u0131n kurulum ve kullan\u0131mla ilgili olarak ALICI\u2019ya e\u011fitim verilecektir. Hatal\u0131 kullan\u0131mdan do\u011fan ar\u0131zalar garanti kapsam\u0131 d\u0131\u015f\u0131ndad\u0131r.",Object(he.jsx)("br",{})," 3-Nakit sat\u0131mlarda, ALICI\u2019dan pe\u015finat al\u0131n\u0131r, kalan bedel en ge\xe7 makinan\u0131n teslim g\xfcn\xfc ALICI taraf\u0131ndan SATICI\u2019ya \xf6denecektir. Bedelin \xf6denmemesi halinde makina, SATICI taraf\u0131ndan ALICI\u2019ya teslim edilmez.",Object(he.jsx)("br",{})," 4-Makina \u2026\u2026\u2026.. tarihinde ALICI\u2019ya teslim edilecektir. SATICI\u2019n\u0131n teslimdeki 1 ayl\u0131k gecikmesinin, ola\u011fan oldu\u011funu ALICI ba\u015ftan kabul etmektedir. ALICI\u2019n\u0131n; en ge\xe7 \u2026\u2026\u2026\u2026. tarihine kadar makinay\u0131 teslim almamas\u0131 halinde, ALICI ; makina bedelini bu tarihten itibaren i\u015fleyecek ticari temerr\xfct faizi ile tazmin etmekle y\xfck\xfcml\xfc olaca\u011f\u0131n\u0131 kabul ve taahh\xfct eder.",Object(he.jsx)("br",{}),"5-ALICI; makina\u2019n\u0131n teslimi an\u0131nda makinan\u0131n ba\u015f\u0131nda foto\u011fraflar\u0131n\u0131n \xe7ekilmesini ve bunun SATICI\u2019ya ait sosyal medya hesaplar\u0131nda ad-soyad ve il bilgisi ile payla\u015f\u0131lmas\u0131n\u0131 a\xe7\u0131k r\u0131zas\u0131 ile kabul etmi\u015f olup, bunun ki\u015fisel veri ihlali olmad\u0131\u011f\u0131n\u0131 ve olmayaca\u011f\u0131n\u0131 kabul ve beyan etmi\u015ftir.",Object(he.jsx)("br",{})," 6-SATICI; 6698 Say\u0131l\u0131 Ki\u015fisel Verilerin Korunmas\u0131 Kanunu\u2019nun 10.maddesi gere\u011fi Ayd\u0131nlatma Metnini ALICI\u2019ya arz etmektedir. SATICI\u2019n\u0131n veri sorumlusu Agrotek \u0130la\xe7lama Makinalar\u0131 Ve Tar\u0131m Tek.\u0130th.\u0130hr.Zirai \xdcr\xfcnler San.Tic. Ltd. \u015eti. olup, a\u015fa\u011f\u0131daki ka\u015fe ve imza b\xf6l\xfcm\xfcnde adres, vergi dairesi ve numaras\u0131, mersis numaras\u0131 ve telefon ve fax numaralar\u0131 bulunmaktad\u0131r. SATICI ; i\u015fbu s\xf6zle\u015fme kapsam\u0131nda ALICI\u2019n\u0131n ad ve soyad\u0131n\u0131, \xfcnvan\u0131n\u0131, T.C. Kimlik Numaras\u0131n\u0131, adres bilgisini, vergi kimlik numaras\u0131n\u0131 ve foto\u011fraf\u0131n\u0131 i\u015fleyecektir. \u0130\u015fbu ki\u015fisel veriler SATICI taraf\u0131ndan faturaland\u0131rma, \xfcr\xfcn teslimi, e\u011fitim hizmet takibi,garanti takibi, \xfcr\xfcn takibi, reklam ve tan\u0131t\u0131m sebepleri ile i\u015flenecektir. Ki\u015fisel veri i\u015fleme s\xfcresi 10 senedir. Ki\u015fisel Verilerden ALICI\u2019n\u0131n ad\u0131-soyad\u0131, bulundu\u011fu il ve makina ile \xe7ekilmi\u015f foto\u011fraflar\u0131 SATICI\u2019n\u0131n sosyal medya hesaplar\u0131nda payla\u015f\u0131lacakt\u0131r. ALICININ ad ve soyad, \xfcnvan, T.C. Kimlik Numaras\u0131, adres bilgisi, vergi kimlik numaras\u0131 gibi ki\u015fisel verileri faturaland\u0131rma s\xfcreci ile ilgili olarak, Vergi Dairesi, Tar\u0131m \u0130l M\xfcd\xfcrl\xfc\u011f\xfc, Sanayi ve Ticaret Bakanl\u0131\u011f\u0131, Hazine ve Maliye Bakanl\u0131\u011f\u0131 ve sair resmi kurumlarla payla\u015f\u0131lmaktad\u0131r. 6698 say\u0131l\u0131 Kanun\u2019un 11.maddesi uyar\u0131nca SATICI; ALICI\u2019y\u0131 \u201cKi\u015fisel verilerinin i\u015flenip i\u015flenmedi\u011fini \xf6\u011frenme,ki\u015fisel verileri i\u015flenmi\u015fse buna ili\u015fkin bilgi talep etme, ki\u015fisel verilerinin i\u015flenme amac\u0131n\u0131 ve bunlar\u0131n amac\u0131na uygun kullan\u0131l\u0131p kullan\u0131lmad\u0131\u011f\u0131n\u0131 \xf6\u011frenme, yurt i\xe7inde veya yurt d\u0131\u015f\u0131nda ki\u015fisel verilerinin aktar\u0131ld\u0131\u011f\u0131 \xfc\xe7\xfcnc\xfc ki\u015fileri bilme, ki\u015fisel verilerin eksik veya yanl\u0131\u015f i\u015flenmi\u015f olmas\u0131 h\xe2linde bunlar\u0131n d\xfczeltilmesini isteme, ki\u015fisel verilerin silinmesini veya yok edilmesini isteme, ki\u015fisel verilerin d\xfczeltilmesi, silinmesi veya yok edilmesine ili\u015fkin i\u015flemlerin ki\u015fisel verilerin aktar\u0131ld\u0131\u011f\u0131 \xfc\xe7\xfcnc\xfc ki\u015filere bildirilmesini isteme, i\u015flenen verilerin m\xfcnhas\u0131ran otomatik sistemler vas\u0131tas\u0131yla analiz edilmesi suretiyle aleyhine bir sonucun ortaya \xe7\u0131kmas\u0131na itiraz etme,ki\u015fisel verilerinin kanuna ayk\u0131r\u0131 olarak i\u015flenmesi sebebiyle zarara u\u011framas\u0131 h\xe2linde zarar\u0131n giderilmesini talep etme\u201d haklar\u0131na sahip oldu\u011fu konusunda a\xe7\u0131k\xe7a bilgilendirmi\u015ftir."]})}),Object(he.jsxs)("div",{style:{padding:"1rem",paddingBottom:0,display:"flex",gap:"24rem"},children:[Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",fontWeight:"bold"},children:[Object(he.jsx)("span",{children:"FATURA NO :"}),Object(he.jsx)("span",{children:"\u0130RSAL\u0130YE NO :"})]}),Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",fontWeight:"bold"},children:[Object(he.jsx)("span",{children:"SEVK TAR\u0130H\u0130 :"}),Object(he.jsx)("span",{children:"ARA\xc7 B\u0130LG\u0130S\u0130 :"})]})]}),Object(he.jsxs)("div",{style:{padding:"1rem",marginTop:"1rem",display:"flex",gap:"3rem"},children:[Object(he.jsxs)("span",{style:{border:"1px solid black",padding:"4px",height:"20px",whiteSpace:"nowrap"},children:["SER\u0130 NO: ",b.serial_number]}),Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:"-1.2rem"},children:[Object(he.jsx)("span",{children:"SATICI KA\u015eE / \u0130MZA"}),Object(he.jsx)("textarea",{cols:"25",rows:"5"})]}),Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:"-1.2rem"},children:[Object(he.jsx)("span",{children:"ALICI AD-SOYAD / \u0130MZA"}),Object(he.jsx)("textarea",{cols:"25",rows:"5"})]})]}),Object(he.jsx)("span",{style:{marginLeft:"1cm",textDecoration:"underline",fontWeight:"bold",whiteSpace:"nowrap"},children:"SATI\u015eA KONU MAK\u0130NE KONF\u0130GRASYONU"}),Object(he.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginRight:"10%"},children:[Object(he.jsx)("div",{children:Object(he.jsx)("ul",{children:Object.entries(k).map((function(e){var t=Object(p.a)(e,2),n=t[0],r=t[1];return Object(he.jsxs)("li",{children:[Object(he.jsxs)("strong",{children:[n,":"]})," ",r]},n)}))})}),Object(he.jsx)("span",{style:{border:"1px solid black",width:"400px",height:"200px",padding:"4px"},children:"NOTLAR:"})]}),Object(he.jsx)("div",{style:{paddingLeft:"0.5cm"},children:Object(he.jsxs)("span",{children:["Sipari\u015finizi ",Object(he.jsx)("strong",{children:"takip.covisart.com.tr"})," adresinden"," ",Object(he.jsx)("strong",{children:b.customer})," m\xfc\u015fteri ad\u0131 ve"," ",Object(he.jsx)("strong",{children:b.order_no})," sipari\u015f numaras\u0131 ile takip edebilirsiniz."]})})]})};V.a.extend(Mn.a),V.a.locale("tr");var Dn=n(67);function Rn(e,t){if(t)return Object(he.jsxs)("div",{style:{display:"flex"},children:[Object(he.jsxs)("p",{style:{fontWeight:"bold",marginRight:"5px"},children:[e,":"]}),Object(he.jsx)("p",{children:t})]})}var Ln,Pn=function(e){Object(I.a)(r,e);var t=Object(M.a)(r);function r(e){var n,a;return Object(T.a)(this,r),(a=t.call(this,e)).configFile=JSON.parse(null!==(n=localStorage.getItem("config"))&&void 0!==n?n:"{}"),a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,i=t.confirm,l=t.clearFilters;return Object(he.jsxs)("div",{style:{padding:8},children:[Object(he.jsx)(pe.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(r,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(he.jsx)(D.a,{type:"primary",onClick:function(){return a.handleSearch(r,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(he.jsx)(D.a,{onClick:function(){return a.handleReset(l)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(he.jsx)(yn.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){var r,a,i;return null===(r=n[e])||void 0===r||null===(a=r.toString())||void 0===a||null===(i=a.toLowerCase())||void 0===i?void 0:i.includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(e){return e}}},a.handleSearch=function(e,t,n){t(),a.setState({searchText:e[0],searchedColumn:n})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.onChange=function(e){a.setState({keepMachineDetails:!!e})},a.state={movableMachines:[],orderModalVisible:!1,keepMachineDetails:!1,csvdata:[["Seri No","Sipari\u015f No","Sipari\u015f Tarihi","M\xfc\u015fteri","Telefon","Adres","Sipari\u015f Alan","Durum"]],orderDetails:{},loading:!1,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(u.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no.localeCompare(t.order_no)}},a.getColumnSearchProps("order_no")),Object(u.a)({title:"M\xfc\u015fteri",dataIndex:"customer",sorter:function(e,t){return e.customer.localeCompare(t.customer)}},a.getColumnSearchProps("customer")),Object(u.a)({title:"Telefon No",dataIndex:"phone_number"},a.getColumnSearchProps("phone_number")),Object(u.a)({title:"Lokasyon",dataIndex:"address"},a.getColumnSearchProps("address")),Object(u.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},a.getColumnSearchProps("serial_number")),Object(u.a)(Object(u.a)({title:"\xdcr\xfcn Tipi",dataIndex:"production_unit",sorter:function(e,t){return e.production_unit.localeCompare(t.production_unit)}},a.getColumnSearchProps("production_unit")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Miktar",sorter:function(e,t){return e.pending_amount-t.pending_amount}},a.getColumnSearchProps("order_amount")),{},{render:function(e,t){return Object(he.jsx)("td",{style:{cursor:"pointer"},onClick:function(){ht(t.id).then((function(e){var n=e.reduce((function(e,t){var n=J(t.location);return e[n]?e[n]=e[n]+1:e[n]=1,e}),{});B.a.success({title:t.order_no+" Numaral\u0131 Sipari\u015fin Durumu",content:Object(he.jsx)("p",{children:Object.keys(n).map((function(e){return Object(he.jsx)("p",{children:e+" : "+n[e]})}))}),okText:"Tamam"})}))},children:String(t.order_amount-t.pending_amount)+"/"+t.order_amount})}}),Object(u.a)({title:"Sipari\u015f Tarihi",dataIndex:"date",sorter:function(e,t){return V()(e.date,"D MMMM YYYY, HH:mm").unix()-V()(t.date,"D MMMM YYYY, HH:mm").unix()}},a.getColumnSearchProps("date")),Object(u.a)(Object(u.a)({title:"Sipari\u015f Alan",dataIndex:"order_tooker",sorter:function(e,t){return e.order_tooker.localeCompare(t.order_tooker)}},a.getColumnSearchProps("order_tooker")),{},{render:function(e){return Object(he.jsx)("td",{children:e.toUpperCase()})}}),Object(u.a)(Object(u.a)({title:"Sipari\u015f Durumu",dataIndex:"laststatus",sorter:function(e,t){return e.laststatus.localeCompare(t.laststatus)}},a.getColumnSearchProps("laststatus")),{},{render:function(e,t){return Object(he.jsx)("td",{children:"pendingfinance"===t.status?"F\u0130NANS ONAYI BEKL\u0130YOR":null===e||void 0===e?void 0:e.toUpperCase()})}}),Object(u.a)(Object(u.a)({title:"Planlanan Tarih",dataIndex:"planned_date",sorter:function(e,t){return V()(e.planned_date,"D MMMM YYYY, HH:mm").unix()-V()(t.planned_date,"D MMMM YYYY, HH:mm").unix()}},a.getColumnSearchProps("planned_date")),{},{render:function(e){return Object(he.jsx)("td",{children:e?W(e,"D MMMM YYYY"):"Planlanmad\u0131"})}})]},a.componentDidMount=function(){a.GetOrders(),Tt().then((function(e){e&&a.setState({movableMachines:e})}))},a.renderOrderDetails=a.renderOrderDetails.bind(Object(xn.a)(a)),a}return Object(C.a)(r,[{key:"renderOrderDetails",value:function(e){var t=this;return Object.keys(this.state.orderDetails).map((function(r){return r==e.id?t.state.orderDetails[r].map((function(r){var a;return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsxs)("div",{style:{width:"80%",marginTop:30,display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(he.jsxs)("div",{children:[Rn("Seri No",U(r.serial_number)),Rn("Pompa Seri No",U(r.pump_serial)),Rn("Bulundu\u011fu Konum",J(r.location)+(r.comment?" (".concat(r.comment,")"):" ")),Rn("Son \u0130\u015flem Tarihi",W(r.row_created_date)),Rn("Planlama Tarihi",W(r.planned_date))]}),Object(he.jsxs)("div",{style:{width:"min-content"},children:["teslimat"!==r.location&&"iptal"!==r.location&&"admin"==t.props.user.role?Object(he.jsx)(D.a,{style:{marginBottom:10,width:"100%"},type:"primary",onClick:function(){t.setState({orderModalVisible:!0,orderSelected:{serial_number:r.serial_number,order_id:e.id}})},children:"Sipari\u015fi Kayd\u0131r"}):null,Object(he.jsx)(D.a,{style:{marginBottom:10,width:"100%"},onClick:function(){var n=r.serial_number+","+e.description;t.printQRCode(n,r.serial_number)},children:"Qr Kodu Yazd\u0131r"}),Object(he.jsx)(D.a,{style:{marginBottom:10,width:"100%"},onClick:function(){console.log(e.id),t.setState({historyModalVisible:!0,historyModalId:r.id,orderSelected:{serial_number:r.serial_number,order_id:e.id}})},children:"\u0130\u015flem Ge\xe7mi\u015fini G\xf6ster"}),r.test_comment?Object(he.jsx)(D.a,{block:!0,onClick:function(){N.a.get("./finalkontrolformu.xlsx",{responseType:"blob"}).then((function(e){var t=n(140),a=new FileReader;a.readAsArrayBuffer(e.data),a.onload=function(e){var n=new Cn.a.Workbook;n.xlsx.load(e.target.result).then((function(){var e=n.getWorksheet(1),a=e.getRow(58);a.getCell(1).value=r.test_comment,a.commit();var i=e.getRow(8);i.getCell(1).value=r.serial_number,i.getCell(5).value=r.test_manager,i.getCell(6).value=W(r.test_date),i.commit(),n.xlsx.writeBuffer().then((function(e){var n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});t.saveAs(n,"deneme.xlsx")}))}))}}))},children:"Test Raporu"}):null,"admin"==(null===(a=t.props.user)||void 0===a?void 0:a.role)&&"iptal"!==r.location?Object(he.jsx)(F.a,{title:"Bu makinay\u0131 silmek istedi\u011finizden emin misiniz? Bu i\u015flem geri al\u0131namaz",onConfirm:function(){return Ht(r.id)},okText:"Evet",cancelText:"Hay\u0131r",children:Object(he.jsx)(D.a,{danger:!0,block:!0,style:{marginBottom:10},type:"primary",children:"Makinay\u0131 Sil"})}):null]})]}),Object(he.jsx)(R.a,{})]})})):null}))}},{key:"printQRCode",value:function(e,t){var n=window.open("","","height=1024, width=1024"),r=Object(Be.renderToString)(Object(he.jsxs)("div",{style:{width:"50mm",height:"64mm"},children:[Object(he.jsx)(Dn,{value:e,style:{height:"44mm",width:"44mm",margin:"3mm"},renderAs:"svg"}),Object(he.jsx)("p",{style:{margin:10},children:t})]}));null===n||void 0===n||n.document.write(String(r)),n.document.body.style.margin=0,null===n||void 0===n||n.document.close(),null===n||void 0===n||n.print()}},{key:"componentDidUpdate",value:function(e){this.props.isFinishedOrders===e.isFinishedOrders&&this.props.isCancelledOrders===e.isCancelledOrders||this.GetOrders()}},{key:"GetOrders",value:function(){var e=this;this.props.isFinishedOrders?function(){return He.apply(this,arguments)}().then((function(t){if(t){var n=null===t||void 0===t?void 0:t.map((function(e){return e.date=V()(e.date).format("D MMMM YYYY, HH:mm"),e}));e.setState({data:n})}})):this.props.isCancelledOrders?function(){return Ue.apply(this,arguments)}().then((function(t){var n=null===t||void 0===t?void 0:t.map((function(e){return e.date=V()(e.date).format("D MMMM YYYY, HH:mm"),e}));e.setState({data:n})})):function(){return We.apply(this,arguments)}().then((function(t){var n=null===t||void 0===t?void 0:t.sort((function(e,t){return V()(e.date,"D MMMM YYYY, HH:mm").unix()>V()(t.date,"D MMMM YYYY, HH:mm").unix()?1:-1})).map((function(e){return e.date=V()(e.date).format("D MMMM YYYY, HH:mm"),e}));e.setState({data:n})}))}},{key:"render",value:function(){var e,t,n,r=this,a=this.state;return Object(he.jsxs)("div",{style:{width:"100%",maxWidth:"100%",height:"100%",maxHeight:"100%"},children:[Object(he.jsx)(Y.a,{rowKey:function(e){return"key"+e.id},size:"small",loading:this.state.loading,expandable:{expandedRowRender:function(e){var t,n,a,i,l,o,s,d,p,m,h,j,b,f;return Object(he.jsxs)("div",{style:{marginLeft:"3rem"},children:[Rn("\xdcr\xfcn",e.description),Rn("Tarih",e.date),Rn("Marka",null===(t=r.configFile.brand.filter((function(t){return t.type===e.brand}))[0])||void 0===t?void 0:t.text),Rn("Sipari\u015f No",e.order_no),Rn("Sipari\u015f Miktar\u0131",String(e.order_amount)),Rn("Tip",null!==(n=r.configFile.type.filter((function(t){return t.type===e.type}))[0])&&void 0!==n&&n.text?null===(a=r.configFile.type.filter((function(t){return t.type===e.type}))[0])||void 0===a?void 0:a.text:null===(i=r.configFile.machine_type.filter((function(t){return t.type===e.type}))[0])||void 0===i?void 0:i.text),Rn("Fan Tipi",null===(l=r.configFile.cooler_type.filter((function(t){return t.type===e.cooler_type}))[0])||void 0===l?void 0:l.text),Rn("Kazan Boyutu",e.tank_size?e.tank_size+" LT":null),Rn("Kazan Materyali",null===(o=r.configFile.caldron_material.filter((function(t){return t.type===e.caldron_material}))[0])||void 0===o?void 0:o.text),Rn("Pompa",null===(s=r.configFile.pump.filter((function(t){return t.type===e.pump}))[0])||void 0===s?void 0:s.text),Rn("Model Y\u0131l\u0131",e.year),Rn("Meme Tipi",null===(d=r.configFile.meme_type.filter((function(t){return t.type===e.meme_type}))[0])||void 0===d?void 0:d.text),Rn("Meme Aral\u0131\u011f\u0131",e.meme_distance),Rn("\xc7eki Tipi",null===(p=r.configFile.tow_type.filter((function(t){return t.type===e.tow_type}))[0])||void 0===p?void 0:p.text),Rn("Kol Tipi",null===(m=r.configFile.arm_type.filter((function(t){return t.type===e.arm_type}))[0])||void 0===m?void 0:m.text),Rn("Kol Uzunlu\u011fu",e.arm_length),Rn("\u015ease Rengi",null===(h=r.configFile.chassis_color.filter((function(t){return t.type===e.chassis_color}))[0])||void 0===h?void 0:h.text),Rn("Kazan Rengi",U(e.caldron_color)),Rn("Kazan Tipi",null===(j=r.configFile.caldron_type.filter((function(t){return t.type===e.caldron_type}))[0])||void 0===j?void 0:j.text),Rn("Kumanda",null===(b=r.configFile.commander.filter((function(t){return t.type===e.commander}))[0])||void 0===b?void 0:b.text),Rn("Alternatif \xd6zellikler",e.alt_features),Rn("\xd6deme Detaylar\u0131",e.payment_detail||"\xd6deme Detay\u0131 Yok"),Rn("Fiyat",e.price?e.price+"\u20ba":"Fiyat Bilgisi Yok"),Object(he.jsx)(D.a,{style:{marginRight:"10px"},type:"primary",onClick:function(){var t=window.open("","","height=1024, width=1024");null===t||void 0===t||t.document.write(Fe.a.renderToStaticMarkup(Object(he.jsx)(Fn,{item:e}))),t.document.head.appendChild(document.createElement("style")).innerHTML="body {margin:0; padding:4px;} span {font-size: 12px;} .ant-table-cell {border-bottom: 1px solid black;} table {  border-collapse: collapse;} table, th, td {border: 1px solid; text-align: center;}",t.document.body.contentEditable=!0,null===t||void 0===t||t.document.close()},children:"Sat\u0131\u015f S\xf6zle\u015fmesi"}),Object(he.jsx)(D.a,{style:{marginRight:"10px"},type:"primary",onClick:function(){var t=window.open("","","height=1024, width=1024");null===t||void 0===t||t.document.write(Fe.a.renderToStaticMarkup(Object(he.jsx)(Bn,{item:e}))),t.document.head.appendChild(document.createElement("style")).innerHTML="span {font-size: 12px;} .ant-table-cell {border-bottom: 1px solid black;} table {  border-collapse: collapse;} table, th, td {border: 1px solid; text-align: center;}",t.document.body.contentEditable=!0,null===t||void 0===t||t.document.close()},children:"Proforma Fatura"}),Object(he.jsx)(D.a,{style:{marginRight:"10px"},type:"primary",onClick:function(){ht(e.id).then((function(t){r.setState({orderDetails:Object(u.a)(Object(u.a)({},r.state.orderDetails),{},Object(fn.a)({},e.id,t))})}))},children:"Detaylar\u0131 G\xf6ster"}),r.renderOrderDetails(e),"cancelled"===e.status||"admin"!=(null===(f=r.props.user)||void 0===f?void 0:f.role)||r.props.isFinishedOrders?null:Object(he.jsx)(F.a,{title:"Bu sipari\u015fi iptal etmek istedi\u011finizden emin misiniz?",onConfirm:function(){return Gt(e.id)},okText:"Evet",cancelText:"Hay\u0131r",children:Object(he.jsx)(D.a,{danger:!0,style:{marginBottom:10,marginRight:10},type:"primary",children:"Sipari\u015fi \u0130ptal Et"})}),Object(he.jsx)(c.b,{style:{display:e.order_amount!==e.pending_amount&&"none",color:"white",marginBottom:10,backgroundColor:"#1677ff",padding:"8px",borderRadius:"6px"},to:{pathname:"/editOrder/".concat(e.serial_number)},children:"D\xfczenle"})]},"keyexpandable "+e.id)}},pagination:{defaultPageSize:10,position:["bottomRight"]},columns:this.state.columns,dataSource:a.data}),Object(he.jsxs)(vn.a,{title:(null===(e=this.state.orderSelected)||void 0===e?void 0:e.serial_number)+" Seri Numaral\u0131 Makine.",open:this.state.orderModalVisible,onOk:function(){r.setState({orderModalVisible:!1}),It({order1:r.state.selectedToMove,order2:r.state.orderSelected,keepMachineDetails:r.state.keepMachineDetails})},onCancel:function(){r.setState({orderModalVisible:!1})},children:[Object(he.jsx)("p",{children:"L\xfctfen de\u011fi\u015fim yapmak istedi\u011finiz makineyi se\xe7in."}),Object(he.jsx)(z.a,{showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},style:{width:"100%"},onSelect:function(e){console.log(e),r.setState({selectedToMove:{serial_number:e.split(" ")[0],order_id:Number.parseInt(e.split(" ")[1])}})},placeholder:"L\xfctfen bir makine se\xe7in",defaultActiveFirstOption:!0,children:null===(t=this.state.movableMachines)||void 0===t?void 0:t.map((function(e){return Object(he.jsx)(z.a.Option,{value:e.serial_number+" "+e.order_id,children:e.serial_number+" "+e.customer+" "+U(e.location)},e.order_id)}))}),Object(he.jsxs)("div",{style:{marginTop:"2rem",display:"flex",gap:"1rem"},children:[Object(he.jsx)("span",{children:"Sipari\u015f Detay\u0131n\u0131 De\u011fi\u015ftir"}),Object(he.jsx)(On.a,{onChange:this.onChange}),Object(he.jsx)("span",{children:"Sipari\u015f Detay\u0131n\u0131 Koru (STOK)"})]})]}),this.state.historyModalVisible?Object(he.jsx)(wn,{isVisible:this.state.historyModalVisible,machine_id:this.state.historyModalId,serial_number:null===(n=this.state.orderSelected)||void 0===n?void 0:n.serial_number,setIsVisible:function(e){return r.setState({historyModalVisible:e})}}):null]})}}]),r}(a.a.Component),Yn=Object(o.b)((function(e,t){return{user:e.auth.user}}))(Pn),Kn=n(328),En=n(588),Nn=n(138),Gn=n.n(Nn);function Vn(){return(Vn=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/Config/GetChassisNeeds/",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hn(){return(Hn=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/Config/GetTotalNeeds/"+t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qn(){return(qn=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/Config/GetFanNeeds/",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Un(){return(Un=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/Config/GetPumpNeeds/",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wn(){return(Wn=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/Config/GetCommanderNeeds/",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jn(){return(Jn=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/Config/GetTowNeeds/",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qn(e){return Zn.apply(this,arguments)}function Zn(){return(Zn=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/Task/GetGenericTaskRoleAuthorizationList/"+t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $n(){return($n=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post(Il+"/api/Task/AddGenericTaskRoleAuthorizationList/",t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xn(){return(Xn=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete(Il+"/api/Task/DeleteGenericTaskRoleAuthorizationList/"+t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function er(e){return tr.apply(this,arguments)}function tr(){return(tr=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/Config/GetNeedList/"+t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nr(e){return rr.apply(this,arguments)}function rr(){return(rr=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post(Il+"/api/Config/AddNeedList/",t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ar(e){return ir.apply(this,arguments)}function ir(){return(ir=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete(Il+"/api/Config/DeleteNeedList/"+t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lr=JSON.parse(null!==(Ln=localStorage.getItem("config"))&&void 0!==Ln?Ln:"{}"),or={machine_type:"Makine Tipleri",brand:"Markalar",type:"Tipler",cooler_type:"Fan Tipleri",tank_size:"Depo Boyutlar\u0131",pump:"Pompalar",tow_type:"\xc7eki Tipleri",chassis_color:"\u015ease Renkleri",caldron_type:"Kazan Tipleri",fan_type:"Pervane Tipleri",arm_type:"Kol Tipleri",fan_radius:"Fan \xc7aplar\u0131",order_tooker:"Sipari\u015f Alanlar",commander:"Kumandalar",turktraktormodel:"T\xfcrk Trakt\xf6r Modelleri",meme_type:"Meme Tipleri",caldron_material:"Kazan Materyalleri",role:"Kullan\u0131c\u0131 Rolleri"};var cr=function(e){var t=ue.a.useForm(),n=Object(p.a)(t,1)[0];function a(e){var t=e.value,a=e.text,i=Object(r.useState)([]),l=Object(p.a)(i,2),c=l[0],s=l[1],d=Object(o.d)((function(e){return e.auth.user}));function u(){er(t).then((function(e){e&&s(e)}))}Object(r.useEffect)((function(){u()}),[t]);var m=[{title:"\xdcr\xfcn Ad\u0131",dataIndex:"name",key:"type"},{title:"Gereken Miktar",dataIndex:"amount"},{title:"\u0130\u015flemler",render:function(e,t){return Object(he.jsx)("td",{children:"admin"==d.role?Object(he.jsx)(D.a,{style:{marginBottom:10},danger:!0,type:"primary",onClick:function(){ar(t.id).then((function(e){e?u():B.a.error({title:"Bir hata olu\u015ftu",content:Object(he.jsx)("p",{children:"L\xfctfen tekrar deneyin."}),okText:"Tamam"})}))},children:"Sil"}):null})}}];return Object(he.jsx)(_n.a,{style:{marginBottom:10},children:Object(he.jsx)(Y.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("b",{children:a}),Object(he.jsx)(Kn.a,{content:Object(he.jsxs)(ue.a,{form:n,layout:"vertical",onFinish:function(e){nr({amount:e.amount,name:e.name,value:t}).then((function(e){e?(u(),n.resetFields()):B.a.error({title:"Bir hata olu\u015ftu",content:Object(he.jsx)("p",{children:"L\xfctfen tekrar deneyin."}),okText:"Tamam"})}))},children:[Object(he.jsx)(ue.a.Item,{name:"name",label:"\xdcr\xfcn",rules:[{required:!0}],children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{name:"amount",label:"Miktar",children:Object(he.jsx)(En.a,{min:0})}),Object(he.jsx)(ue.a.Item,{children:Object(he.jsx)(D.a,{type:"primary",htmlType:"submit",children:"Ekle"})})]}),title:"".concat(a," Ekleme Yap"),trigger:"click",children:Object(he.jsx)(D.a,{type:"primary",style:{float:"right"},children:"Ekle"})})]})},dataSource:c,columns:m})})}return Object(he.jsx)(he.Fragment,{children:Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(he.jsx)(_n.a,{style:{width:"60%",marginBottom:"1%",marginTop:"2%"},title:"",children:Object.keys(lr).map((function(e){var t=lr[e];if("object"==typeof t){if(2===Object.keys(t[0]).length)return function(e,t){var n=[{title:"Tip",dataIndex:"type",key:"type",width:50},{title:"G\xf6sterim",dataIndex:"text",width:50}];return Object(he.jsx)(_n.a,{style:{marginBottom:10},children:Object(he.jsx)(Y.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("b",{children:or[t]}),Object(he.jsx)(Kn.a,{content:Object(he.jsxs)(ue.a,{layout:"vertical",onFinish:function(e){an(String(t),e).then((function(e){e&&Te()}))},children:[Object(he.jsx)(ue.a.Item,{name:"type",label:"Tip",rules:[{required:!0,message:"L\xfctfen sadece k\xfc\xe7\xfck harf ve bo\u015fluksuz yaz\u0131n."}],children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{name:"text",label:"G\xf6sterim",children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{children:Object(he.jsx)(D.a,{type:"primary",htmlType:"submit",children:"Ekle"})})]}),title:"".concat(or[t],"a Ekleme Yap"),trigger:"click",children:Object(he.jsx)(D.a,{type:"primary",style:{float:"right"},children:"Ekle"})})]})},dataSource:null===e||void 0===e?void 0:e.sort((function(e,t){return e.type.localeCompare(t.type)})),columns:n})})}(t,e);if(3===Object.keys(t[0]).length)return function(e,t){var n=[{title:"Tip",dataIndex:"type",key:"type",width:33},{title:"G\xf6sterim",dataIndex:"text",width:33},{title:"K\u0131saltma (Barkod \xfczerinde)",dataIndex:"shortend",width:34}];return Object(he.jsx)(_n.a,{style:{marginBottom:10},children:Object(he.jsx)(Y.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("b",{children:or[t]}),Object(he.jsx)(Kn.a,{content:Object(he.jsxs)(ue.a,{layout:"vertical",onFinish:function(e){an(String(t),e)},children:[Object(he.jsx)(ue.a.Item,{name:"type",rules:[{required:!0,message:"L\xfctfen sadece k\xfc\xe7\xfck harf ve bo\u015fluksuz yaz\u0131n."}],label:"Tip",children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{name:"text",label:"G\xf6sterim",children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{name:"shortend",label:"K\u0131saltma",rules:[{required:!0,message:"L\xfctfen sadece b\xfcy\xfck harf yaz\u0131n, ve harf say\u0131s\u0131na dikkat edin."}],children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{children:Object(he.jsx)(D.a,{type:"primary",htmlType:"submit",children:"Ekle"})})]}),title:"".concat(or[t],"a Ekleme Yap"),trigger:"click",children:Object(he.jsx)(D.a,{type:"primary",style:{float:"right"},children:"Ekle"})})]})},dataSource:null===e||void 0===e?void 0:e.sort((function(e,t){return e.type.localeCompare(t.type)})),columns:n})})}(t,e)}return null}))}),Object(he.jsxs)(_n.a,{title:"\xdcretim S\xfcresi \u0130\u015flemleri",style:{width:"60%",marginBottom:"1%",marginTop:"2%"},children:[Object(he.jsx)(Gn.a,{style:{marginBottom:10},addonBefore:"\u015ease \xdcretim S\xfcresi",placeholder:String(null===lr||void 0===lr?void 0:lr.chassis_production_time),suffix:"G\xfcn",enterButton:"De\u011fi\u015ftir",size:"large",onSearch:function(e){an("chassis_production_time",{text:e})}}),Object(he.jsx)(Gn.a,{style:{marginBottom:10},addonBefore:"Fan \xdcretim S\xfcresi",suffix:"G\xfcn",placeholder:String(null===lr||void 0===lr?void 0:lr.fan_production_time),enterButton:"De\u011fi\u015ftir",size:"large",onSearch:function(e){an("fan_production_time",{text:e})}}),Object(he.jsx)(Gn.a,{style:{marginBottom:10},addonBefore:"Kol \xdcretim S\xfcresi",placeholder:String(null===lr||void 0===lr?void 0:lr.arm_production_time),suffix:"G\xfcn",enterButton:"De\u011fi\u015ftir",size:"large",onSearch:function(e){an("arm_production_time",{text:e})}})]}),Object(he.jsx)(_n.a,{title:"\u0130htiya\xe7 Listesi \u0130\u015flemleri",style:{width:"60%",marginBottom:"1%",marginTop:"2%"},children:lr.tank_size.sort((function(e,t){return parseInt(t.type)-parseInt(e.type)})).map((function(e){return Object(he.jsx)(a,{value:parseInt(e.type),text:"".concat(e.text," LT Tank \u0130htiya\xe7 Listesi")})}))})]})})};V.a.locale("tr");var sr=function(e){var t,n,a,i,l,o,c,s,d,u,m,h,j,b=JSON.parse(null!==(t=localStorage.getItem("config"))&&void 0!==t?t:"{}"),f=e.serial_number,x=Object(r.useState)(null),O=Object(p.a)(x,2),y=O[0],g=O[1],v=Object(r.useState)(!1),k=Object(p.a)(v,2),_=k[0],S=k[1];return Object(r.useEffect)((function(){pt(f).then((function(e){e&&g(e)}))}),[]),Object(he.jsxs)("div",{style:{marginLeft:"40px"},children:[e.externalDetails?e.externalDetails:Object(he.jsx)(he.Fragment,{}),y?Object(he.jsxs)(he.Fragment,{children:[Rn("\xdcr\xfcn",y.description),Rn("Son \u0130\u015flem Tarihi",W(y.last_location_date)),Rn("Marka",null===(n=b.brand.filter((function(e){return e.type===y.brand}))[0])||void 0===n?void 0:n.text),Rn("Sipari\u015f No",y.order_no),Rn("Sipari\u015f Miktar\u0131",String(y.order_amount)),Rn("Tip",null!==(a=b.type.filter((function(e){return e.type===y.type}))[0])&&void 0!==a&&a.text?null===(i=b.type.filter((function(e){return e.type===y.type}))[0])||void 0===i?void 0:i.text:null===(l=b.machine_type.filter((function(e){return e.type===y.type}))[0])||void 0===l?void 0:l.text),Rn("Fan Tipi",null===(o=b.cooler_type.filter((function(e){return e.type===y.cooler_type}))[0])||void 0===o?void 0:o.text),Rn("Kazan Boyutu",y.tank_size+" LT"),Rn("Pompa",null===(c=b.pump.filter((function(e){return e.type===y.pump}))[0])||void 0===c?void 0:c.text),Rn("Pompa Seri No",null===y||void 0===y?void 0:y.pump_serial),Rn("Model Y\u0131l\u0131",y.year),Rn("Meme Tipi",null===(s=b.meme_type.filter((function(e){return e.type===y.meme_type}))[0])||void 0===s?void 0:s.text),Rn("Meme Aral\u0131\u011f\u0131",y.meme_distance),Rn("\xc7eki Tipi",null===(d=b.tow_type.filter((function(e){return e.type===y.tow_type}))[0])||void 0===d?void 0:d.text),Rn("Kol Tipi",null===(u=b.arm_type.filter((function(e){return e.type===y.arm_type}))[0])||void 0===u?void 0:u.text),Rn("Kol Uzunlu\u011fu",y.arm_length),Rn("\u015ease Rengi",null===(m=b.chassis_color.filter((function(e){return e.type===y.chassis_color}))[0])||void 0===m?void 0:m.text),Rn("Kazan Rengi",U(y.caldron_color)),Rn("Kazan Tipi",null===(h=b.caldron_type.filter((function(e){return e.type===y.caldron_type}))[0])||void 0===h?void 0:h.text),Rn("Kumanda",null===(j=b.commander.filter((function(e){return e.type===y.commander}))[0])||void 0===j?void 0:j.text),Rn("Alternatif \xd6zellikler",y.alt_features),!e.hideShowTransactions&&Object(he.jsx)(D.a,{type:"primary",onClick:function(){return S(!0)},children:"\u0130\u015flem Ge\xe7mi\u015fini G\xf6ster"}),Object(he.jsx)(wn,{serial_number:f,machine_id:y.id,isVisible:_,setIsVisible:S})]}):Object(he.jsx)(ze.a,{style:{margin:"25%"},size:"large"})]})},dr=n(108);dr.locale("tr");var ur=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,l=t.clearFilters;return Object(he.jsxs)("div",{style:{padding:8},children:[Object(he.jsx)(pe.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(he.jsx)(D.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(he.jsx)(D.a,{onClick:function(){return r.handleReset(l)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(he.jsx)(yn.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){var r,a,i;return null===(r=n[e])||void 0===r||null===(a=r.toString())||void 0===a||null===(i=a.toLowerCase())||void 0===i?void 0:i.includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={csvdata:[["Seri No","Teslim Tarihi","M\xfc\u015fteri","Telefon No","Adres"]],orderDetails:{},loading:!1,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(u.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},r.getColumnSearchProps("serial_number")),{title:"Teslim Tarihi",dataIndex:"row_created_date",sorter:function(e,t){return dr(e.row_created_date).unix()-dr(t.row_created_date).unix()},render:function(e){return Object(he.jsx)("td",{children:W(e)})}},Object(u.a)({title:"M\xfc\u015fteri",dataIndex:"customer",sorter:function(e,t){return e.customer.localeCompare(t.customer)}},r.getColumnSearchProps("customer")),Object(u.a)({title:"Telefon No",dataIndex:"phone_number"},r.getColumnSearchProps("phone_number")),Object(u.a)({title:"Adres",dataIndex:"address"},r.getColumnSearchProps("address")),Object(u.a)({title:"A\xe7\u0131klama",dataIndex:"comment"},r.getColumnSearchProps("comment"))]},r.componentDidMount=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St();case 2:t=e.sent,r.setState({data:t});case 4:case"end":return e.stop()}}),e)}))),r}return Object(C.a)(n,[{key:"render",value:function(){var e=this.state;return Object(he.jsx)(Y.a,{rowKey:function(e){return"key"+e.serial_number},size:"small",loading:this.state.loading,pagination:{defaultPageSize:10,position:["bottomRight"]},columns:this.state.columns,dataSource:e.data,expandable:{expandedRowRender:function(e){return Object(he.jsx)(sr,{serial_number:e.serial_number})}}})}}]),n}(a.a.Component),pr=n(167),mr=n(97),hr=n(67),jr=n.n(hr);V.a.locale("tr");var br=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,l=t.clearFilters;return Object(he.jsxs)("div",{style:{padding:8},children:[Object(he.jsx)(pe.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(he.jsx)(D.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(he.jsx)(D.a,{onClick:function(){return r.handleReset(l)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(he.jsx)(yn.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){var r,a,i;return null===(r=n[e])||void 0===r||null===(a=r.toString())||void 0===a||null===(i=a.toLowerCase())||void 0===i?void 0:i.includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={csvdata:[[]],orderDetails:{},loading:!0,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],activeOrders:[],showAllOrders:!1,columns:[Object(u.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no-t.order_no}},r.getColumnSearchProps("order_no")),Object(u.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},r.getColumnSearchProps("serial_number")),{},{},Object(u.a)({title:"Planlanan \xdcretim Tarihi",dataIndex:"planned_date",sorter:function(e,t){return V()(""!==e.planned_date?e.planned_date:"25 Temmuz 2500","D MMMM YYYY").unix()-V()(""!==t.planned_date?t.planned_date:"25 Temmuz 2500","D MMMM YYYY").unix()}},r.getColumnSearchProps("planned_date")),Object(u.a)({title:"Son \u0130\u015flem Tarihi",dataIndex:"last_operation_date",sorter:function(e,t){return V()(e.last_operation_date,"D MMMM YYYY, HH:mm").unix()-V()(t.last_operation_date,"D MMMM YYYY, HH:mm").unix()}},r.getColumnSearchProps("last_operation_date")),Object(u.a)({title:"Durum",dataIndex:"status",sorter:function(e,t){return e.status.localeCompare(t.status)}},r.getColumnSearchProps("status")),Object(u.a)({title:"\xdcr\xfcn Tipi",dataIndex:"production_unit",sorter:function(e,t){return e.production_unit.localeCompare(t.production_unit)}},r.getColumnSearchProps("production_unit")),Object(u.a)({title:"Depo Boyutu",dataIndex:"tank_size",sorter:function(e,t){return e.tank_size-t.tank_size}},r.getColumnSearchProps("tank_size")),Object(u.a)({title:"Depo Rengi",dataIndex:"caldron_color"},r.getColumnSearchProps("caldron_color")),{title:"Depo Tipi",dataIndex:"caldron_type",sorter:function(e,t){var n;return null===e||void 0===e||null===(n=e.caldron_type)||void 0===n?void 0:n.localeCompare(null===t||void 0===t?void 0:t.caldron_type)}},{title:"Marka",dataIndex:"brand",sorter:function(e,t){return e.brand.localeCompare(t.brand)}},{title:"\u0130\u015flemler",render:function(e,t){return Object(he.jsxs)("td",{children:["admin"==r.props.user.role||"tankproducer"==r.props.user.role?Object(he.jsx)(D.a,{block:!0,style:{marginBottom:10},type:"primary",onClick:function(){r.printQRCode("TU"+t.serial_number)},children:"QR Kodu Yazd\u0131r"}):null,"tankproducer"==r.props.user.role&&("Onay Bekliyor"===t.status||"\xdcretiliyor (Onayland\u0131)"===t.status)&&Object(he.jsx)(D.a,{block:!0,style:{marginBottom:10},type:"primary",onClick:function(){Bt("Onay Bekliyor"===t.status?"pending":"\xdcretiliyor (Onayland\u0131)"===t.status?"confirmed":"",t.id).then(Object(w.a)(Object(S.a)().mark((function e(){var t,n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At();case 2:t=e.sent,n=r.filterResult(t),r.setState({data:n});case 5:case"end":return e.stop()}}),e)}))))},children:"Onay Bekliyor"===t.status?"Onayla":"\xdcretiliyor (Onayland\u0131)"===t.status?"\xdcretildi Olarak \u0130\u015faretle":""})]})}}]},r.componentDidMount=Object(w.a)(Object(S.a)().mark((function e(){var t,n,a,i;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At();case 2:t=e.sent,n=r.filterResult(t),a=n.filter((function(e){return"Teslim Edildi"!==e.status})),r.setState({data:n,activeOrders:a}),i=[["Sipari\u015f No","M\xfc\u015fteri","Sipari\u015f Tarihi","Son \u0130\u015flem Tarihi","Durum","Depo Boyutu","Kazan Tipi","Kazan Rengi","Marka"]],t.forEach((function(e){return i.push([e.order_no,e.customer,e.order_date,e.last_operation_date,e.status,e.tank_size,e.caldron_type,e.caldron_color,e.brand])})),r.setState({csvdata:i,loading:!1});case 9:case"end":return e.stop()}}),e)}))),r}return Object(C.a)(n,[{key:"printQRCode",value:function(e){var t=window.open("","","height=1024, width=1024"),n=Object(Be.renderToString)(Object(he.jsxs)("div",{style:{width:"50mm",height:"64mm"},children:[Object(he.jsx)(jr.a,{value:e,style:{height:"44mm",width:"44mm",margin:"3mm"},renderAs:"svg"}),Object(he.jsx)("p",{style:{margin:10},children:e})]}));null===t||void 0===t||t.document.write(String(n)),t.document.body.style.margin=0,null===t||void 0===t||t.document.close(),null===t||void 0===t||t.print()}},{key:"filterResult",value:function(e){return e.forEach((function(e){e.last_operation_date=e.deliver_date?V()(e.deliver_date).format("D MMMM YYYY, HH:mm"):e.producted_date?V()(e.producted_date).format("D MMMM YYYY, HH:mm"):e.confirmed_date?V()(e.confirmed_date).format("D MMMM YYYY, HH:mm"):V()(e.order_date).format("D MMMM YYYY, HH:mm"),e.order_date=V()(e.order_date).format("D MMMM YYYY, HH:mm"),e.planned_date=e.planned_date?V()(e.planned_date).format("D MMMM YYYY"):"",e.brand=U(e.brand),e.status="delivered"==e.status?"Teslim Edildi":"producted"==e.status?"\xdcretim Tamamland\u0131 (Haz\u0131r)":"confirmed"==e.status?"\xdcretiliyor (Onayland\u0131)":"cancelled"==e.status?"\u0130ptal Edildi":"ontheway"==e.status?"Yolda (Saruhanl\u0131ya G\xf6nderildi)":"pending"===e.status?"Onay Bekliyor":e.status,e.caldron_type=e.caldron_type?U(e.caldron_type):"",e.caldron_color=U(e.caldron_color),e.status=U(e.status)})),e}},{key:"render",value:function(){var e=this,t=this.state;return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(_n.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(he.jsx)(pr.a,{onChange:function(t){e.setState({showAllOrders:t.target.checked})},children:"T\xfcm Sipari\u015fleri G\xf6ster"})}),Object(he.jsx)(Y.a,{rowKey:function(e){return"key"+e.id},size:"small",loading:this.state.loading,pagination:{defaultPageSize:10,position:["bottomRight"]},columns:this.state.columns,dataSource:t.showAllOrders?t.data:t.activeOrders}),Object(he.jsx)(D.a,{style:{float:"right",marginRight:10},type:"default",children:Object(he.jsx)(mr.CSVLink,{data:t.csvdata,children:"CSV'ye aktar"})})]})}}]),n}(a.a.Component),fr=Object(o.b)((function(e,t){return{user:e.auth.user}}))(br),xr=n(108);xr.locale("tr");var Or=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,l=t.clearFilters;return Object(he.jsxs)("div",{style:{padding:8},children:[Object(he.jsx)(pe.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(he.jsx)(D.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(he.jsx)(D.a,{onClick:function(){return r.handleReset(l)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(he.jsx)(yn.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){var r,a,i;return null===(r=n[e])||void 0===r||null===(a=r.toString())||void 0===a||null===(i=a.toLowerCase())||void 0===i?void 0:i.includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={orderModalVisible:!1,orderDetails:{},loading:!1,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(u.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no.localeCompare(t.order_no)}},r.getColumnSearchProps("order_no")),Object(u.a)({title:"M\xfc\u015fteri",dataIndex:"customer",sorter:function(e,t){return e.customer.localeCompare(t.customer)}},r.getColumnSearchProps("customer")),Object(u.a)({title:"Telefon No",dataIndex:"phone_number"},r.getColumnSearchProps("phone_number")),Object(u.a)({title:"Adres",dataIndex:"address"},r.getColumnSearchProps("address")),Object(u.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},r.getColumnSearchProps("serial_number")),{title:"\xdcr\xfcn Tipi",dataIndex:"production_unit",render:function(e){return Object(he.jsx)("td",{children:U(e)})},sorter:function(e,t){return e.production_unit.localeCompare(t.production_unit)}},{title:"Sipari\u015f Tarihi",dataIndex:"last_location_date",render:function(e){return Object(he.jsx)("td",{children:W(e)})},sorter:function(e,t){return xr(e.last_location_date).unix()-xr(t.last_location_date).unix()}},{title:"\u0130\u015flemler",render:function(e,t){return Object(he.jsx)("td",{children:"admin"==r.props.user.role?Object(he.jsx)(D.a,{disabled:"diger"!=t.production_unit&&!t.can_start_production,style:{marginBottom:10},type:"primary",onClick:function(){Dt(t.production_unit,t.id).then((function(e){e&&r.GetPendingOrdersData()}))},children:"\xdcretime Ba\u015fla"}):null})},sorter:function(e,t){return("diger"!=e.production_unit&&!e.can_start_production)-("diger"!=t.production_unit&&!t.can_start_production)}}]},r.componentDidMount=function(){r.GetPendingOrdersData()},r.GetPendingOrdersData=function(){et().then((function(e){r.setState({data:e})}))},r}return Object(C.a)(n,[{key:"render",value:function(){var e=this.state;return Object(he.jsx)(Y.a,{rowKey:function(e){return"key"+e.id},size:"small",loading:e.loading,pagination:{defaultPageSize:10,position:["bottomRight"]},columns:e.columns,dataSource:e.data,expandable:{expandedRowRender:function(e){return Object(he.jsx)(sr,{serial_number:e.serial_number})}}})}}]),n}(a.a.Component),yr=Object(o.b)((function(e,t){return{user:e.auth.user}}))(Or);V.a.locale("tr");var gr=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,l=t.clearFilters;return Object(he.jsxs)("div",{style:{padding:8},children:[Object(he.jsx)(pe.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(he.jsx)(D.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(he.jsx)(D.a,{onClick:function(){return r.handleReset(l)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(he.jsx)(yn.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){var r,a,i;return null===(r=n[e])||void 0===r||null===(a=r.toString())||void 0===a||null===(i=a.toLowerCase())||void 0===i?void 0:i.includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={csvdata:[["Seri No","Sipari\u015f No","Sipari\u015f Tarihi","M\xfc\u015fteri","Telefon","Adres","Sipari\u015f Alan","Sipari\u015f \xd6zellikleri","Durum","\xdcretim Birimi"]],movableMachines:[],orderModalVisible:!1,orderDetails:{},loading:!1,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(u.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no.localeCompare(t.order_no)}},r.getColumnSearchProps("order_no")),Object(u.a)({title:"M\xfc\u015fteri",dataIndex:"customer",sorter:function(e,t){return e.customer.localeCompare(t.customer)}},r.getColumnSearchProps("customer")),Object(u.a)({title:"Telefon No",dataIndex:"phone_number"},r.getColumnSearchProps("phone_number")),Object(u.a)({title:"Adres",dataIndex:"address"},r.getColumnSearchProps("address")),Object(u.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},r.getColumnSearchProps("serial_number")),{title:"\xdcr\xfcn Tipi",dataIndex:"production_unit",render:function(e){return Object(he.jsx)("td",{children:U(e)})},sorter:function(e,t){return e.production_unit.localeCompare(t.production_unit)}},{title:"Son \u0130\u015flem Tarihi",dataIndex:"last_location_date",defaultSortOrder:"descend",render:function(e){return Object(he.jsx)("td",{children:W(e)})},sorter:function(e,t){return V()(e.last_location_date).unix()-V()(t.last_location_date).unix()}},Object(u.a)({title:"Bulundu\u011fu Konum",dataIndex:"location",sorter:function(e,t){return e.location.localeCompare(t.location)}},r.getColumnSearchProps("location"))]},r.componentDidMount=function(){var e=[["Seri No","Sipari\u015f No","Sipari\u015f Tarihi","M\xfc\u015fteri","Telefon","Adres","Sipari\u015f Alan","Durum","\xdcretim Birimi","Sipari\u015f \xd6zellikleri"]];Et().then((function(t){var n,a,i=null===t||void 0===t?void 0:t.filter((function(e){return!("iptal"==e.location||"teslimat"==e.location||"onaybekliyor"==e.location)}));i=null===(n=i)||void 0===n?void 0:n.map((function(e){return e.location=J(e.location),e})),r.setState({data:i,csvDataloaded:!0}),null===(a=r.state.data)||void 0===a||a.forEach((function(t){var n=t.brand+"$"+t.production_unit+"$"+t.caldron_color+"$"+t.caldron_type+"$"+t.cooler_type+"$"+t.fan_radius+"$"+t.fan_type+"$"+t.pump+"$"+t.meme_distance+"$"+t.meme_type+"$"+t.tank_size+"$"+t.type+"$"+t.tow_type+"$"+t.alt_features+"$"+t.year;e.push([t.serial_number,t.order_no,t.date,t.customer,t.phone_number,t.address,t.order_tooker,t.location,t.production_unit,n])})),r.setState({csvdata:e})}))},r}return Object(C.a)(n,[{key:"render",value:function(){var e=this.state;return Object(he.jsx)(he.Fragment,{children:Object(he.jsx)(Y.a,{rowKey:function(e){return"key"+e.last_location_date+e.serial_number},size:"small",loading:this.state.loading,pagination:{defaultPageSize:10,position:["bottomRight"]},columns:this.state.columns,dataSource:e.data,expandable:{expandedRowRender:function(e){return Object(he.jsx)(sr,{serial_number:e.serial_number})}}})})}}]),n}(a.a.Component),vr=n(140);function kr(e){return _r.apply(this,arguments)}function _r(){return(_r=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,N.a.get("".concat(Il,"/api/report/?date_parameter=").concat(Re()(t,"YYYY-MM-DD").add("hours",3).toISOString()),{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(200===e.status)return e.data})).catch((function(){return null}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sr=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){var e;Object(T.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).OrderStartDate="",e.OrderEndDate="",e.StatusStartDate="",e.StatusEndDate="",e}return Object(C.a)(n)}(Pe);function wr(){return(wr=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put(Il+"/api/report/ExportToCSV",t,{headers:{Authorization:"Bearer "+H()},responseType:"blob"}).then((function(e){if(200===e.status)return vr.saveAs(e.data,"rapor.xlsx"),e.data})).catch((function(){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tr(){return(Tr=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put(Il+"/api/report/ExportToCSVByGroupMachine",t,{headers:{Authorization:"Bearer "+H()},responseType:"blob"}).then((function(e){if(200===e.status)return vr.saveAs(e.data,"rapor.xlsx"),e.data})).catch((function(){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cr=n(586),Ir=Cr.a.Title;var Mr=function(e){var t=e.title,n=e.data,r=e.color;return Object(he.jsx)("div",{style:{boxSizing:"border-box",overflow:"auto",maxWidth:"100%",margin:10,borderRadius:10},children:Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignContent:"center",width:"100%",backgroundColor:r,padding:5},children:[Object(he.jsx)(Ir,{level:5,style:{margin:0,color:"white"},children:t}),Object(he.jsx)(Ir,{level:3,style:{margin:0,color:"white"},children:n})]})})};V.a.locale("tr");var Ar=Cr.a.Title,zr=Me.a.RangePicker;var Br=function(){var e=Object(s.f)(),t=Object(r.useState)(!1),n=Object(p.a)(t,2),a=n[0],i=n[1],l={turbo:"Turbo \xdcretimde",kollu:"Kollu \xdcretimde",diger:"Di\u011fer \xdcretimde",test:"Testte",iptal:"\u0130ptal Edilmi\u015f",onaybekliyor:"\xdcretim Onay\u0131 Bekliyor",teslimat:"Teslim Edilmi\u015f",depo:"Depoda",bahce:"Bah\xe7ede","planland\u0131":"Planland\u0131"};return Object(he.jsx)("div",{style:{boxSizing:"border-box",overflow:"auto",maxWidth:"100%",margin:10,borderRadius:10},children:Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignContent:"center",width:"100%",backgroundColor:"rgb(240,240,240)",padding:"5%"},children:[Object(he.jsx)(Ar,{level:4,children:"Sipari\u015fleri CSV'ye aktar"}),Object(he.jsxs)(ue.a,Object(u.a)(Object(u.a)({},{labelCol:{span:6},wrapperCol:{span:24}}),{},{name:"reportPrefences",onFinish:function(t){var n,r=new Sr;null===(n=t["bulundugu-konum"])||void 0===n||n.forEach((function(e){r[e]=!0})),r.OrderStartDate=t["siparis-tarihi"][0],r.OrderEndDate=t["siparis-tarihi"][1],r.StatusStartDate=t["son-islem-tarihi"][0],r.StatusEndDate=t["son-islem-tarihi"][1],a?function(e){return Tr.apply(this,arguments)}(r).then((function(t){t&&(console.log("excel file donwloaded"),e.push("/"))})):function(e){return wr.apply(this,arguments)}(r).then((function(t){t&&(console.log("excel file donwloaded"),e.push("/"))}))},initialValues:{"bulundugu-konum":["turbo","kollu","diger","test"]},children:[Object(he.jsx)(ue.a.Item,{label:"Sipari\u015f Tarihi",name:"siparis-tarihi",children:Object(he.jsx)(zr,{})}),Object(he.jsx)(ue.a.Item,{label:"Son \u0130\u015flem Tarihi",name:"son-islem-tarihi",children:Object(he.jsx)(zr,{})}),Object(he.jsx)(ue.a.Item,{name:"bulundugu-konum",children:Object(he.jsx)(pr.a.Group,{children:Object(he.jsx)(L.a,{children:Object.keys(l).map((function(e){return Object(he.jsx)(P.a,{span:12,children:Object(he.jsx)(pr.a,{value:e,style:{lineHeight:"32px"},children:l[e]})},"exportcsvcheckbox"+e)}))})})}),Object(he.jsxs)(L.a,{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[Object(he.jsx)(pr.a,{onChange:function(){return i(!a)},children:"Grupla"}),Object(he.jsx)(D.a,{htmlType:"submit",type:"primary",children:"Excel'e Aktar"})]})]}))]})})},Fr=n(121),Dr=n.n(Fr),Rr=n(106),Lr=n.n(Rr),Pr=n(108);Pr.locale("tr");var Yr=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.state={reports:null,selectedDate:Pr().format("YYYY-MM-DD")},r.searchInput=void 0,r.handleDateChange=function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({selectedDate:t.target.value,reports:Object(u.a)(Object(u.a)({},r.state.reports),{},{test_bugun_yapilan_is:[],turbo_bugun_yapilan_is:[],diger_bugun_yapilan_is:[],teslimat_bugun_yapilan_is:[],kollu_bugun_yapilan_is:[]})});case 2:kr(r.state.selectedDate).then((function(e){e&&(e.test_bugun_yapilan_is=r.uniq(e.test_bugun_yapilan_is),e.turbo_bugun_yapilan_is=r.uniq(e.turbo_bugun_yapilan_is),e.diger_bugun_yapilan_is=r.uniq(e.diger_bugun_yapilan_is),e.teslimat_bugun_yapilan_is=r.uniq(e.teslimat_bugun_yapilan_is),e.kollu_bugun_yapilan_is=r.uniq(e.kollu_bugun_yapilan_is)),e&&r.setState({reports:e})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=this;kr(this.state.selectedDate).then((function(t){t&&(t.test_bugun_yapilan_is=e.uniq(t.test_bugun_yapilan_is),t.turbo_bugun_yapilan_is=e.uniq(t.turbo_bugun_yapilan_is),t.diger_bugun_yapilan_is=e.uniq(t.diger_bugun_yapilan_is),t.teslimat_bugun_yapilan_is=e.uniq(t.teslimat_bugun_yapilan_is),t.kollu_bugun_yapilan_is=e.uniq(t.kollu_bugun_yapilan_is)),t&&e.setState({reports:t})}))}},{key:"uniq",value:function(e){return Array.from(new Set(e))}},{key:"renderReports",value:function(){var e=this.state.reports;return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(Mr,{title:"Toplam Onay Bekleyen Sipari\u015f",data:null===e||void 0===e?void 0:e.toplam_siparis,color:"#4A66C5"}),Object(he.jsx)(Mr,{title:"Kollu Onay Bekleyen Sipari\u015f",data:null===e||void 0===e?void 0:e.kollu_siparis,color:"#898C94"}),Object(he.jsx)(Mr,{title:"Kollu \xdcretimde",data:null===e||void 0===e?void 0:e.kollugereken,color:"#FF7800"}),Object(he.jsx)(Mr,{title:"Kollu Planlanan",data:null===e||void 0===e?void 0:e.kolluplanlanan,color:"#EE204D"}),Object(he.jsx)(Mr,{title:"Turbo Onay Bekleyen Sipari\u015f",data:null===e||void 0===e?void 0:e.turbo_siparis,color:"#9C459E"}),Object(he.jsx)(Mr,{title:"Turbo \xdcretimde",data:null===e||void 0===e?void 0:e.turbogereken,color:"#8EBF00"}),Object(he.jsx)(Mr,{title:"Turbo Planlanan",data:null===e||void 0===e?void 0:e.turboplanlanan,color:"#4A66C5"})]})}},{key:"renderStocks",value:function(){var e=this.state.reports;return Object(he.jsx)(he.Fragment,{children:Object.keys(null===e||void 0===e?void 0:e.stocks).length>0?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(Mr,{title:"Di\u011fer Onay Bekleyen Sipari\u015f",data:null===e||void 0===e?void 0:e.diger_siparis,color:"#00C5CD"}),Object(he.jsx)(Mr,{title:"Di\u011fer \xdcretimde",data:null===e||void 0===e?void 0:e.digergereken,color:"#499370"}),Object(he.jsx)(Mr,{title:"Di\u011fer Planlanan",data:null===e||void 0===e?void 0:e.digerplanlanan,color:"#8EBF00"}),Object(he.jsx)(Mr,{title:"Bah\xe7edeki Turbo Makinalar",data:null!==e&&void 0!==e&&e.stocks["bahce turbo"]?null===e||void 0===e?void 0:e.stocks["bahce turbo"]:0,color:"#B4674D"}),Object(he.jsx)(Mr,{title:"Depodaki Turbo Makinalar",data:null!==e&&void 0!==e&&e.stocks["depo turbo"]?null===e||void 0===e?void 0:e.stocks["depo turbo"]:0,color:"#EE204D"}),Object(he.jsx)(Mr,{title:"Bah\xe7edeki Kollu Makinalar",data:null!==e&&void 0!==e&&e.stocks["bahce kollu"]?null===e||void 0===e?void 0:e.stocks["bahce kollu"]:0,color:"#1A4876"}),Object(he.jsx)(Mr,{title:"Depodaki Kollu Makinalar",data:null!==e&&void 0!==e&&e.stocks["depo kollu"]?null===e||void 0===e?void 0:e.stocks["bahce kollu"]:0,color:"#8EE53F"}),Object(he.jsx)(Mr,{title:"Bah\xe7edeki Di\u011fer Makinalar",data:null!==e&&void 0!==e&&e.stocks["bahce diger"]?null===e||void 0===e?void 0:e.stocks["bahce diger"]:0,color:"#FF7518"}),Object(he.jsx)(Mr,{title:"Depodaki Di\u011fer Makinalar",data:null!==e&&void 0!==e&&e.stocks["depo diger"]?null===e||void 0===e?void 0:e.stocks["depo diger"]:0,color:"#00C5CD"})]}):Object(he.jsx)(ze.a,{})})}},{key:"renderDailyCompletedTasks",value:function(){var e=this;return Object(he.jsx)("div",{style:{boxSizing:"border-box",overflow:"auto",maxWidth:"100%",margin:10,borderRadius:10},children:Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignContent:"center",width:"100%",backgroundColor:"#1A4876",padding:5},children:[Object(he.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[Object(he.jsx)("input",{id:"datepicker-input",style:{border:"1px solid white",color:"#1A4876",borderRadius:10,padding:"0.4rem",marginTop:"1rem",outline:"none"},type:"date",value:this.state.selectedDate,onChange:this.handleDateChange}),Object(he.jsx)(Dr.a,{level:3,style:{color:"white"},children:"Yap\u0131lan \u0130\u015fler"})]}),Object(he.jsxs)(L.a,{gutter:[0,24],children:[Object(he.jsxs)(P.a,{xs:24,sm:12,md:12,style:{alignItems:"center"},children:[Object(he.jsx)(Dr.a,{level:5,style:{margin:0,color:"white",textAlign:"center"},children:"Turbo \xdcretilen Makineler"}),function(){var t,n;return null===(t=e.state)||void 0===t||null===(n=t.reports)||void 0===n?void 0:n.turbo_bugun_yapilan_is.map((function(e){return Object(he.jsx)(L.a,{children:Object(he.jsx)(Lr.a,{code:!0,style:{margin:0,width:"100%",color:"white"},children:e})},"turborowkey"+e)}))}()]}),Object(he.jsxs)(P.a,{xs:24,sm:12,md:12,style:{alignItems:"center"},children:[Object(he.jsx)(Dr.a,{level:5,style:{margin:0,color:"white",textAlign:"center"},children:"Kollu \xdcretilen Makineler"}),function(){var t,n;return null===(t=e.state)||void 0===t||null===(n=t.reports)||void 0===n?void 0:n.kollu_bugun_yapilan_is.map((function(e){return Object(he.jsx)(L.a,{children:Object(he.jsx)(Lr.a,{code:!0,style:{margin:0,width:"100%",color:"white"},children:e})},"kollurowkey"+e)}))}()]}),Object(he.jsxs)(P.a,{xs:24,sm:12,md:12,style:{alignItems:"center"},children:[Object(he.jsx)(Dr.a,{level:5,style:{margin:0,color:"white",textAlign:"center"},children:"Di\u011fer \xdcretilen Makineler"}),function(){var t,n;return null===(t=e.state)||void 0===t||null===(n=t.reports)||void 0===n?void 0:n.diger_bugun_yapilan_is.map((function(e){return Object(he.jsx)(L.a,{children:Object(he.jsx)(Lr.a,{code:!0,style:{margin:0,width:"100%",color:"white"},children:e})},"digerrowkey"+e)}))}()]}),Object(he.jsxs)(P.a,{xs:24,sm:12,md:12,style:{alignItems:"center"},children:[Object(he.jsx)(Dr.a,{level:5,style:{margin:0,color:"white",textAlign:"center"},children:"Test Edilen Makineler"}),function(){var t,n;return null===(t=e.state)||void 0===t||null===(n=t.reports)||void 0===n?void 0:n.test_bugun_yapilan_is.map((function(e){return Object(he.jsx)(L.a,{children:Object(he.jsx)(Lr.a,{code:!0,style:{margin:0,width:"100%",color:"white"},children:e})},"testrowkey"+e)}))}()]}),Object(he.jsxs)(P.a,{xs:24,sm:12,md:12,style:{alignItems:"center"},children:[Object(he.jsx)(Dr.a,{level:5,style:{margin:0,color:"white",textAlign:"center"},children:"Teslim Edilen Makineler"}),function(){var t,n;return null===(t=e.state)||void 0===t||null===(n=t.reports)||void 0===n?void 0:n.teslimat_bugun_yapilan_is.map((function(e){return Object(he.jsx)(L.a,{children:Object(he.jsx)(Lr.a,{code:!0,style:{margin:0,width:"100%",color:"white"},children:e})},"teslimatrowkey"+e)}))}()]})]})]})})}},{key:"render",value:function(){return Object(he.jsx)(A.a,{children:this.state.reports?Object(he.jsxs)(L.a,{children:[Object(he.jsx)(P.a,{xs:24,sm:24,md:12,lg:8,xl:6,children:this.state.reports?this.renderReports():Object(he.jsx)(ze.a,{})}),Object(he.jsx)(P.a,{xs:24,sm:24,md:12,lg:8,xl:6,children:this.state.reports?this.renderStocks():Object(he.jsx)(ze.a,{})}),Object(he.jsxs)(P.a,{xs:24,sm:24,md:12,lg:8,xl:12,children:[Object(he.jsx)(P.a,{xs:24,sm:24,md:24,lg:24,xl:24,children:this.state.reports?this.renderDailyCompletedTasks():Object(he.jsx)(ze.a,{})}),Object(he.jsx)(P.a,{xs:24,sm:24,md:24,lg:24,xl:24,children:Object(he.jsx)(Br,{})})]})]}):Object(he.jsx)(ze.a,{style:{alignSelf:"center"}})})}}]),n}(a.a.Component),Kr=Yr,Er=n(592);function Nr(){return(Nr=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,N.a.post(Il+"/api/ProductionPlan/CreatePlan",t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(e)return n(),!0})).catch((function(e){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Plan olu\u015fturulurken bir hata olu\u015ftu l\xfctfen tekrar deneyin.."}),okText:"Tamam"}),!1}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gr(){return(Gr=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put(Il+"/api/ProductionPlan/CancelPlan/".concat(t),null,{headers:{Authorization:"Bearer "+H()}}).then((function(e){if(e)return n(),!0})).catch((function(e){return B.a.error({title:"Hata",content:Object(he.jsx)("p",{children:"Sipari\u015f iptal edilirken bir hata olu\u015ftu.L\xfctfen tekrar deneyin.."}),okText:"Tamam"}),!1}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vr(){return(Vr=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/ProductionPlan/GetPlans",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hr(){return qr.apply(this,arguments)}function qr(){return(qr=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/ProductionTasks/GetChassisProductionTasks",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ur(){return Wr.apply(this,arguments)}function Wr(){return(Wr=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/ProductionTasks/GetArmProductionTasks",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jr(e){return Qr.apply(this,arguments)}function Qr(){return(Qr=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,N.a.post(Il+"/api/Task/AddGenericTask",t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){return console.log(e),e.data})).catch((function(e){return null}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zr(e){return $r.apply(this,arguments)}function $r(){return($r=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put(Il+"/api/Task/ModifyGenericTask",t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){return!0})).catch((function(e){return!1}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xr(){return ea.apply(this,arguments)}function ea(){return(ea=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/Task/GetGenericTasksWeb",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return console.log(e),e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(){return(ta=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/Task/GetGenericTasksWithRole/".concat(t),{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function na(){return ra.apply(this,arguments)}function ra(){return(ra=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/Task/GetFinishedGenericTasks",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return console.log(e),e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aa(e){return ia.apply(this,arguments)}function ia(){return(ia=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete(Il+"/api/Task/DeleteGenericTask/"+t,{headers:{Authorization:"Bearer "+H()}}).then((function(e){return!0})).catch((function(e){return B.a.error({title:"Bir hata olu\u015ftu",content:Object(he.jsx)("p",{children:"L\xfctfen tekrar deneyin.."}),okText:"Tamam"}),!1}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function la(e,t){return oa.apply(this,arguments)}function oa(){return(oa=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put(Il+"/api/Task/DivideGenericTask/"+t+"/"+n,{},{headers:{Authorization:"Bearer "+H()}}).then((function(e){return!0})).catch((function(e){return B.a.error({title:"Bir hata olu\u015ftu",content:Object(he.jsx)("p",{children:"L\xfctfen tekrar deneyin.."}),okText:"Tamam"}),!1}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ca(e,t){return sa.apply(this,arguments)}function sa(){return(sa=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put("".concat(Il,"/api/Task/UpdateGenericTask"),{id:t,amount:n},{headers:{Authorization:"Bearer "+H()}}).then((function(e){return console.log(e),e})).catch((function(e){return console.log(e),B.a.error({title:"Bir hata olu\u015ftu",content:Object(he.jsx)("p",{children:"L\xfctfen tekrar deneyin.."}),okText:"Tamam"}),!1}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function da(){return ua.apply(this,arguments)}function ua(){return(ua=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Il+"/api/ProductionTasks/GetFanProductionTasks",{headers:{Authorization:"Bearer "+H()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pa=n(599),ma=n(65),ha=z.a.Option;V.a.locale("tr");var ja,ba={labelCol:{span:7},wrapperCol:{span:17}},fa={wrapperCol:{offset:8,span:16}},xa=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(e){var a,i;return Object(T.a)(this,n),(i=t.call(this,e)).configFile=JSON.parse(null!==(a=localStorage.getItem("config"))&&void 0!==a?a:"{}"),i.formRef=Object(r.createRef)(),i.state={loading:!0,selectedDate:null,pendingOrders:[],data:[],csvdata:[[]]},i.onFinish=function(e){var t;console.log("Success:",e),function(e,t){return Nr.apply(this,arguments)}(Object(u.a)(Object(u.a)({},e),{},{planned_date:null===(t=i.state)||void 0===t?void 0:t.selectedDate.format()}),i.GetData).then((function(){var e;null===(e=i.formRef.current)||void 0===e||e.resetFields()}))},i.onFinishFailed=function(e){console.log("Failed:",e)},i.SaveExcel=function(e){console.log("clikced");var t=ma.a.aoa_to_sheet(e),n=ma.a.book_new();ma.a.book_append_sheet(n,t,"Sheet1"),ma.b(n,"DataSheet.xlsx")},i.dateCellRender=i.dateCellRender.bind(Object(xn.a)(i)),i.GetData=i.GetData.bind(Object(xn.a)(i)),i}return Object(C.a)(n,[{key:"componentDidMount",value:function(){this.GetData()}},{key:"GetData",value:function(){var e=this;(function(){return Vr.apply(this,arguments)})().then((function(t){e.setState({data:t}),console.log(t);var n=[["Planlanan Tarih","M\xfc\u015fteri","Seri No","\xdcr\xfcn","Durum"]];t.forEach((function(e){return n.push([W(e.planned_date),e.customer,e.serial_number,e.description,e.status])})),e.setState({csvdata:n,data:t,loading:!1})})),function(){return Xe.apply(this,arguments)}().then((function(t){e.setState({pendingOrders:t})}))}},{key:"dateCellRender",value:function(e){var t,n=null===(t=this.state.data)||void 0===t?void 0:t.filter((function(t){return e.isSame(t.planned_date,"day")}));return Object(he.jsx)("ul",{style:{margin:0,padding:0},className:"events",children:null===n||void 0===n?void 0:n.map((function(e){return Object(he.jsx)("li",{children:Object(he.jsx)(Lr.a,{style:{fontSize:8},ellipsis:!0,children:e.serial_number})},e.serial_number)}))})}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedDate,r=t.pendingOrders,a=this.onFinish,i=this.onFinishFailed;return Object(he.jsx)(he.Fragment,{children:Object(he.jsxs)(L.a,{children:[Object(he.jsx)(P.a,{md:24,lg:10,children:n?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(_n.a,{style:{margin:"5%"},children:Object(he.jsxs)(ue.a,Object(u.a)(Object(u.a)({},ba),{},{name:"basic",ref:this.formRef,onFinish:a,onFinishFailed:i,children:[Object(he.jsx)(Dr.a,{level:5,children:"".concat(null===n||void 0===n?void 0:n.startOf("day").locale("tr").format("D MMMM YYYY")," Tarihine \u0130\u015f Ekle")}),Object(he.jsx)(ue.a.Item,{label:"\xdcretilecek Makinalar",name:"machine_ids",rules:[{required:!0,message:"L\xfctfen en az bir makine se\xe7in."}],children:Object(he.jsx)(z.a,{mode:"multiple",optionFilterProp:"children",filterOption:function(e,t){return(null===t||void 0===t?void 0:t.props.children.toLowerCase().indexOf(e.toLowerCase()))>=0},children:null===r||void 0===r?void 0:r.map((function(e){return Object(he.jsx)(ha,{value:e.id,children:e.customer+" "+e.serial_number})}))})}),Object(he.jsx)(ue.a.Item,Object(u.a)(Object(u.a)({},fa),{},{children:"admin"==this.props.user.role&&Object(he.jsx)(D.a,{type:"primary",htmlType:"submit",children:"Ekle"})}))]}))}),Object(he.jsx)(_n.a,{style:{margin:"5%"},children:function(){var t,n=null===(t=e.state.data)||void 0===t?void 0:t.filter((function(t){var n;return null===(n=e.state.selectedDate)||void 0===n?void 0:n.isSame(t.planned_date,"day")}));return Object(he.jsx)("ul",{style:{margin:0,padding:0},className:"events",children:null===n||void 0===n?void 0:n.map((function(t){return Object(he.jsx)("li",{children:Object(he.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",margin:5,padding:2,borderBottom:"0.5px solid"},children:[Object(he.jsx)(Lr.a,{ellipsis:!0,children:t.customer+" - "+t.serial_number}),"admin"==e.props.user.role&&Object(he.jsx)(F.a,{title:"Bu plan\u0131 silmek istedi\u011finizden emin misiniz?",onConfirm:function(){!function(e,t){Gr.apply(this,arguments)}(t.machine_id,e.GetData)},okText:"Evet",cancelText:"Hay\u0131r",children:Object(he.jsx)(D.a,{shape:"circle",icon:Object(he.jsx)(pa.a,{}),danger:!0})})]})},t.serial_number)}))})}()})]}):null}),Object(he.jsxs)(P.a,{md:24,lg:14,children:[Object(he.jsx)(D.a,{loading:this.state.loading,style:{float:"right"},onClick:function(){return e.SaveExcel(e.state.csvdata)},children:"Excele Aktar"}),Object(he.jsx)(Er.a,{onSelect:function(t){e.setState({selectedDate:V()(t)})},dateCellRender:this.dateCellRender})]})]})})}}]),n}(a.a.Component),Oa=Object(o.b)((function(e,t){return{user:e.auth.user}}))(xa);function ya(e){var t=e.machine_id,n=e.type,a=e.details,i=Object(r.useState)(null),l=Object(p.a)(i,2),c=l[0],s=l[1],d=Object(o.d)((function(e){return e.auth.user})),u=Object(r.useState)(null),m=Object(p.a)(u,2),h=m[0],j=m[1];function b(){switch(n){case ja.arm:xt(t).then((function(e){e.length>0&&(s(e),j(null===e||void 0===e?void 0:e.reduce((function(e,t){return e.row_created_date>t.row_created_date?e:t}))))}));break;case ja.fan:yt(t).then((function(e){e.length>0&&(s(e),j(null===e||void 0===e?void 0:e.reduce((function(e,t){return e.row_created_date>t.row_created_date?e:t}))))}));break;case ja.chassis:vt(t).then((function(e){e.length>0&&(s(e),j(null===e||void 0===e?void 0:e.reduce((function(e,t){return e.row_created_date>t.row_created_date?e:t}))))}))}}return Object(r.useEffect)((function(){b()}),[t]),c?Object(he.jsxs)(_n.a,{style:{marginBottom:5},title:n===ja.arm?"Kol \u0130\u015flem Ge\xe7mi\u015fi":n===ja.chassis?"\u015ease \u0130\u015flem Ge\xe7mi\u015fi":"Fan \u0130\u015flem Ge\xe7mi\u015fi",children:[Object(he.jsx)(kn.a,{mode:"left",style:{width:"100%"},children:null===c||void 0===c?void 0:c.map((function(e){return Object(he.jsxs)(kn.a.Item,{label:W(e.row_created_date),children:[Object(he.jsx)("p",{children:Object(he.jsx)("b",{children:J(e.location)})}),Object(he.jsx)("p",{children:"G\xf6nderen: ".concat(e.name," ").concat(e.surname)})]},"timelinekey"+e.row_created_date)}))}),"admin"===d.role&&"onaybekliyor"!==(null===h||void 0===h?void 0:h.location)&&"iptal"!==(null===h||void 0===h?void 0:h.location)?Object(he.jsx)(F.a,{title:"Bu par\xe7ay\u0131 bir sonraki konuma g\xf6ndermek istedi\u011finizden emin misiniz?",onConfirm:function(){switch(n){case ja.arm:switch(null===h||void 0===h?void 0:h.location){case"onproduction":nn("galvaniz"===a.chassis_color?"sendedgalvaniz":"sendedpaint",a.machine_id,b);break;case"sendedpaint":case"sendedgalvaniz":nn("galvaniz"===a.chassis_color?"receivedgalvaniz":"receivedpaint",a.machine_id,b);break;case"receivedgalvaniz":case"receivedpaint":nn("sendedsaruhanli",a.machine_id,b);break;case"sendedsaruhanli":nn("receivedsaruhanli",a.machine_id,b)}break;case ja.fan:if("onproduction"===(null===h||void 0===h?void 0:h.location))!function(e,t,n){Xt.apply(this,arguments)}("receivedsaruhanli",a.machine_id,b);break;case ja.chassis:switch(console.log("lastLocation?.location",null===h||void 0===h?void 0:h.location),null===h||void 0===h?void 0:h.location){case"onproduction":en("galvaniz"===a.chassis_color?"sendedgalvaniz":"sendedpaint",a.machine_id,b);break;case"sendedpaint":case"sendedgalvaniz":en("galvaniz"===a.chassis_color?"receivedgalvaniz":"receivedpaint",a.machine_id,b);break;case"receivedgalvaniz":case"receivedpaint":en("sendedsaruhanli",a.machine_id,b);break;case"sendedsaruhanli":en("receivedsaruhanli",a.machine_id,b)}}},okText:"Evet",cancelText:"Hay\u0131r",children:Object(he.jsx)(D.a,{style:{marginBottom:10},type:"primary",children:"Bir Sonraki Konuma G\xf6nder"})}):null]}):null}!function(e){e[e.arm=0]="arm",e[e.fan=1]="fan",e[e.chassis=2]="chassis"}(ja||(ja={}));var ga,va=function(e){var t=e.isVisible,n=e.setIsVisible,a=e.machine_id,i=e.serial_number,l=e.partType,c=e.details,s=Object(r.useState)(null),d=Object(p.a)(s,2),u=d[0],m=d[1],h=Object(r.useState)(null),j=Object(p.a)(h,2),b=j[0],f=j[1],x=Object(o.d)((function(e){return e.auth.user}));function O(){bt(a).then((function(e){e&&(m(e),f(null===e||void 0===e?void 0:e.reduce((function(e,t){return e.row_created_date>t.row_created_date?e:t}))))}))}return Object(r.useEffect)((function(){O()}),[a]),Object(he.jsx)(vn.a,{title:i+" Numaral\u0131 Par\xe7an\u0131n \u0130\u015flem Ge\xe7mi\u015fi",visible:t,footer:null,onCancel:function(){return n(!1)},children:Object(he.jsx)("div",{style:{display:"flex",width:"100%",alignContent:"center",alignItems:"center",justifyContent:"center"},children:u?Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(he.jsx)(ya,{details:c,machine_id:a,type:l}),Object(he.jsx)(_n.a,{title:"Makine \u0130\u015flem Ge\xe7mi\u015fi",style:{marginBottom:5},children:Object(he.jsx)(kn.a,{mode:"left",style:{width:"100%"},children:null===u||void 0===u?void 0:u.map((function(e){return Object(he.jsxs)(kn.a.Item,{label:W(e.row_created_date),children:[Object(he.jsx)("p",{children:Object(he.jsx)("b",{children:J(e.location)})}),Object(he.jsx)("p",{children:"G\xf6nderen: ".concat(e.name," ").concat(e.surname)})]},"timelinekey"+e.row_created_date)}))})}),"admin"===x.role&&"onaybekliyor"!==(null===b||void 0===b?void 0:b.location)&&"iptal"!==(null===b||void 0===b?void 0:b.location)?Object(he.jsx)(F.a,{title:"Bu par\xe7ay\u0131 bir \xf6nceki konuma g\xf6ndermek istedi\u011finizden emin misiniz?",onConfirm:function(){switch(l){case ja.arm:(function(e){return Pt.apply(this,arguments)})(a).then((function(e){e&&O()}));break;case ja.fan:(function(e){return Lt.apply(this,arguments)})(a).then((function(e){e&&O()}));break;case ja.chassis:(function(e){return Yt.apply(this,arguments)})(a).then((function(e){e&&O()}))}},okText:"Evet",cancelText:"Hay\u0131r",children:Object(he.jsx)(D.a,{style:{marginBottom:10},type:"primary",children:"Bir \xd6nceki Konuma Geri G\xf6nder"})}):null]}):Object(he.jsx)(ze.a,{size:"large"})})})},ka=n(108);ka.locale("tr");var _a=JSON.parse(null!==(ga=localStorage.getItem("config"))&&void 0!==ga?ga:"{}"),Sa=function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){var n,r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.abrupt("return",new Promise((function(e){var t=new FileReader;t.readAsDataURL(r),t.onloadend=function(){var n=t.result;e(n)}})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var wa,Ta=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,l=t.clearFilters;return Object(he.jsxs)("div",{style:{padding:8},children:[Object(he.jsx)(pe.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(he.jsx)(D.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(he.jsx)(D.a,{onClick:function(){return r.handleReset(l)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(he.jsx)(yn.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){var r,a,i;return null===(r=n[e])||void 0===r||null===(a=r.toString())||void 0===a||null===(i=a.toLowerCase())||void 0===i?void 0:i.includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={csvdata:[[]],orderDetails:{},loading:!0,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(u.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no.localeCompare(t.order_no)}},r.getColumnSearchProps("order_no")),Object(u.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},r.getColumnSearchProps("serial_number")),Object(u.a)(Object(u.a)({title:"Tip",dataIndex:"type",sorter:function(e,t){return e.type.localeCompare(t.type)}},r.getColumnSearchProps("type")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Marka",dataIndex:"brand",sorter:function(e,t){return e.brand.localeCompare(t.brand)}},r.getColumnSearchProps("brand")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Model",dataIndex:"description",sorter:function(e,t){return e.description&&e.description.localeCompare(t.description&&t.description)}},r.getColumnSearchProps("model")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Fan Tipi",dataIndex:"cooler_type",sorter:function(e,t){return e.cooler_type&&e.cooler_type.localeCompare(t.cooler_type&&t.cooler_type)}},r.getColumnSearchProps("cooler_type")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"\u015ease Rengi",dataIndex:"chassis_color",sorter:function(e,t){return e.chassis_color&&e.chassis_color.localeCompare(t.chassis_color&&t.chassis_color)}},r.getColumnSearchProps("cooler_type")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)({title:"Depo Boyutu",dataIndex:"tank_size",sorter:function(e,t){return e.tank_size-t.tank_size}},r.getColumnSearchProps("tank_size")),Object(u.a)({title:"Durum",dataIndex:"location",sorter:function(e,t){return e.location.localeCompare(t.location)}},r.getColumnSearchProps("location")),Object(u.a)({title:"Son \u0130\u015flem Tarihi",dataIndex:"row_updated_date",sorter:function(e,t){return ka(e.row_updated_date).unix()-ka(t.row_updated_date).unix()}},r.getColumnSearchProps("row_updated_date")),{title:"\u0130\u015flemler",render:function(e,t){return Object(he.jsx)("td",{children:"admin"==r.props.user.role?Object(he.jsx)(D.a,{style:{marginBottom:10},type:"primary",onClick:function(){r.printQRCode("SU"+t.serial_number)},children:"QR Kodu Yazd\u0131r"}):null})}},{render:function(e,t){return Object(he.jsx)("td",{children:"admin"==r.props.user.role?Object(he.jsx)(D.a,{style:{marginBottom:10},type:"primary",onClick:function(){r.setState({historyModalVisible:!0,historyModalId:t.machine_id,orderSelected:Object(u.a)(Object(u.a)({},t),{},{serial_number:t.serial_number,order_id:t.id})})},children:"\u0130\u015flem Ge\xe7mi\u015fi"}):null})}}]},r.componentDidMount=Object(w.a)(Object(S.a)().mark((function e(){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Hr().then((function(e){var t,n;e=null===(t=e)||void 0===t?void 0:t.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{location:J(e.location),row_updated_date:W(e.row_updated_date)})})),r.setState({data:e});var a=[["Sipari\u015f No","Seri No","Tip","Marka","\xdcr\xfcn","Fan Tipi","\u015ease Rengi","Kazan Boyutu","Durum","Son \u0130\u015flem Tarihi"]];null===(n=e)||void 0===n||n.forEach((function(e){return a.push([e.order_no,e.serial_number,e.type,e.brand,e.description,e.cooler_type,e.chassis_color,e.tank_size,e.location,e.row_updated_date])})),r.setState({csvdata:a,loading:!1})}));case 1:case"end":return e.stop()}}),e)}))),r}return Object(C.a)(n,[{key:"printQRCode",value:function(e){var t=window.open("","","height=1024, width=1024"),n=Object(Be.renderToString)(Object(he.jsxs)("div",{style:{width:"50mm",height:"64mm"},children:[Object(he.jsx)(jr.a,{value:e,style:{height:"44mm",width:"44mm",margin:"3mm"},renderAs:"svg"}),Object(he.jsx)("p",{style:{margin:10},children:e})]}));null===t||void 0===t||t.document.write(String(n)),t.document.body.style.margin=0,null===t||void 0===t||t.document.close(),null===t||void 0===t||t.print()}},{key:"render",value:function(){var e,t=this,n=this.state;return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(Y.a,{rowKey:function(e){return"key"+e.serial_number},size:"small",loading:this.state.loading,pagination:{defaultPageSize:10,position:["bottomRight"]},columns:this.state.columns,dataSource:n.data}),Object(he.jsx)(D.a,{style:{float:"right",marginRight:10},type:"default",children:Object(he.jsx)(mr.CSVLink,{separator:"$",data:n.csvdata,children:"CSV'ye aktar"})}),Object(he.jsx)(D.a,{loading:this.state.loading,style:{float:"right",marginLeft:"1rem",marginRight:"1rem"},type:"primary",onClick:function(){var e;return function(e){var t=new Cn.a.Workbook,n=t.addWorksheet("My Sheet");n.properties.defaultRowHeight=80,n.columns=[{header:"Sipari\u015f Numaras\u0131",key:"order_no",width:10},{header:"Seri No",key:"serial_number",width:32},{header:"Tip",key:"type",width:32},{header:"Marka",key:"brand",width:32},{header:"Model",key:"description",width:32},{header:"Fan Tipi",key:"cooler_type",width:32},{header:"\u015ease Rengi",key:"chassis_color",width:32},{header:"Depo Boyutu",key:"tank_size",width:32},{header:"Alternatif \xd6zellikler",key:"alt_features",width:64},{header:"Durum",key:"location",width:32},{header:"Son \u0130\u015flem Tarihi",key:"row_updated_date",width:32},{header:"QR",key:"qr_code",width:30}];var r=Promise.all(null===e||void 0===e?void 0:e.map(function(){var e=Object(w.a)(Object(S.a)().mark((function e(r,a){var i,l,o,c,s,d,u,p,m,h,j;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=a+1,n.addRow({order_no:null===r||void 0===r?void 0:r.order_no,serial_number:null===r||void 0===r?void 0:r.serial_number,type:null!==(i=_a.type.filter((function(e){return e.type===r.type}))[0])&&void 0!==i&&i.text?null===(l=_a.type.filter((function(e){return e.type===r.type}))[0])||void 0===l?void 0:l.text:null===(o=_a.machine_type.filter((function(e){return e.type===r.type}))[0])||void 0===o?void 0:o.text,brand:null===(c=_a.brand.filter((function(e){return e.type===r.brand}))[0])||void 0===c?void 0:c.text,description:r.description,cooler_type:null===(s=_a.cooler_type.filter((function(e){return e.type===r.cooler_type}))[0])||void 0===s?void 0:s.text,chassis_color:null===(d=_a.chassis_color.filter((function(e){return e.type===r.chassis_color}))[0])||void 0===d?void 0:d.text,tank_size:r.tank_size+" LT",location:null===r||void 0===r?void 0:r.location,alt_features:null===r||void 0===r?void 0:r.alt_features,row_updated_date:null===r||void 0===r?void 0:r.row_updated_date}),p="SU"+r.serial_number,m="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=".concat(p),e.next=6,Sa(m);case 6:h=e.sent,j=t.addImage({base64:h,extension:"jpg"}),n.addImage(j,{tl:{col:11,row:u},ext:{width:100,height:100}});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));r.then((function(){n.getColumn(5).eachCell((function(e){var t=n.getCell(null===e||void 0===e?void 0:e.address).value;t>50&&t<1e3&&(n.getCell(null===e||void 0===e?void 0:e.address).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF0000"}})})),t.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="download.xlsx",r.click(),window.URL.revokeObjectURL(n)}))}))}(null===t||void 0===t||null===(e=t.state)||void 0===e?void 0:e.data)},children:"QR Kod"}),this.state.historyModalVisible?Object(he.jsx)(va,{details:this.state.orderSelected,isVisible:this.state.historyModalVisible,machine_id:this.state.historyModalId,serial_number:null===(e=this.state.orderSelected)||void 0===e?void 0:e.serial_number,partType:2,setIsVisible:function(e){return t.setState({historyModalVisible:e})}},this.state.historyModalId):null]})}}]),n}(a.a.Component),Ca=Object(o.b)((function(e,t){return{user:e.auth.user}}))(Ta),Ia=n(108);Ia.locale("tr");var Ma=JSON.parse(null!==(wa=localStorage.getItem("config"))&&void 0!==wa?wa:"{}"),Aa=function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){var n,r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.abrupt("return",new Promise((function(e){var t=new FileReader;t.readAsDataURL(r),t.onloadend=function(){var n=t.result;e(n)}})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var za,Ba=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,l=t.clearFilters;return Object(he.jsxs)("div",{style:{padding:8},children:[Object(he.jsx)(pe.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(he.jsx)(D.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(he.jsx)(D.a,{onClick:function(){return r.handleReset(l)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(he.jsx)(yn.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){var r,a,i;return null===(r=n[e])||void 0===r||null===(a=r.toString())||void 0===a||null===(i=a.toLowerCase())||void 0===i?void 0:i.includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={csvdata:[[]],orderDetails:{},loading:!0,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(u.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no.localeCompare(t.order_no)}},r.getColumnSearchProps("order_no")),Object(u.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},r.getColumnSearchProps("serial_number")),Object(u.a)(Object(u.a)({title:"Tip",dataIndex:"type",sorter:function(e,t){return e.type.localeCompare(t.type)}},r.getColumnSearchProps("type")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Marka",dataIndex:"brand",sorter:function(e,t){return e.brand.localeCompare(t.brand)}},r.getColumnSearchProps("brand")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Model",dataIndex:"description",sorter:function(e,t){return e.description.localeCompare(t.description)}},r.getColumnSearchProps("model")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Kol Tipi",dataIndex:"arm_type",sorter:function(e,t){return e.arm_type&&e.arm_type.localeCompare(t.arm_type&&t.arm_type)}},r.getColumnSearchProps("arm_type")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Kol Uzunlu\u011fu",dataIndex:"arm_length",sorter:function(e,t){return e.arm_length.localeCompare(t.arm_length)}},r.getColumnSearchProps("arm_length")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)({title:"Durum",dataIndex:"location",sorter:function(e,t){return e.location.localeCompare(t.location)}},r.getColumnSearchProps("location")),Object(u.a)({title:"Son \u0130\u015flem Tarihi",dataIndex:"row_updated_date",sorter:function(e,t){return Ia(e.row_updated_date).unix()-Ia(t.row_updated_date).unix()}},r.getColumnSearchProps("row_updated_date")),{title:"\u0130\u015flemler",render:function(e,t){return Object(he.jsx)("td",{children:"admin"==r.props.user.role?Object(he.jsx)(D.a,{style:{marginBottom:10},type:"primary",onClick:function(){r.printQRCode("KU"+t.serial_number)},children:"QR Kodu Yazd\u0131r"}):null})}},{render:function(e,t){return Object(he.jsx)("td",{children:"admin"==r.props.user.role?Object(he.jsx)(D.a,{style:{marginBottom:10},type:"primary",onClick:function(){r.setState({historyModalVisible:!0,historyModalId:t.machine_id,orderSelected:Object(u.a)(Object(u.a)({},t),{},{serial_number:t.serial_number,order_id:t.id})})},children:"\u0130\u015flem Ge\xe7mi\u015fi"}):null})}}]},r.componentDidMount=Object(w.a)(Object(S.a)().mark((function e(){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ur().then((function(e){var t,n;e=null===(t=e)||void 0===t?void 0:t.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{location:J(e.location),row_updated_date:W(e.row_updated_date)})})),r.setState({data:e});var a=[["Sipari\u015f No","Seri No","Tip","Marka","\xdcr\xfcn","Kol Tipi","Kol Uzunlu\u011fu","Durum","Son \u0130\u015flem Tarihi"]];null===(n=e)||void 0===n||n.forEach((function(e){return a.push([e.order_no,e.serial_number,e.type,e.brand,e.description,e.arm_type,e.arm_length,e.location,e.row_updated_date])})),r.setState({csvdata:a,loading:!1})}));case 1:case"end":return e.stop()}}),e)}))),r}return Object(C.a)(n,[{key:"printQRCode",value:function(e,t){var n=window.open("","","height=1024, width=1024"),r=Object(Be.renderToString)(Object(he.jsxs)("div",{style:{width:"50mm",height:"64mm"},children:[Object(he.jsx)(jr.a,{value:e,style:{height:"44mm",width:"44mm",margin:"3mm"},renderAs:"svg"}),Object(he.jsx)("p",{style:{margin:10},children:e})]}));null===n||void 0===n||n.document.write(String(r)),n.document.body.style.margin=0,null===n||void 0===n||n.document.close(),null===n||void 0===n||n.print()}},{key:"render",value:function(){var e,t=this,n=this.state;return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(Y.a,{rowKey:function(e){return"key"+e.serial_number},size:"small",loading:this.state.loading,pagination:{defaultPageSize:10,position:["bottomRight"]},columns:this.state.columns,dataSource:n.data}),Object(he.jsx)(D.a,{loading:this.state.loading,style:{float:"right",marginRight:10},type:"default",children:Object(he.jsx)(mr.CSVLink,{separator:"$",data:n.csvdata,children:"CSV'ye aktar"})}),Object(he.jsx)(D.a,{loading:this.state.loading,style:{float:"right",marginLeft:"1rem",marginRight:"1rem"},type:"primary",onClick:function(){var e;return function(e){var t=new Cn.a.Workbook,n=t.addWorksheet("My Sheet");n.properties.defaultRowHeight=80,n.columns=[{header:"Sipari\u015f Numaras\u0131",key:"order_no",width:10},{header:"Seri No",key:"serial_number",width:32},{header:"Tip",key:"type",width:32},{header:"Marka",key:"brand",width:32},{header:"Model",key:"description",width:32},{header:"Kol Tipi",key:"arm_type",width:32},{header:"Kol Uzunlu\u011fu",key:"arm_length",width:32},{header:"Alternatif \xd6zellikler",key:"alt_features",width:64},{header:"Durum",key:"location",width:32},{header:"Son \u0130\u015flem Tarihi",key:"row_updated_date",width:32},{header:"QR",key:"qr_code",width:30}];var r=Promise.all(null===e||void 0===e?void 0:e.map(function(){var e=Object(w.a)(Object(S.a)().mark((function e(r,a){var i,l,o,c,s,d,u,p,m,h;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=a+1,n.addRow({order_no:null===r||void 0===r?void 0:r.order_no,serial_number:null===r||void 0===r?void 0:r.serial_number,type:null!==(i=Ma.type.filter((function(e){return e.type===r.type}))[0])&&void 0!==i&&i.text?null===(l=Ma.type.filter((function(e){return e.type===r.type}))[0])||void 0===l?void 0:l.text:null===(o=Ma.machine_type.filter((function(e){return e.type===r.type}))[0])||void 0===o?void 0:o.text,brand:null===(c=Ma.brand.filter((function(e){return e.type===r.brand}))[0])||void 0===c?void 0:c.text,description:r.description,arm_type:null===(s=Ma.arm_type.filter((function(e){return e.type===r.arm_type}))[0])||void 0===s?void 0:s.text,arm_length:r.arm_length,location:null===r||void 0===r?void 0:r.location,alt_features:null===r||void 0===r?void 0:r.alt_features,row_updated_date:null===r||void 0===r?void 0:r.row_updated_date}),u="KU"+r.serial_number,p="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=".concat(u),e.next=6,Aa(p);case 6:m=e.sent,h=t.addImage({base64:m,extension:"jpg"}),n.addImage(h,{tl:{col:10,row:d},ext:{width:100,height:100}});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));r.then((function(){n.getColumn(5).eachCell((function(e){var t=n.getCell(null===e||void 0===e?void 0:e.address).value;t>50&&t<1e3&&(n.getCell(null===e||void 0===e?void 0:e.address).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF0000"}})})),t.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="download.xlsx",r.click(),window.URL.revokeObjectURL(n)}))}))}(null===t||void 0===t||null===(e=t.state)||void 0===e?void 0:e.data)},children:"QR Kod"}),this.state.historyModalVisible?Object(he.jsx)(va,{details:this.state.orderSelected,isVisible:this.state.historyModalVisible,machine_id:this.state.historyModalId,serial_number:null===(e=this.state.orderSelected)||void 0===e?void 0:e.serial_number,partType:0,setIsVisible:function(e){return t.setState({historyModalVisible:e})}},this.state.historyModalId):null]})}}]),n}(a.a.Component),Fa=Object(o.b)((function(e,t){return{user:e.auth.user}}))(Ba),Da=n(108);Da.locale("tr");var Ra=JSON.parse(null!==(za=localStorage.getItem("config"))&&void 0!==za?za:"{}"),La=function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){var n,r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.abrupt("return",new Promise((function(e){var t=new FileReader;t.readAsDataURL(r),t.onloadend=function(){var n=t.result;e(n)}})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Pa,Ya=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,l=t.clearFilters;return Object(he.jsxs)("div",{style:{padding:8},children:[Object(he.jsx)(pe.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(he.jsx)(D.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(he.jsx)(D.a,{onClick:function(){return r.handleReset(l)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(he.jsx)(yn.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){var r,a,i;return null===(r=n[e])||void 0===r||null===(a=r.toString())||void 0===a||null===(i=a.toLowerCase())||void 0===i?void 0:i.includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={csvdata:[[]],orderDetails:{},loading:!0,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(u.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no.localeCompare(t.order_no)}},r.getColumnSearchProps("order_no")),Object(u.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},r.getColumnSearchProps("serial_number")),Object(u.a)(Object(u.a)({title:"Tip",dataIndex:"type",sorter:function(e,t){return e.type.localeCompare(t.type)}},r.getColumnSearchProps("type")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Marka",dataIndex:"brand",sorter:function(e,t){return e.brand.localeCompare(t.brand)}},r.getColumnSearchProps("brand")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Model",dataIndex:"description",sorter:function(e,t){return e.description.localeCompare(t.description)}},r.getColumnSearchProps("model")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Fan Tipi",dataIndex:"cooler_type",sorter:function(e,t){return e.cooler_type&&e.cooler_type.localeCompare(t.cooler_type&&t.cooler_type)}},r.getColumnSearchProps("cooler_type")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Pervane Tipi",dataIndex:"fan_type",sorter:function(e,t){return e.fan_type&&e.fan_type.localeCompare(t.fan_type&&t.fan_type)}},r.getColumnSearchProps("fan_type")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)({title:"Pervane \xc7ap\u0131",dataIndex:"fan_radius",sorter:function(e,t){return e.fan_radius-t.fan_radius}},r.getColumnSearchProps("fan_radius")),Object(u.a)({title:"Meme Tipi",dataIndex:"meme_type",sorter:function(e,t){return e.meme_type-t.meme_type}},r.getColumnSearchProps("meme_type")),Object(u.a)({title:"Durum",dataIndex:"location",sorter:function(e,t){return e.location.localeCompare(t.location)}},r.getColumnSearchProps("location")),Object(u.a)({title:"Son \u0130\u015flem Tarihi",dataIndex:"row_updated_date",sorter:function(e,t){return Da(e.row_updated_date).unix()-Da(t.row_updated_date).unix()}},r.getColumnSearchProps("row_updated_date")),{title:"\u0130\u015flemler",render:function(e,t){return Object(he.jsx)("td",{children:"admin"==r.props.user.role?Object(he.jsx)(D.a,{style:{marginBottom:10},type:"primary",onClick:function(){r.printQRCode("FU"+t.serial_number)},children:"QR Kodu Yazd\u0131r"}):null})}},{render:function(e,t){return Object(he.jsx)("td",{children:"admin"==r.props.user.role?Object(he.jsx)(D.a,{style:{marginBottom:10},type:"primary",onClick:function(){console.log("ID:"+t.machine_id),r.setState({historyModalVisible:!0,historyModalId:t.machine_id,orderSelected:Object(u.a)(Object(u.a)({},t),{},{serial_number:t.serial_number,order_id:t.id})})},children:"\u0130\u015flem Ge\xe7mi\u015fi"}):null})}}]},r.componentDidMount=Object(w.a)(Object(S.a)().mark((function e(){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:da().then((function(e){var t,n;e=null===(t=e)||void 0===t?void 0:t.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{location:J(e.location),row_updated_date:W(e.row_updated_date)})})),r.setState({data:e});var a=[["Sipari\u015f No","Seri No","Tip","Marka","\xdcr\xfcn","Fan Tipi","Pervane Tipi","Pervane \xc7ap\u0131","Meme Tipi","Durum","Son \u0130\u015flem Tarihi"]];null===(n=e)||void 0===n||n.forEach((function(e){return a.push([e.order_no,e.serial_number,e.type,e.brand,e.description,e.cooler_type,e.fan_type,e.fan_radius,e.meme_type,e.location,e.row_updated_date])})),r.setState({csvdata:a,loading:!1})}));case 1:case"end":return e.stop()}}),e)}))),r}return Object(C.a)(n,[{key:"printQRCode",value:function(e,t){var n=window.open("","","height=1024, width=1024"),r=Object(Be.renderToString)(Object(he.jsxs)("div",{style:{width:"50mm",height:"64mm"},children:[Object(he.jsx)(jr.a,{value:e,style:{height:"44mm",width:"44mm",margin:"3mm"},renderAs:"svg"}),Object(he.jsx)("p",{style:{margin:10},children:e})]}));null===n||void 0===n||n.document.write(String(r)),n.document.body.style.margin=0,null===n||void 0===n||n.document.close(),null===n||void 0===n||n.print()}},{key:"render",value:function(){var e,t=this,n=this.state;return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(Y.a,{rowKey:function(e){return"key"+e.id},size:"small",loading:this.state.loading,pagination:{defaultPageSize:10,position:["bottomRight"]},columns:this.state.columns,dataSource:n.data}),Object(he.jsx)(D.a,{style:{float:"right",marginRight:10},type:"default",children:Object(he.jsx)(mr.CSVLink,{separator:"$",data:n.csvdata,children:"CSV'ye aktar"})}),Object(he.jsx)(D.a,{loading:this.state.loading,style:{float:"right",marginLeft:"1rem",marginRight:"1rem"},type:"primary",onClick:function(){var e;return function(e){var t=new Cn.a.Workbook,n=t.addWorksheet("My Sheet");n.properties.defaultRowHeight=80,n.columns=[{header:"Sipari\u015f Numaras\u0131",key:"order_no",width:10},{header:"Seri No",key:"serial_number",width:32},{header:"Tip",key:"type",width:32},{header:"Marka",key:"brand",width:32},{header:"Model",key:"description",width:32},{header:"Fan Tipi",key:"fan_type",width:32},{header:"Pervane Tipi",key:"cooler_type",width:32},{header:"Pervane \xc7ap\u0131",key:"fan_radius",width:32},{header:"Meme Tipi",key:"meme_type",width:32},{header:"Durum",key:"location",width:32},{header:"Alternatif \xd6zellikler",key:"alt_features",width:64},{header:"Son \u0130\u015flem Tarihi",key:"row_updated_date",width:32},{header:"QR",key:"qr_code",width:30}];var r=Promise.all(null===e||void 0===e?void 0:e.map(function(){var e=Object(w.a)(Object(S.a)().mark((function e(r,a){var i,l,o,c,s,d,u,p,m,h;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=a+1,n.addRow({order_no:null===r||void 0===r?void 0:r.order_no,serial_number:null===r||void 0===r?void 0:r.serial_number,type:null!==(i=Ra.type.filter((function(e){return e.type===r.type}))[0])&&void 0!==i&&i.text?null===(l=Ra.type.filter((function(e){return e.type===r.type}))[0])||void 0===l?void 0:l.text:null===(o=Ra.machine_type.filter((function(e){return e.type===r.type}))[0])||void 0===o?void 0:o.text,brand:null===(c=Ra.brand.filter((function(e){return e.type===r.brand}))[0])||void 0===c?void 0:c.text,description:r.description,fan_type:null===r||void 0===r?void 0:r.fan_type,cooler_type:null===(s=Ra.cooler_type.filter((function(e){return e.type===r.cooler_type}))[0])||void 0===s?void 0:s.text,fan_radius:null===r||void 0===r?void 0:r.fan_radius,meme_type:r.meme_type,location:null===r||void 0===r?void 0:r.location,alt_features:null===r||void 0===r?void 0:r.alt_features,row_updated_date:null===r||void 0===r?void 0:r.row_updated_date}),u="FU"+r.serial_number,p="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=".concat(u),e.next=6,La(p);case 6:m=e.sent,h=t.addImage({base64:m,extension:"jpg"}),n.addImage(h,{tl:{col:12,row:d},ext:{width:100,height:100}});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));r.then((function(){n.getColumn(5).eachCell((function(e){var t=n.getCell(null===e||void 0===e?void 0:e.address).value;t>50&&t<1e3&&(n.getCell(null===e||void 0===e?void 0:e.address).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF0000"}})})),t.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="download.xlsx",r.click(),window.URL.revokeObjectURL(n)}))}))}(null===t||void 0===t||null===(e=t.state)||void 0===e?void 0:e.data)},children:"QR Kod"}),this.state.historyModalVisible?Object(he.jsx)(va,{details:this.state.orderSelected,isVisible:this.state.historyModalVisible,machine_id:this.state.historyModalId,serial_number:null===(e=this.state.orderSelected)||void 0===e?void 0:e.serial_number,partType:1,setIsVisible:function(e){return t.setState({historyModalVisible:e})}},this.state.historyModalId):null]})}}]),n}(a.a.Component),Ka=Object(o.b)((function(e,t){return{user:e.auth.user}}))(Ya),Ea=JSON.parse(null!==(Pa=localStorage.getItem("config"))&&void 0!==Pa?Pa:"{}");var Na,Ga=function(e){var t=e.isVisible,n=e.setIsVisible,a=e.task_id,i=Object(r.useState)(null),l=Object(p.a)(i,2),c=l[0],s=l[1];return Object(o.d)((function(e){return e.auth.user})),Object(r.useEffect)((function(){(function(e){return _t.apply(this,arguments)})(a).then((function(e){e&&s(e)}))}),[a]),Object(he.jsx)(vn.a,{title:a+" Numaral\u0131 Makinenin \u0130\u015flem Ge\xe7mi\u015fi",visible:t,footer:null,onCancel:function(){return n(!1)},children:Object(he.jsx)("div",{style:{display:"flex",width:"100%",alignContent:"center",alignItems:"center",justifyContent:"center"},children:c?Object(he.jsx)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:Object(he.jsx)(_n.a,{title:"Makine \u0130\u015flem Ge\xe7mi\u015fi",style:{marginBottom:5},children:Object(he.jsx)(kn.a,{mode:"left",style:{width:"100%"},children:null===c||void 0===c?void 0:c.map((function(e){var t;return Object(he.jsxs)(kn.a.Item,{label:W(e.row_created_date),children:[Object(he.jsx)("p",{children:Object(he.jsx)("b",{children:null===(t=Ea.role.find((function(t){return t.type===e.location})))||void 0===t?void 0:t.text})}),Object(he.jsx)("p",{children:"G\xf6nderen: ".concat(e.name," ").concat(e.surname)})]},"timelinekey"+e.row_created_date)}))})})}):Object(he.jsx)(ze.a,{size:"large"})})})},Va=JSON.parse(null!==(Na=localStorage.getItem("config"))&&void 0!==Na?Na:"{}"),Ha=n(108);Ha.locale("tr");var qa,Ua=function(e){var t=Object(r.useState)(1),n=Object(p.a)(t,2),a=n[0],i=n[1];return Object(he.jsxs)("div",{children:[Object(he.jsx)(En.a,{max:e.maxAmount,style:{width:"70%"},size:"large",defaultValue:1,formatter:function(e){return"B\xf6l\xfcnen Miktar ".concat(e)},parser:function(e){return e.split("B\xf6l\xfcnen Miktar ")[1]},onChange:function(e){return i(e)}}),Object(he.jsx)(D.a,{danger:!0,size:"large",style:{marginLeft:10},onClick:function(){la(e.id,a).then((function(t){t&&e.getTasks()}))},children:"B\xf6l"})]})},Wa=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,l=t.clearFilters;return Object(he.jsxs)("div",{style:{padding:8},children:[Object(he.jsx)(pe.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(he.jsx)(D.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(he.jsx)(D.a,{onClick:function(){return r.handleReset(l)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(he.jsx)(yn.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){var r,a,i;return null===(r=n[e])||void 0===r||null===(a=r.toString())||void 0===a||null===(i=a.toLowerCase())||void 0===i?void 0:i.includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={selectedRole:"anasiparis",selectedUnit:"adet",authorizationList:[],csvdata:[["G\xf6rev No","Grup","Ba\u015fl\u0131k","Ek A\xe7\u0131klama","Miktar","Kazan Tipi","Tamamlanan","G\xf6rev Verilme Tarihi","Son \u0130\u015flem Tarihi"]],loading:!1,data:[],columns:[Object(u.a)({title:"G\xf6rev No",dataIndex:"id",sorter:function(e,t){return e.id-t.id}},r.getColumnSearchProps("id")),Object(u.a)(Object(u.a)({title:"Grup",dataIndex:"last_location",sorter:function(e,t){return e.last_location.localeCompare(t.last_location)}},r.getColumnSearchProps("last_location")),{},{render:function(e,t){return Object(he.jsx)("td",{children:r.props.isActive?Object(he.jsx)(z.a,{value:e,size:"large",style:{width:200},onChange:function(e){Zr({id:t.id,new_group:e}).then((function(e){r.GetTasks()}))},children:function(){var e;return console.log(r.state.authorizationList),null===(e=r.state.authorizationList)||void 0===e?void 0:e.map((function(e){var t,n;return Object(he.jsx)(z.a.Option,{value:e.authority,children:null===(t=Va.role)||void 0===t||null===(n=t.find((function(t){return t.type===e.authority})))||void 0===n?void 0:n.text})}))}()}):function(){var t;return null===(t=Va.role)||void 0===t?void 0:t.map((function(t){if(t.type==e)return Object(he.jsx)("p",{children:t.text})}))}()})}}),Object(u.a)(Object(u.a)({title:"Ba\u015fl\u0131k",dataIndex:"title",sorter:function(e,t){return e.title.localeCompare(t.title)}},r.getColumnSearchProps("title")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Ek A\xe7\u0131klama",dataIndex:"description",sorter:function(e,t){return e.description.localeCompare(t.description)}},r.getColumnSearchProps("description")),{},{render:function(e){return Object(he.jsx)("td",{children:e?U(e):""})}}),{title:"Miktar",dataIndex:"amount",sorter:function(e,t){return parseInt(e.amount.split(" ")[0])-parseInt(t.amount.split(" ")[0])}},{title:"Tamamlanan",dataIndex:"completed_amount",sorter:function(e,t){return e.completed_amount-t.completed_amount}},Object(u.a)(Object(u.a)({title:"G\xf6rev Verilme Tarihi",dataIndex:"row_created_date",sorter:function(e,t){return Ha(e.row_created_date).unix()-Ha(t.row_created_date).unix()}},r.getColumnSearchProps("row_created_date")),{},{render:function(e){return Object(he.jsx)("td",{children:W(e)})}}),Object(u.a)(Object(u.a)({title:"Son \u0130\u015flem Tarihi",dataIndex:"row_updated_date",sorter:function(e,t){return Ha(e.row_updated_date).unix()-Ha(t.row_updated_date).unix()}},r.getColumnSearchProps("row_updated_date")),{},{render:function(e){return Object(he.jsx)("td",{children:W(e)})}}),{title:"\u0130\u015flemler",render:function(e,t){return Object(he.jsxs)("td",{children:["admin"!=r.props.user.role&&"ambar1"!=r.props.user.role||"ambar1"!=t.last_location||"QR Kod Bas\u0131m\u0131"!=t.title?null:Object(he.jsx)(F.a,{title:Object(he.jsxs)("div",{children:["Bu g\xf6revi tamamlamak istedi\u011finizden eminmisiniz? ",Object(he.jsx)("br",{})," Bu i\u015flem geri al\u0131namaz"]}),onConfirm:function(){ca(t.id,1).then((function(e){e&&r.GetTasks()}))},okText:"Evet",cancelText:"Hay\u0131r",children:Object(he.jsx)(D.a,{style:{margin:5},block:!0,size:"large",type:"primary",children:"Tamamla"})}),"admin"==r.props.user.role?Object(he.jsx)(F.a,{title:Object(he.jsxs)("div",{children:["Bu g\xf6revi silmek istedi\u011finizden eminmisiniz? ",Object(he.jsx)("br",{})," Bu i\u015flem geri al\u0131namaz"]}),onConfirm:function(){aa(t.id).then((function(e){e&&r.GetTasks()}))},okText:"Evet",cancelText:"Hayir",children:Object(he.jsx)(D.a,{style:{margin:5},block:!0,danger:!0,size:"large",type:"primary",children:"Sil"})}):null,Object(he.jsx)(D.a,{block:!0,style:{margin:5},onClick:function(){r.setState({isModalVisible:!0,selectedTaskId:t.id})},size:"large",type:"primary",children:"\u0130\u015flem Ge\xe7mi\u015fi"}),"depo"!==r.props.user.role||"depo"==r.props.user.role&&0==t.completed_amount&&r.props.isActive?Object(he.jsx)(Kn.a,{content:Object(he.jsx)(Ua,{maxAmount:parseInt(t.amount.split(" ")[0])-1,id:t.id,getTasks:r.GetTasks.bind(Object(xn.a)(r))}),title:Object(he.jsxs)(he.Fragment,{children:["G\xf6revin tamamlanan ve kalan k\u0131sm\u0131n\u0131 ay\u0131rmak istedi\u011finizden emin misiniz? ",Object(he.jsx)("br",{})," Bu i\u015flem geri al\u0131namaz"]}),trigger:"click",children:Object(he.jsx)(D.a,{style:{margin:5},block:!0,danger:!0,size:"large",type:"primary",children:"B\xf6l"})}):null]})}}]},r.componentWillReceiveProps=function(e,t){setTimeout((function(){r.GetTasks(),Qn(r.props.user.role).then((function(e){e&&r.setState({authorizationList:e})}))}),500)},r.SaveExcel=function(e){console.log("clikced");var t=ma.a.aoa_to_sheet(e),n=ma.a.book_new();ma.a.book_append_sheet(n,t,"Sheet1"),ma.b(n,"DataSheet.xlsx")},r}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.GetTasks(),Qn(this.props.user.role).then((function(t){t&&e.setState({authorizationList:t})}))}},{key:"GetTasks",value:function(){var e=this,t=this.props.isActive;console.log(t),this.setState({loading:!0});var n=[["G\xf6rev No","Grup","Ba\u015fl\u0131k","Ek A\xe7\u0131klama","Miktar","Tamamlanan","G\xf6rev Verilme Tarihi","Son \u0130\u015flem Tarihi"]];t?Xr().then((function(t){null===t||void 0===t||t.forEach((function(e){n.push([e.id,e.last_location,e.title,e.description,e.amount,e.completed_amount,W(e.row_created_date),W(e.row_updated_date)])})),e.setState({data:t,csvdata:n,loading:!1})})):na().then((function(t){null===t||void 0===t||t.forEach((function(e){n.push([e.id,e.last_location,e.title,e.description,e.amount,e.completed_amount,W(e.row_created_date),W(e.row_updated_date)])})),e.setState({data:t,csvdata:n,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state;return console.log("sasa",t.authorizationList),Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("div",{children:Object(he.jsxs)(_n.a,{children:["admin"===this.props.user.role&&Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",marginBottom:5},children:[Object(he.jsx)(pe.a,{disabled:!this.props.isActive,onChange:function(t){e.setState({selectedTitle:t.target.value})},value:this.state.selectedTitle,style:{width:500},size:"large",addonBefore:"G\xf6rev",placeholder:"G\xf6rev Tan\u0131m\u0131"}),Object(he.jsx)(pe.a,{disabled:!this.props.isActive,onChange:function(t){e.setState({selectedDescription:t.target.value})},value:this.state.selectedDescription,style:{width:500,marginLeft:25,marginRight:25},size:"large",addonBefore:"A\xe7\u0131klama?",placeholder:"Opsiyonel"}),Object(he.jsxs)(pe.a.Group,{compact:!0,children:[Object(he.jsx)(En.a,{disabled:!this.props.isActive,onChange:function(t){e.setState({selectedAmount:t})},value:this.state.selectedAmount,style:{width:100},min:1,placeholder:"0",size:"large"}),Object(he.jsx)(pe.a,{disabled:!this.props.isActive,onChange:function(t){e.setState({selectedUnit:t.target.value})},value:this.state.selectedUnit,style:{width:100},defaultValue:"adet",size:"large"})]}),Object(he.jsx)(D.a,{style:Ja.button,type:"primary",loading:this.state.addTaskButtonLoading,disabled:!t.selectedAmount||!t.selectedTitle||!t.selectedRole,onClick:function(){e.setState({addTaskButtonLoading:!0}),Jr({title:t.selectedTitle,description:t.selectedDescription,group:t.selectedRole,amount:t.selectedAmount,unit:t.selectedUnit}).then((function(t){t&&(e.setState({selectedTitle:null,selectedDescription:null,selectedAmount:null,selectedUnit:"adet"}),e.GetTasks()),e.setState({addTaskButtonLoading:!1})}))},children:"Emir Olu\u015ftur"})]}),Object(he.jsx)(D.a,{style:Object(u.a)(Object(u.a)({},Ja.button),{},{float:"right"}),onClick:function(){return e.SaveExcel(e.state.csvdata)},children:"Emirleri Excele Aktar"})]})}),Object(he.jsx)(Y.a,{pagination:{defaultPageSize:10,position:["bottomRight"]},rowKey:function(e){return"key"+e.id},size:"small",style:{maxWidth:"99.5%"},loading:this.state.loading,columns:this.state.columns,dataSource:t.data}),Object(he.jsx)(Ga,{isVisible:this.state.isModalVisible,task_id:this.state.selectedTaskId,setIsVisible:function(t){return e.setState({isModalVisible:t})}})]})}}]),n}(a.a.Component),Ja={button:{marginLeft:25}},Qa=Object(o.b)((function(e,t){return{user:e.auth.user}}))(Wa),Za=JSON.parse(null!==(qa=localStorage.getItem("config"))&&void 0!==qa?qa:"{}");var $a,Xa=function(e){function t(e){var t=e.value,n=e.text,a=Object(r.useState)([]),i=Object(p.a)(a,2),l=i[0],o=i[1];Object(r.useEffect)((function(){(function(e){return Hn.apply(this,arguments)})(t).then((function(e){console.log(e),e&&o(e)}))}),[t]);return Object(he.jsx)(_n.a,{style:{width:"60%",marginBottom:"1%",marginTop:"2%"},children:Object(he.jsx)(Y.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(he.jsx)(he.Fragment,{children:Object(he.jsx)("b",{children:n})})},dataSource:l,columns:[{title:"\xdcr\xfcn Ad\u0131",dataIndex:"name",key:"type",width:50},{title:"Gereken Miktar",dataIndex:"amount",width:50}]})})}return Object(he.jsx)(he.Fragment,{children:Object(he.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:Za.tank_size.sort((function(e,t){return parseInt(t.type)-parseInt(e.type)})).map((function(e){return Object(he.jsx)(t,{value:parseInt(e.type),text:"".concat(e.type," LT Tank \u0130\xe7in \u0130htiya\xe7 Listesi")})}))})})},ei=JSON.parse(null!==($a=localStorage.getItem("config"))&&void 0!==$a?$a:"{}");var ti,ni=function(e){return Object(he.jsx)(he.Fragment,{children:Object(he.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:Object(he.jsx)(_n.a,{style:{width:"60%",marginBottom:"1%",marginTop:"2%"},title:"",children:Object.keys(ei).map((function(e){var t=ei[e];return"role"==e?function(e,t){var n=[{title:"Tip",dataIndex:"type",width:33},{title:"G\xf6sterim",dataIndex:"text",width:33},{title:"\u0130\u015flem",dataIndex:"shortend",width:34}],r=null===e||void 0===e?void 0:e.sort((function(e,t){return e.type.localeCompare(t.type)}));return Object(he.jsx)(_n.a,{style:{marginBottom:10},children:Object(he.jsx)(Y.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("b",{children:"Kullan\u0131c\u0131 Rolleri"}),Object(he.jsx)(Kn.a,{content:Object(he.jsxs)(ue.a,{layout:"vertical",onFinish:function(e){an(String(t),e)},children:[Object(he.jsx)(ue.a.Item,{name:"type",rules:[{required:!0,message:"L\xfctfen sadece k\xfc\xe7\xfck harf ve bo\u015fluksuz yaz\u0131n."}],label:"Tip",children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{name:"text",label:"G\xf6sterim",children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{name:"shortend",label:"K\u0131saltma",rules:[{required:!0,message:"L\xfctfen sadece b\xfcy\xfck harf yaz\u0131n, ve harf say\u0131s\u0131na dikkat edin."}],children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{children:Object(he.jsx)(D.a,{type:"primary",htmlType:"submit",children:"Ekle"})})]}),title:"Yeni kullan\u0131c\u0131 ekle",trigger:"click",children:Object(he.jsx)(D.a,{type:"primary",style:{float:"right"},children:"Ekle"})})]})},dataSource:r,columns:n,rowKey:"type"})},"hello")}(t,e):null}))})},"hello")})},ri=JSON.parse(null!==(ti=localStorage.getItem("config"))&&void 0!==ti?ti:"{}");var ai,ii=function(e){var t=ue.a.useForm(),n=Object(p.a)(t,1)[0];function a(e){var t=e.value,a=e.text,i=Object(r.useState)([]),l=Object(p.a)(i,2),c=l[0],s=l[1],d=Object(o.d)((function(e){return e.auth.user}));function u(){Qn(t).then((function(e){e&&s(e)}))}Object(r.useEffect)((function(){u()}),[t]);var m=[{title:"Yetki",dataIndex:"authority",render:function(e){var t;return Object(he.jsx)("td",{children:null===(t=ri.role.find((function(t){return t.type===e})))||void 0===t?void 0:t.text})}},{title:"\u0130\u015flemler",width:"min-content",render:function(e,t){return Object(he.jsx)("td",{children:"admin"==d.role?Object(he.jsx)(D.a,{style:{marginBottom:10},danger:!0,type:"primary",onClick:function(){(function(e){return Xn.apply(this,arguments)})(t.id).then((function(e){e?u():B.a.error({title:"Bir hata olu\u015ftu",content:Object(he.jsx)("p",{children:"L\xfctfen tekrar deneyin."}),okText:"Tamam"})}))},children:"Sil"}):null})}}];return Object(he.jsx)(_n.a,{children:Object(he.jsx)(Y.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("b",{children:a}),Object(he.jsx)(Kn.a,{content:Object(he.jsxs)(ue.a,{form:n,layout:"vertical",onFinish:function(e){(function(e){return $n.apply(this,arguments)})({role:t,authority:e.authority}).then((function(e){e?(u(),n.resetFields()):B.a.error({title:"Bir hata olu\u015ftu",content:Object(he.jsx)("p",{children:"L\xfctfen tekrar deneyin."}),okText:"Tamam"})}))},children:[Object(he.jsx)(ue.a.Item,{name:"authority",label:"Yetki",rules:[{required:!0}],children:Object(he.jsx)(z.a,{children:ri.role.sort((function(e,t){return t.text.localeCompare(t.text)})).filter((function(e){return e.type!==d.role})).map((function(e){return Object(he.jsx)(z.a.Option,{value:e.type,children:e.text})}))})}),Object(he.jsx)(ue.a.Item,{children:Object(he.jsx)(D.a,{type:"primary",htmlType:"submit",children:"Ekle"})})]}),title:"".concat(a," Ekleme Yap"),trigger:"click",children:Object(he.jsx)(D.a,{type:"primary",style:{float:"right"},children:"Ekle"})})]})},dataSource:c,columns:m})})}return Object(he.jsx)(he.Fragment,{children:Object(he.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:Object(he.jsx)(L.a,{gutter:[10,10],children:ri.role.sort((function(e,t){return t.text.localeCompare(t.text)})).map((function(e){return Object(he.jsx)(P.a,{xs:24,sm:24,md:12,lg:8,xl:8,children:Object(he.jsx)(a,{value:e.type,text:"".concat(e.text," Rol\xfcn\xfcn Yetkileri ")})})}))})})})},li=n(336),oi=n(337),ci=n(600),si=n(593);var di={button:{marginLeft:25}},ui=_.a.div(ai||(ai=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 1rem;\n  gap: 1rem;\n"]))),pi=function(){var e,t,n=Object(r.useState)([]),a=Object(p.a)(n,2),i=a[0],l=a[1],o=null===i||void 0===i?void 0:i.filter((function(e){return""!==e})),c=Object(r.useState)(),d=Object(p.a)(c,2),u=d[0],m=d[1],h=Object(r.useState)(),j=Object(p.a)(h,2),b=j[0],f=j[1],x=Object(s.f)(),O=[{label:"Kollu Sipari\u015fler",route:"kollu"},{label:"Turbo Sipari\u015fler",route:"turbo"},{label:"Di\u011fer Sipari\u015fler",route:"diger"},{label:"Haz\u0131r Tanklar",route:"tanklar"},{label:"Aktif Makina Durumlar\u0131",route:"aktifMakina"}];Object(r.useEffect)((function(){var e,t=localStorage.getItem("config"),n=null===(e=JSON.parse(t))||void 0===e?void 0:e.role;m(n)}),[]),Object(r.useEffect)(Object(w.a)(Object(S.a)().mark((function e(){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ut().then((function(e){return l(null===e||void 0===e?void 0:e.split(","))}));case 1:case"end":return e.stop()}}),e)}))),[]);var y=function(){var e=Object(w.a)(Object(S.a)().mark((function e(){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Jt(o,b).then((function(e){return l(null===e||void 0===e?void 0:e.split(","))})),f(null);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Zt(o,t).then((function(e){return l(null===e||void 0===e?void 0:e.split(","))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=screen.width<800;return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsxs)(ui,{children:[Object(he.jsx)(D.a,{disabled:!b,style:di.button,onClick:y,type:"primary",children:"K\u0131sayol Olu\u015ftur +"}),Object(he.jsx)(z.a,{placeholder:"Se\xe7in",style:{width:120},value:b,onChange:function(e){f(e)},options:null===u||void 0===u||null===(e=u.filter((function(e){return!(null!==o&&void 0!==o&&o.includes(e.type))})))||void 0===e?void 0:e.map((function(e){return{value:e.type,label:e.text}}))})]}),Object(he.jsx)(oi.b,{onChange:function(e,t){var n=Object(li.a)(o,e,t);l(n)},children:Object(he.jsx)(ci.a,{id:"items",boxesPerRow:v?2:4,rowHeight:100,style:{height:"400px"},children:null===o||void 0===o||null===(t=o.filter((function(e){return""!==e})))||void 0===t?void 0:t.map((function(e,t){var n;return Object(he.jsx)(si.a,{style:{display:e?"block":"none"},children:Object(he.jsxs)("div",{style:{padding:"5px",position:"relative"},children:[Object(he.jsx)("button",{style:{position:"absolute",right:0,top:10,borderTopRightRadius:"10px",backgroundColor:"#FF4845",color:"white",boxShadow:"none",border:"none",height:"26px",width:"40px",cursor:"pointer"},onClick:function(){return g(e)},children:"Sil"}),Object(he.jsx)("div",{style:{margin:"5px",borderRadius:"10px",backgroundColor:"rgb(245,245,245)",width:"100%",height:"90px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"grabbing"},children:Object(he.jsx)("span",{style:{cursor:"pointer",userSelect:"none"},onClick:function(t){x.push({pathname:"GenericTaskWithRoleScreen",state:{role:e}})},children:null===u||void 0===u||null===(n=u.find((function(t){return(null===t||void 0===t?void 0:t.type)===e})))||void 0===n?void 0:n.text})})]})},t)}))})}),Object(he.jsx)("hr",{}),Object(he.jsx)("div",{style:{display:"grid",gridTemplateColumns:"auto auto auto",gap:"1rem"},children:null===O||void 0===O?void 0:O.map((function(e,t){return Object(he.jsx)("div",{onClick:function(){return x.push({pathname:"aktifMakina"===e.route?"/activeMachines":"tanklar"===e.route?"/tankProducerFromShortcuts":"filteredOrders/".concat(e.route)})},style:{margin:"5px",borderRadius:"10px",backgroundColor:"rgb(245,245,245)",width:"100%",height:"90px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"grabbing"},children:e.label},t)}))})]})};var mi,hi=function(e){function t(){var t=Object(r.useState)([]),n=Object(p.a)(t,2),a=n[0],i=n[1];Object(r.useEffect)((function(){!function(){switch(e.type){case"Fan":(function(){return qn.apply(this,arguments)})().then((function(e){if(e){var t=[];Object.keys(e).forEach((function(n){t.push({name:n,amount:e[n]})})),i(t)}}));break;case"Kumanda":(function(){return Wn.apply(this,arguments)})().then((function(e){if(e){var t=[];Object.keys(e).forEach((function(n){t.push({name:n,amount:e[n]})})),i(t)}}));break;case"\xc7eki":(function(){return Jn.apply(this,arguments)})().then((function(e){if(e){var t=[];Object.keys(e).forEach((function(n){t.push({name:n,amount:e[n]})})),i(t)}}));break;case"Pompa":(function(){return Un.apply(this,arguments)})().then((function(e){if(e){var t=[];Object.keys(e).forEach((function(n){t.push({name:n,amount:e[n]})})),i(t)}}));break;case"\u015ease":(function(){return Vn.apply(this,arguments)})().then((function(e){if(e){var t=[];Object.keys(e.total).forEach((function(n){t.push({name:n,amount:e.total[n],finished_amount:e.finished[n]})})),i(t)}}))}}()}),[]);var l="\u015ease"===e.type?[{title:"\xdcr\xfcn Ad\u0131",dataIndex:"name",key:"type",width:50},{title:"Gereken Miktar",dataIndex:"amount",width:50},{title:"Stoktaki Miktar",dataIndex:"finished_amount",width:50,render:function(e){return Object(he.jsx)("div",{children:e||0})}},{title:"Net Stok",width:50,render:function(e,t,n){var r=(t.finished_amount?t.finished_amount:0)-t.amount;return Object(he.jsx)("div",{style:{color:r<0?"red":void 0,fontWeight:"bolder"},children:r})}}]:[{title:"\xdcr\xfcn Ad\u0131",dataIndex:"name",key:"type",width:50},{title:"Gereken Miktar",dataIndex:"amount",width:50}];return Object(he.jsx)(_n.a,{style:{width:"60%",marginBottom:"1%",marginTop:"2%"},children:Object(he.jsx)(Y.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(he.jsx)(he.Fragment,{children:Object(he.jsxs)("b",{children:[e.type," \u0130htiya\xe7 Listesi"]})})},dataSource:a.sort((function(e,t){return e.name.localeCompare(t.name)})),columns:l})})}return Object(he.jsx)(he.Fragment,{children:Object(he.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:Object(he.jsx)(t,{})})})},ji=JSON.parse(null!==(mi=localStorage.getItem("config"))&&void 0!==mi?mi:"{}"),bi={machine_type:"Makine Tipleri",brand:"Markalar",type:"Tipler",cooler_type:"Fan Tipleri",tank_size:"Depo Boyutlar\u0131",pump:"Pompalar",tow_type:"\xc7eki Tipleri",chassis_color:"\u015ease Renkleri",caldron_type:"Kazan Tipleri",fan_type:"Pervane Tipleri",arm_type:"Kol Tipleri",fan_radius:"Fan \xc7aplar\u0131",order_tooker:"Sipari\u015f Alanlar",commander:"Kumandalar",turktraktormodel:"T\xfcrk Trakt\xf6r Modelleri",meme_type:"Meme Tipleri",caldron_material:"Kazan Materyalleri",role:"Kullan\u0131c\u0131 Rolleri"};var fi,xi=function(e){return Object(he.jsx)(he.Fragment,{children:Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(he.jsxs)(_n.a,{title:"\xdcretim S\xfcresi \u0130\u015flemleri",style:{width:"60%",marginBottom:"1%",marginTop:"2%"},children:[Object(he.jsx)(Gn.a,{style:{marginBottom:10},addonBefore:"\u015ease \xdcretim S\xfcresi",placeholder:String(null===ji||void 0===ji?void 0:ji.chassis_production_time),suffix:"G\xfcn",enterButton:"De\u011fi\u015ftir",size:"large",onSearch:function(e){an("chassis_production_time",{text:e})}},"saseUretim"),Object(he.jsx)(Gn.a,{style:{marginBottom:10},addonBefore:"Fan \xdcretim S\xfcresi",suffix:"G\xfcn",placeholder:String(null===ji||void 0===ji?void 0:ji.fan_production_time),enterButton:"De\u011fi\u015ftir",size:"large",onSearch:function(e){an("fan_production_time",{text:e})}},"fanUretim"),Object(he.jsx)(Gn.a,{style:{marginBottom:10},addonBefore:"Kol \xdcretim S\xfcresi",placeholder:String(null===ji||void 0===ji?void 0:ji.arm_production_time),suffix:"G\xfcn",enterButton:"De\u011fi\u015ftir",size:"large",onSearch:function(e){an("arm_production_time",{text:e})}},"kolUretim")]},"uretimSuresiProgress"),Object(he.jsx)(_n.a,{style:{width:"60%",marginBottom:"1%",marginTop:"2%"},title:"",children:Object.keys(ji).map((function(e){var t=ji[e];if("object"==typeof t&&"role"!=e){if(2===Object.keys(t[0]).length)return function(e,t){var n=[{title:"Tip",dataIndex:"type",key:"type",width:45},{title:"G\xf6sterim",dataIndex:"text",width:45},{title:"\u0130\u015flemler",width:10,render:function(e){return Object(he.jsx)("td",{children:Object(he.jsx)(D.a,{style:{marginBottom:10},danger:!0,type:"primary",onClick:function(){ln(Object(u.a)(Object(u.a)({},e),{},{key:t})).then((function(e){e&&Te()}))},children:"Sil"})})}}];return Object(he.jsx)(_n.a,{style:{marginBottom:10},children:Object(he.jsx)(Y.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("b",{children:bi[t]}),Object(he.jsx)(Kn.a,{content:Object(he.jsxs)(ue.a,{layout:"vertical",onFinish:function(e){an(String(t),e).then((function(e){e&&Te()}))},children:[Object(he.jsx)(ue.a.Item,{name:"type",label:"Tip",rules:[{required:!0,message:"L\xfctfen sadece k\xfc\xe7\xfck harf ve bo\u015fluksuz yaz\u0131n."}],children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{name:"text",label:"G\xf6sterim",children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{children:Object(he.jsx)(D.a,{type:"primary",htmlType:"submit",children:"Ekle"})})]}),title:"".concat(bi[t],"a Ekleme Yap"),trigger:"click",children:Object(he.jsx)(D.a,{type:"primary",style:{float:"right"},children:"Ekle"})})]})},dataSource:null===e||void 0===e?void 0:e.sort((function(e,t){return e.type.localeCompare(t.type)})),columns:n,rowKey:"type"})},t)}(t,e);if(3===Object.keys(t[0]).length)return function(e,t){var n=[{title:"Tip",dataIndex:"type",key:"type",width:30},{title:"G\xf6sterim",dataIndex:"text",width:30},{title:"K\u0131saltma (Barkod \xfczerinde)",dataIndex:"shortend",width:30},{title:"\u0130\u015flemler",width:10,render:function(e){return Object(he.jsx)("td",{children:Object(he.jsx)(D.a,{style:{marginBottom:10},danger:!0,type:"primary",onClick:function(){ln(Object(u.a)(Object(u.a)({},e),{},{key:t})).then((function(e){e&&Te()}))},children:"Sil"})})}}];return Object(he.jsx)(_n.a,{style:{marginBottom:10},children:Object(he.jsx)(Y.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("b",{children:bi[t]}),Object(he.jsx)(Kn.a,{content:Object(he.jsxs)(ue.a,{layout:"vertical",onFinish:function(e){an(String(t),e)},children:[Object(he.jsx)(ue.a.Item,{name:"type",rules:[{required:!0,message:"L\xfctfen sadece k\xfc\xe7\xfck harf ve bo\u015fluksuz yaz\u0131n."}],label:"Tip",children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{name:"text",label:"G\xf6sterim",children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{name:"shortend",label:"K\u0131saltma",rules:[{required:!0,message:"L\xfctfen sadece b\xfcy\xfck harf yaz\u0131n, ve harf say\u0131s\u0131na dikkat edin."}],children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{children:Object(he.jsx)(D.a,{type:"primary",htmlType:"submit",children:"Ekle"})})]}),title:"".concat(bi[t],"a Ekleme Yap"),trigger:"click",children:Object(he.jsx)(D.a,{type:"primary",style:{float:"right"},children:"Ekle"})})]})},dataSource:null===e||void 0===e?void 0:e.sort((function(e,t){return e.type.localeCompare(t.type)})),columns:n,rowKey:"type"})},t)}(t,e)}return null}))},"configTable")]},"hello")})},Oi=JSON.parse(null!==(fi=localStorage.getItem("config"))&&void 0!==fi?fi:"{}");var yi,gi=function(e){var t=ue.a.useForm(),n=Object(p.a)(t,1)[0];function a(e){var t=e.value,a=e.text,i=Object(r.useState)([]),l=Object(p.a)(i,2),c=l[0],s=l[1],d=Object(o.d)((function(e){return e.auth.user}));function u(){er(t).then((function(e){e&&s(e)}))}Object(r.useEffect)((function(){u()}),[t]);var m=[{title:"\xdcr\xfcn Ad\u0131",dataIndex:"name",key:"type"},{title:"Gereken Miktar",dataIndex:"amount"},{title:"\u0130\u015flemler",render:function(e,t){return Object(he.jsx)("td",{children:"admin"==d.role?Object(he.jsx)(D.a,{style:{marginBottom:10},danger:!0,type:"primary",onClick:function(){ar(t.id).then((function(e){e?u():B.a.error({title:"Bir hata olu\u015ftu",content:Object(he.jsx)("p",{children:"L\xfctfen tekrar deneyin."}),okText:"Tamam"})}))},children:"Sil"}):null})}}];return Object(he.jsx)(Y.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("b",{children:a}),Object(he.jsx)(Kn.a,{content:Object(he.jsxs)(ue.a,{form:n,layout:"vertical",onFinish:function(e){nr({amount:e.amount,name:e.name,tank_size:t}).then((function(e){e?(u(),n.resetFields()):B.a.error({title:"Bir hata olu\u015ftu",content:Object(he.jsx)("p",{children:"L\xfctfen tekrar deneyin."}),okText:"Tamam"})}))},children:[Object(he.jsx)(ue.a.Item,{name:"name",label:"\xdcr\xfcn",rules:[{required:!0}],children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{name:"amount",label:"Miktar",children:Object(he.jsx)(En.a,{min:0})}),Object(he.jsx)(ue.a.Item,{children:Object(he.jsx)(D.a,{type:"primary",htmlType:"submit",children:"Ekle"})})]}),title:"".concat(a," Ekleme Yap"),trigger:"click",children:Object(he.jsx)(D.a,{type:"primary",style:{float:"right"},children:"Ekle"})})]})},dataSource:c,columns:m,rowKey:"id"},t.toString()+"Head")}return Object(he.jsx)(he.Fragment,{children:Object(he.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:Object(he.jsx)(_n.a,{title:"\u0130htiya\xe7 Listesi \u0130\u015flemleri",style:{width:"60%",marginBottom:"1%",marginTop:"2%"},children:Oi.tank_size.sort((function(e,t){return parseInt(t.type)-parseInt(e.type)})).map((function(e){return Object(he.jsx)(a,{value:parseInt(e.type),text:"".concat(e.text," LT Tank \u0130htiya\xe7 Listesi")},e.type)}))},"requiermentTable")},"hello")})},vi=JSON.parse(null!==(yi=localStorage.getItem("config"))&&void 0!==yi?yi:"{}"),ki=n(108);ki.locale("tr");var _i=function(e){var t=Object(r.useState)(1),n=Object(p.a)(t,2),a=n[0],i=n[1];return Object(he.jsxs)("div",{children:[Object(he.jsx)(En.a,{max:e.maxAmount,style:{width:"70%"},size:"large",defaultValue:1,formatter:function(e){return"B\xf6l\xfcnen Miktar ".concat(e)},parser:function(e){return null===e||void 0===e?void 0:e.split("B\xf6l\xfcnen Miktar ")[1]},onChange:function(e){return i(e)}}),Object(he.jsx)(D.a,{danger:!0,size:"large",style:{marginLeft:10},onClick:function(){la(e.id,a).then((function(t){t&&e.getTasks()}))},children:"B\xf6l"})]})},Si=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(e){var r,a;return Object(T.a)(this,n),(a=t.call(this,e)).configFile=JSON.parse(null!==(r=localStorage.getItem("config"))&&void 0!==r?r:"{}"),a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,i=t.confirm,l=t.clearFilters;return Object(he.jsxs)("div",{style:{padding:8},children:[Object(he.jsx)(pe.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(r,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(he.jsx)(D.a,{type:"primary",onClick:function(){return a.handleSearch(r,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(he.jsx)(D.a,{onClick:function(){return a.handleReset(l)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(he.jsx)(yn.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){var r,a,i;return null===(r=n[e])||void 0===r||null===(a=r.toString())||void 0===a||null===(i=a.toLowerCase())||void 0===i?void 0:i.includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(e){return e}}},a.handleSearch=function(e,t,n){t(),a.setState({searchText:e[0],searchedColumn:n})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.state={selectedRole:"anasiparis",selectedUnit:"adet",csvdata:[["G\xf6rev No","Grup","Ba\u015fl\u0131k","Ek A\xe7\u0131klama","Miktar","Kazan Tipi","Tamamlanan","G\xf6rev Verilme Tarihi","Son \u0130\u015flem Tarihi"]],loading:!1,data:[],columns:[Object(u.a)({title:"G\xf6rev No",dataIndex:"id",sorter:function(e,t){return e.id-t.id}},a.getColumnSearchProps("id")),Object(u.a)(Object(u.a)({title:"Grup",dataIndex:"last_location",sorter:function(e,t){return e.last_location.localeCompare(t.last_location)}},a.getColumnSearchProps("last_location")),{},{render:function(e,t){return Object(he.jsx)("td",{children:a.props.isActive?Object(he.jsx)(z.a,{disabled:"admin"!==a.props.user.role,value:e,size:"large",style:{width:200},onChange:function(e){Zr({id:t.id,new_group:e}).then((function(e){a.GetTasks()}))},children:function(){var e;return null===(e=vi.role)||void 0===e?void 0:e.map((function(e){return Object(he.jsx)(z.a.Option,{value:e.type,children:e.text})}))}()}):function(){var t;return null===(t=vi.role)||void 0===t?void 0:t.map((function(t){if(t.type==e)return Object(he.jsx)("p",{children:t.text})}))}()})}}),Object(u.a)(Object(u.a)({title:"Ba\u015fl\u0131k",dataIndex:"title",sorter:function(e,t){return e.title.localeCompare(t.title)}},a.getColumnSearchProps("title")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Ek A\xe7\u0131klama",dataIndex:"description",sorter:function(e,t){return e.description.localeCompare(t.description)}},a.getColumnSearchProps("description")),{},{render:function(e){return Object(he.jsx)("td",{children:e?U(e):""})}}),{title:"Miktar",dataIndex:"amount",sorter:function(e,t){var n,r;return parseInt(null===(n=e.amount)||void 0===n?void 0:n.split(" ")[0])-parseInt(null===(r=t.amount)||void 0===r?void 0:r.split(" ")[0])}},{title:"Tamamlanan",dataIndex:"completed_amount",sorter:function(e,t){return e.completed_amount-t.completed_amount}},Object(u.a)(Object(u.a)({title:"G\xf6rev Verilme Tarihi",dataIndex:"row_created_date",sorter:function(e,t){return ki(e.row_created_date).unix()-ki(t.row_created_date).unix()}},a.getColumnSearchProps("row_created_date")),{},{render:function(e){return Object(he.jsx)("td",{children:W(e)})}}),Object(u.a)(Object(u.a)({title:"Son \u0130\u015flem Tarihi",dataIndex:"row_updated_date",sorter:function(e,t){return ki(e.row_updated_date).unix()-ki(t.row_updated_date).unix()}},a.getColumnSearchProps("row_updated_date")),{},{render:function(e){return Object(he.jsx)("td",{children:W(e)})}}),{title:"\u0130\u015flemler",render:function(e,t){var n;return Object(he.jsxs)("td",{children:["admin"!=a.props.user.role&&"ambar1"!=a.props.user.role||"ambar1"!=t.last_location||"QR Kod Bas\u0131m\u0131"!=t.title?null:Object(he.jsx)(F.a,{title:Object(he.jsxs)("div",{children:["Bu g\xf6revi tamamlamak istedi\u011finizden eminmisiniz? ",Object(he.jsx)("br",{})," Bu i\u015flem geri al\u0131namaz"]}),onConfirm:function(){ca(t.id,1).then((function(e){e&&a.GetTasks()}))},okText:"Evet",cancelText:"Hay\u0131r",children:Object(he.jsx)(D.a,{style:{margin:5},block:!0,size:"large",type:"primary",children:"Tamamla"})}),"admin"==a.props.user.role?Object(he.jsx)(F.a,{title:Object(he.jsxs)("div",{children:["Bu g\xf6revi silmek istedi\u011finizden eminmisiniz? ",Object(he.jsx)("br",{})," Bu i\u015flem geri al\u0131namaz"]}),onConfirm:function(){aa(t.id).then((function(e){e&&a.GetTasks()}))},okText:"Evet",cancelText:"Hayir",children:Object(he.jsx)(D.a,{style:{margin:5},block:!0,danger:!0,size:"large",type:"primary",children:"Sil"})}):null,Object(he.jsx)(D.a,{block:!0,style:{margin:5},onClick:function(){a.setState({isModalVisible:!0,selectedTaskId:t.id})},size:"large",type:"primary",children:"\u0130\u015flem Ge\xe7mi\u015fi"}),"admin"==a.props.user.role||"lazer"==a.props.user.role||"lazer2"===a.props.user.role||"lazerkesim"===a.props.user.role||"depo"==a.props.user.role&&0==t.completed_amount&&a.props.isActive?Object(he.jsx)(Kn.a,{content:Object(he.jsx)(_i,{maxAmount:parseInt(null===t||void 0===t||null===(n=t.amount)||void 0===n?void 0:n.split(" ")[0])-1,id:t.id,getTasks:a.GetTasks.bind(Object(xn.a)(a))}),title:Object(he.jsxs)(he.Fragment,{children:["G\xf6revin tamamlanan ve kalan k\u0131sm\u0131n\u0131 ay\u0131rmak istedi\u011finizden emin misiniz? ",Object(he.jsx)("br",{})," Bu i\u015flem geri al\u0131namaz"]}),trigger:"click",children:Object(he.jsx)(D.a,{style:{margin:5},block:!0,danger:!0,size:"large",type:"primary",children:"B\xf6l"})}):null]})}}]},a.componentWillReceiveProps=function(e,t){setTimeout((function(){var e,t;null!==(e=a.props.location)&&void 0!==e&&null!==(t=e.state)&&void 0!==t&&t.role?a.GetTasks():a.props.history.push("shortcuts")}),500)},a.SaveExcel=function(e){var t=ma.a.aoa_to_sheet(e),n=ma.a.book_new();ma.a.book_append_sheet(n,t,"Sheet1"),ma.b(n,"DataSheet.xlsx")},a}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e,t;null!==(e=this.props.location)&&void 0!==e&&null!==(t=e.state)&&void 0!==t&&t.role?this.GetTasks():this.props.history.push("shortcuts")}},{key:"GetTasks",value:function(){var e=this;this.props.isActive;this.setState({loading:!0});var t=[["G\xf6rev No","Grup","Ba\u015fl\u0131k","Ek A\xe7\u0131klama","Miktar","Tamamlanan","G\xf6rev Verilme Tarihi","Son \u0130\u015flem Tarihi"]];(function(e){return ta.apply(this,arguments)})(this.props.location.state.role).then((function(n){null===n||void 0===n||n.forEach((function(e){t.push([e.id,e.last_location,e.title,e.description,e.amount,e.completed_amount,W(e.row_created_date),W(e.row_updated_date)])})),e.setState({data:n,csvdata:t,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state;return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("div",{children:Object(he.jsx)(_n.a,{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(he.jsx)(D.a,{style:Object(u.a)(Object(u.a)({},wi.button),{},{float:"right"}),onClick:function(){return e.SaveExcel(e.state.csvdata)},children:"Emirleri Excele Aktar"})})}),Object(he.jsx)(Y.a,{pagination:{defaultPageSize:10,position:["bottomRight"]},rowKey:function(e){return"key"+e.id},size:"small",style:{maxWidth:"99.5%"},loading:this.state.loading,columns:this.state.columns,dataSource:t.data}),Object(he.jsx)(Ga,{isVisible:this.state.isModalVisible,task_id:this.state.selectedTaskId,setIsVisible:function(t){return e.setState({isModalVisible:t})}})]})}}]),n}(a.a.Component),wi={button:{marginLeft:25}},Ti=Object(o.b)((function(e,t){return{user:e.auth.user}}))(Si),Ci=z.a.Option,Ii=z.a.OptGroup,Mi=n(67);var Ai=function(e){var t,n,a=JSON.parse(null!==(t=localStorage.getItem("config"))&&void 0!==t?t:"{}"),i=Object(r.useState)(""),l=Object(p.a)(i,2),o=l[0],c=l[1],d=Object(r.useState)([]),m=Object(p.a)(d,2),h=m[0],j=m[1],b=Object(r.useState)([]),f=Object(p.a)(b,2),x=f[0],O=f[1],y=Object(r.useState)("turbo"),g=Object(p.a)(y,2),v=g[0],k=g[1],_=Object(r.useState)({brand:"",type:"",cooler_type:"",arm_type:"",tank_size:0,pump:"",order_no:"000000",order_amount:0,year:""}),T=Object(p.a)(_,2),C=T[0],I=T[1],M=Object(r.useState)(!1),A=Object(p.a)(M,2),B=A[0],F=A[1],R=function(){switch(v){case"kollu":return C.brand+C.type+C.arm_type+C.tank_size+C.pump+C.year+0+C.order_no+0+C.order_amount;case"turbo":return C.brand+C.type+C.cooler_type+C.tank_size+C.pump+C.year+0+C.order_no+0+C.order_amount;case"diger":return C.brand+C.type+C.year+0+C.order_no+0+C.order_amount;default:return""}}(),L=ue.a.useForm(),P=Object(p.a)(L,1)[0],Y=Object(s.g)().pathname,K=Object(s.f)(),E=Y.split("/")[2];return Object(r.useEffect)((function(){pt(E).then((function(e){delete e.date,delete e.year,k(e.production_unit),O({orderDetails:e,caldron_stock:"onstock",order_amount:String(e.order_amount)}),P.setFieldsValue(Object(u.a)(Object(u.a)({},e),{},{caldron_stock:"onstock",order_amount:String(e.order_amount)}))}))}),[E]),Object(r.useEffect)((function(){on().then((function(e){j(e)}))}),[]),Object(he.jsxs)(ml,{style:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap-reverse",overflow:"auto"},children:[Object(he.jsxs)(ue.a,{form:P,initialValues:null===x||void 0===x?void 0:x.orderDetails,onFieldsChange:function(){var e="turktraktor"==P.getFieldValue("brand")?P.getFieldValue("brand")+" "+P.getFieldValue("model"):"turbo"==P.getFieldValue("production_unit")?P.getFieldValue("brand")+" "+P.getFieldValue("tank_size")+"LT "+P.getFieldValue("cooler_type")+P.getFieldValue("fan_radius")+"cm "+P.getFieldValue("fan_type"):"kollu"==P.getFieldValue("production_unit")?P.getFieldValue("brand")+" "+P.getFieldValue("tank_size")+"LT "+P.getFieldValue("arm_type")+" "+P.getFieldValue("arm_length"):"diger"==P.getFieldValue("production_unit")?P.getFieldValue("brand")+" "+P.getFieldValue("type"):"";c(R+","+e.toUpperCase()),P.getFieldValue("model")&&"turktraktor"==P.getFieldValue("brand")&&P.setFieldsValue({caldron_color:P.getFieldValue("model")})},onFinish:function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,Ge(t,R);case 3:n=e.sent,F(!1),n&&K.goBack();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),labelCol:{span:5},wrapperCol:{span:24},style:{maxWidth:"calc(100% - 168px)",minWidth:"450px"},requiredMark:!1,children:[Object(he.jsx)(ue.a.Item,{name:"date",initialValue:Re()(),label:"Tarih",required:!0,children:Object(he.jsx)(Me.a,{disabled:!0})}),Object(he.jsx)(ue.a.Item,{name:"customer",label:"M\xfc\u015fteri Ad\u0131",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:250,message:"Maksimum s\u0131n\u0131r a\u015f\u0131ld\u0131."}],required:!0,children:Object(he.jsx)(Ae.a,{style:{width:200},options:h,placeholder:"aramak i\xe7in yaz\u0131n.",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})}),Object(he.jsx)(ue.a.Item,{name:"address",label:"Adresi",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:250,message:"Maksimum s\u0131n\u0131r a\u015f\u0131ld\u0131."}],required:!0,children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{name:"phone_number",label:"Telefon No",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:10,min:10,message:"Telefon numaras\u0131 10 haneden olu\u015fmal\u0131d\u0131r."}],required:!0,children:Object(he.jsx)(pe.a,{addonBefore:"+90",style:{width:"100%"}})}),Object(he.jsx)(ue.a.Item,{name:"production_unit",label:"\xdcretim Birimi",initialValue:null===x||void 0===x||null===(n=x.orderDetails)||void 0===n?void 0:n.productUnit,required:!0,children:Object(he.jsxs)(me.a.Group,{onChange:function(e){k(e.target.value)},children:[Object(he.jsx)(me.a,{value:"turbo",children:"Turbo"}),Object(he.jsx)(me.a,{value:"kollu",children:"Kollu"}),Object(he.jsx)(me.a,{value:"diger",children:"Di\u011fer"})]})}),Object(he.jsx)(ue.a.Item,{name:"brand",label:"Marka",required:!0,children:Object(he.jsx)(z.a,{onSelect:function(e){var t=a.brand.filter((function(t){return t.type==e}));I(Object(u.a)(Object(u.a)({},C),{},{brand:t[0].shortend}))},children:a.brand.map((function(e){return Object(he.jsx)(Ci,{value:e.type,children:e.text},e.type)}))})}),"turbo"==v&&"T"==C.brand?Object(he.jsx)(ue.a.Item,{name:"model",label:"Model",required:!0,children:Object(he.jsx)(z.a,{children:a.turktraktormodel.map((function(e){return Object(he.jsx)(Ci,{value:e.text,children:e.text},e.text)}))})}):null,Object(he.jsx)(ue.a.Item,{name:"type",label:"Tip",required:!0,children:"turbo"===v||"kollu"===v?Object(he.jsx)(z.a,{onSelect:function(e){var t=a.type.filter((function(t){return t.type==e}));I(Object(u.a)(Object(u.a)({},C),{},{type:t[0].shortend}))},children:a.type.map((function(e){return Object(he.jsx)(Ci,{value:e.type,children:e.text},e.type)}))}):Object(he.jsx)(z.a,{onSelect:function(e){var t=a.machine_type.filter((function(t){return t.type==e}));I(Object(u.a)(Object(u.a)({},C),{},{type:t[0].shortend}))},children:a.machine_type.map((function(e){return Object(he.jsx)(Ci,{value:e.type,children:e.text},e.type)}))})}),"kollu"==v||"turbo"==v?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(ue.a.Item,{name:"caldron_color",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:32,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Kazan Rengi",required:!0,children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{name:"caldron_stock",label:"Kazan Tedarik",children:Object(he.jsxs)(me.a.Group,{children:[Object(he.jsx)(me.a,{value:"onstock",children:"Stoktan"}),Object(he.jsx)(me.a,{value:"new",children:"Kazan \xdcreticiden"})]})}),Object(he.jsx)(ue.a.Item,{name:"caldron_material",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:19,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Materyal",required:!0,children:Object(he.jsx)(z.a,{children:a.caldron_material.map((function(e){return Object(he.jsx)(Ci,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"tank_size",label:"Depo Hacmi",required:!0,children:Object(he.jsx)(z.a,{onSelect:function(e){var t=a.tank_size.filter((function(t){return t.type==e}));I(Object(u.a)(Object(u.a)({},C),{},{tank_size:parseInt(t[0].shortend)}))},children:Object(he.jsx)(Ii,{label:"Litre",children:a.tank_size.map((function(e){return Object(he.jsx)(Ci,{value:e.type,children:e.text},e.type)}))})})}),Object(he.jsx)(ue.a.Item,{name:"tow_type",label:"\xc7eki Tipi",required:!0,children:Object(he.jsx)(z.a,{children:a.tow_type.map((function(e){return Object(he.jsx)(Ci,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"pump",label:"Pompa",required:!0,children:Object(he.jsx)(z.a,{onSelect:function(e){var t=a.pump.filter((function(t){return t.type==e}));I(Object(u.a)(Object(u.a)({},C),{},{pump:t[0].shortend}))},children:a.pump.map((function(e){return Object(he.jsx)(Ci,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"commander",label:"Kumanda",required:!0,children:Object(he.jsx)(z.a,{children:a.commander.map((function(e){return Object(he.jsx)(Ci,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"meme_type",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:19,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Meme Tipi",required:!0,children:Object(he.jsx)(z.a,{children:a.meme_type.map((function(e){return Object(he.jsx)(Ci,{value:e.type,children:e.text},e.type)}))})})]}):null,"kollu"==v?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(ue.a.Item,{name:"arm_type",label:"Kol Tipi",required:!0,children:Object(he.jsx)(z.a,{onSelect:function(e){var t=a.arm_type.filter((function(t){return t.type==e}));I(Object(u.a)(Object(u.a)({},C),{},{arm_type:t[0].shortend}))},children:a.arm_type.map((function(e){return Object(he.jsx)(Ci,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"meme_distance",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:19,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Meme Aral\u0131\u011f\u0131",required:!0,children:Object(he.jsx)(pe.a,{maxLength:19})}),Object(he.jsx)(ue.a.Item,{name:"arm_length",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:30,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Kol Uzunlu\u011fu",required:!0,children:Object(he.jsx)(pe.a,{maxLength:20})})]}):null,"turbo"==v?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(ue.a.Item,{name:"cooler_type",label:"Fan Tipi",required:!0,children:Object(he.jsx)(z.a,{onSelect:function(e){var t=a.cooler_type.filter((function(t){return t.type==e}));I(Object(u.a)(Object(u.a)({},C),{},{cooler_type:t[0].shortend}))},children:a.cooler_type.map((function(e){return Object(he.jsx)(Ci,{value:e.type,children:e.text},e.type)}))})}),"turbo"==v?Object(he.jsx)(ue.a.Item,{name:"caldron_type",label:"Kazan Tipi",required:!0,children:Object(he.jsx)(z.a,{children:a.caldron_type.map((function(e){return Object(he.jsx)(Ci,{value:e.type,children:e.text},e.type)}))})}):null,"turbo"==v?Object(he.jsx)(ue.a.Item,{name:"fan_radius",label:"Pervane \xc7ap\u0131",required:!0,children:Object(he.jsx)(z.a,{children:a.fan_radius.map((function(e){return Object(he.jsx)(Ci,{value:e.type,children:e.text},e.type)}))})}):null,"turbo"==v?Object(he.jsx)(ue.a.Item,{name:"fan_type",label:"Pervane Tipi",required:!0,children:Object(he.jsx)(z.a,{children:a.fan_type.map((function(e){return Object(he.jsx)(Ci,{value:e.type,children:e.text},e.type)}))})}):null]}):null,Object(he.jsx)(ue.a.Item,{name:"order_no",label:"Sipari\u015f No",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:6,message:"Maksimum s\u0131n\u0131r a\u015f\u0131ld\u0131."},{min:6,message:"Sipari\u015f No 6 Karakter olmal\u0131d\u0131r.."}],required:!0,children:Object(he.jsx)(pe.a,{maxLength:6,onChange:function(e){I(Object(u.a)(Object(u.a)({},C),{},{order_no:q(e.target.value,"0",6)}))}})}),Object(he.jsx)(ue.a.Item,{name:"order_amount",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:5,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Sipari\u015f Adedi",required:!0,children:Object(he.jsx)(pe.a,{max:99,min:1,type:"number",onChange:function(e){I(Object(u.a)(Object(u.a)({},C),{},{order_amount:parseInt(e.target.value)}))}})}),Object(he.jsx)(ue.a.Item,{name:"year",label:"Y\u0131l",initialValue:Re()(),required:!0,children:Object(he.jsx)(Me.a,{disabled:!0,picker:"year"})}),Object(he.jsx)(ue.a.Item,{name:"chassis_color",label:"\u015ease Rengi",required:!0,children:Object(he.jsx)(z.a,{children:a.chassis_color.map((function(e){return Object(he.jsx)(Ci,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"alt_features",rules:[{max:250,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Ek \xd6zellikler",required:!0,children:Object(he.jsx)(pe.a.TextArea,{maxLength:250})}),Object(he.jsx)(ue.a.Item,{name:"order_tooker",label:"Sipari\u015f Alan",required:!0,children:Object(he.jsx)(z.a,{children:a.order_tooker.map((function(e){return Object(he.jsx)(Ci,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"serial_number",label:"Seri No",children:Object(he.jsx)(pe.a,{disabled:!0,placeholder:R})}),Object(he.jsx)(ue.a.Item,{wrapperCol:{span:12,offset:6},children:Object(he.jsx)(D.a,{disabled:B,size:"large",block:!0,type:"primary",htmlType:"submit",children:B?"G\xf6nderiliyor..":"Sipari\u015fi D\xfczenle"})})]}),Object(he.jsx)("div",{style:{display:"block",width:"min-content"},children:Object(he.jsx)(Mi,{value:o,renderAs:"svg",size:178})})]})},zi=function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){var n,r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.abrupt("return",new Promise((function(e){var t=new FileReader;t.readAsDataURL(r),t.onloadend=function(){var n=t.result;e(n)}})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Bi(e,t){if(t)return Object(he.jsxs)("div",{style:{display:"flex"},children:[Object(he.jsxs)("p",{style:{fontWeight:"bold",marginRight:"5px"},children:[e,":"]}),Object(he.jsx)("p",{children:t})]})}var Fi,Di=function(e){Object(I.a)(r,e);var t=Object(M.a)(r);function r(e){var n,a,i,l;return Object(T.a)(this,r),(l=t.call(this,e)).configFile=JSON.parse(null!==(n=localStorage.getItem("config"))&&void 0!==n?n:"{}"),l.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,a=t.confirm,i=t.clearFilters;return Object(he.jsxs)("div",{style:{padding:8},children:[Object(he.jsx)(pe.a,{ref:function(e){l.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return l.handleSearch(r,a,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(he.jsx)(D.a,{type:"primary",onClick:function(){return l.handleSearch(r,a,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(he.jsx)(D.a,{onClick:function(){return l.handleReset(i)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(he.jsx)(yn.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){var r,a,i;return null===(r=n[e])||void 0===r||null===(a=r.toString())||void 0===a||null===(i=a.toLowerCase())||void 0===i?void 0:i.includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){return l.searchInput.select()}))},render:function(e){return e}}},l.handleSearch=function(e,t,n){t(),l.setState({searchText:e[0],searchedColumn:n})},l.handleReset=function(e){e(),l.setState({searchText:""})},l.state={movableMachines:[],orderModalVisible:!1,keepMachineDetails:!1,csvdata:[["Seri No","Sipari\u015f No","Sipari\u015f Tarihi","M\xfc\u015fteri","Telefon","Adres","Sipari\u015f Alan","Durum"]],orderDetails:{},loading:!0,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],filteredData:[],columns:[Object(u.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no.localeCompare(t.order_no)}},l.getColumnSearchProps("order_no")),Object(u.a)({title:"M\xfc\u015fteri",dataIndex:"customer",sorter:function(e,t){return e.customer.localeCompare(t.customer)}},l.getColumnSearchProps("customer")),Object(u.a)({title:"Telefon No",dataIndex:"phone_number"},l.getColumnSearchProps("phone_number")),Object(u.a)({title:"Lokasyon",dataIndex:"address"},l.getColumnSearchProps("address")),Object(u.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},l.getColumnSearchProps("serial_number")),Object(u.a)(Object(u.a)({title:"\xdcr\xfcn Tipi",dataIndex:"production_unit",sorter:function(e,t){return e.production_unit.localeCompare(t.production_unit)}},l.getColumnSearchProps("production_unit")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Miktar",sorter:function(e,t){return e.pending_amount-t.pending_amount}},l.getColumnSearchProps("order_amount")),{},{render:function(e,t){return Object(he.jsx)("td",{children:String(t.order_amount-t.pending_amount)+"/"+t.order_amount})}}),Object(u.a)(Object(u.a)({title:"Sipari\u015f Tarihi",dataIndex:"date",sorter:function(e,t){return Re()(e.date,"D MMMM YYYY, HH:mm").unix()-Re()(t.date,"D MMMM YYYY, HH:mm").unix()}},l.getColumnSearchProps("date")),{},{render:function(e){return Object(he.jsx)("td",{children:e})}}),Object(u.a)(Object(u.a)({title:"Sipari\u015f Alan",dataIndex:"order_tooker",sorter:function(e,t){return e.order_tooker.localeCompare(t.order_tooker)}},l.getColumnSearchProps("order_tooker")),{},{render:function(e){return Object(he.jsx)("td",{children:e.toUpperCase()})}})]},l.onChange=function(e){l.setState({keepMachineDetails:!!e})},l.componentDidMount=function(){l.GetOrders(),Tt().then((function(e){e&&l.setState({movableMachines:e})}))},l.route=null===(a=l.props.location)||void 0===a?void 0:a.pathname.split("/")[(null===(i=l.props.location)||void 0===i?void 0:i.pathname.split("/").length)-1],l.renderOrderDetails=l.renderOrderDetails.bind(Object(xn.a)(l)),l}return Object(C.a)(r,[{key:"renderOrderDetails",value:function(e){var t=this;return Object.keys(this.state.orderDetails).map((function(r){var a;return r==e.id?null===(a=t.state.orderDetails[r])||void 0===a?void 0:a.map((function(r){var a;return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsxs)("div",{style:{width:"80%",marginTop:30,display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(he.jsxs)("div",{children:[Bi("Seri No",U(r.serial_number)),Bi("Pompa Seri No",U(r.pump_serial)),Bi("Bulundu\u011fu Konum",J(r.location)+(r.comment?" (".concat(r.comment,")"):" ")),Bi("Son \u0130\u015flem Tarihi",W(r.row_created_date))]}),Object(he.jsxs)("div",{style:{width:"min-content"},children:["teslimat"!==r.location&&"iptal"!==r.location&&"admin"==t.props.user.role?Object(he.jsx)(D.a,{style:{marginBottom:10,width:"100%"},type:"primary",onClick:function(){t.setState({orderModalVisible:!0,orderSelected:{serial_number:r.serial_number,order_id:e.id}})},children:"Sipari\u015fi Kayd\u0131r"}):null,Object(he.jsx)(D.a,{style:{marginBottom:10,width:"100%"},onClick:function(){var n=r.serial_number+","+e.description;t.printQRCode(n,r.serial_number)},children:"Qr Kodu Yazd\u0131r"}),Object(he.jsx)(D.a,{style:{marginBottom:10,width:"100%"},onClick:function(){t.setState({historyModalVisible:!0,historyModalId:r.id,orderSelected:{serial_number:r.serial_number,order_id:e.id}})},children:"\u0130\u015flem Ge\xe7mi\u015fini G\xf6ster"}),r.test_comment?Object(he.jsx)(D.a,{block:!0,onClick:function(){N.a.get("./finalkontrolformu.xlsx",{responseType:"blob"}).then((function(e){var t=n(140),a=new FileReader;a.readAsArrayBuffer(e.data),a.onload=function(e){var n=new Cn.a.Workbook;n.xlsx.load(e.target.result).then((function(){var e=n.getWorksheet(1),a=e.getRow(58);a.getCell(1).value=r.test_comment,a.commit();var i=e.getRow(8);i.getCell(1).value=r.serial_number,i.getCell(5).value=r.test_manager,i.getCell(6).value=W(r.test_date),i.commit(),n.xlsx.writeBuffer().then((function(e){var n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});t.saveAs(n,"deneme.xlsx")}))}))}}))},children:"Test Raporu"}):null,"admin"==(null===(a=t.props.user)||void 0===a?void 0:a.role)&&"iptal"!==r.location?Object(he.jsx)(F.a,{title:"Bu makinay\u0131 silmek istedi\u011finizden emin misiniz? Bu i\u015flem geri al\u0131namaz",onConfirm:function(){return Ht(r.id)},okText:"Evet",cancelText:"Hay\u0131r",children:Object(he.jsx)(D.a,{danger:!0,block:!0,style:{marginBottom:10},type:"primary",children:"Makinay\u0131 Sil"})}):null]})]}),Object(he.jsx)(R.a,{})]})})):null}))}},{key:"printQRCode",value:function(e,t){var n=window.open("","","height=1024, width=1024"),r=Object(Be.renderToString)(Object(he.jsxs)("div",{style:{width:"50mm",height:"64mm"},children:[Object(he.jsx)(jr.a,{value:e,style:{height:"44mm",width:"44mm",margin:"3mm"},renderAs:"svg"}),Object(he.jsx)("p",{style:{margin:10},children:t})]}));null===n||void 0===n||n.document.write(String(r)),n.document.body.style.margin=0,null===n||void 0===n||n.document.close(),null===n||void 0===n||n.print()}},{key:"componentDidUpdate",value:function(e){this.props.isFinishedOrders===e.isFinishedOrders&&this.props.isCancelledOrders===e.isCancelledOrders||this.GetOrders()}},{key:"GetOrders",value:function(){var e=this;this.props.isFinishedOrders&&function(e){return Qe.apply(this,arguments)}(this.route).then((function(t){var n=null===t||void 0===t?void 0:t.map((function(e){var t=new Date(e.date);return e.date=Re()(t).format("D MMMM YYYY, HH:mm"),e})),r=null===t||void 0===t?void 0:t.map((function(e){return e.date=Re()(e.date).format("D MMMM YYYY, HH:mm"),e})).filter((function(e){return(null===e||void 0===e?void 0:e.order_amount)-(null===e||void 0===e?void 0:e.pending_amount)!==(null===e||void 0===e?void 0:e.order_amount)}));e.setState({data:n,filteredData:r,loading:!1})}))}},{key:"render",value:function(){var e,t,n,r=this,a=this.state;return Object(he.jsxs)("div",{style:{width:"100%",maxWidth:"100%",height:"100%",maxHeight:"100%",display:"flex",flexDirection:"column"},children:[Object(he.jsx)(Y.a,{rowKey:function(e){return"key"+e.id},size:"small",loading:this.state.loading,expandable:{expandedRowRender:function(e){var t,n,a,i,l,o,s,d,p,m,h,j,b,f;return Object(he.jsxs)("div",{style:{marginLeft:"3rem"},children:[Bi("\xdcr\xfcn",e.description),Bi("Tarih",e.date),Bi("Marka",null===(t=r.configFile.brand.filter((function(t){return t.type===e.brand}))[0])||void 0===t?void 0:t.text),Bi("Sipari\u015f No",e.order_no),Bi("Sipari\u015f Miktar\u0131",String(e.order_amount)),Bi("Tip",null!==(n=r.configFile.type.filter((function(t){return t.type===e.type}))[0])&&void 0!==n&&n.text?null===(a=r.configFile.type.filter((function(t){return t.type===e.type}))[0])||void 0===a?void 0:a.text:null===(i=r.configFile.machine_type.filter((function(t){return t.type===e.type}))[0])||void 0===i?void 0:i.text),Bi("Fan Tipi",null===(l=r.configFile.cooler_type.filter((function(t){return t.type===e.cooler_type}))[0])||void 0===l?void 0:l.text),Bi("Kazan Boyutu",e.tank_size?e.tank_size+" LT":null),Bi("Kazan Materyali",null===(o=r.configFile.caldron_material.filter((function(t){return t.type===e.caldron_material}))[0])||void 0===o?void 0:o.text),Bi("Pompa",null===(s=r.configFile.pump.filter((function(t){return t.type===e.pump}))[0])||void 0===s?void 0:s.text),Bi("Model Y\u0131l\u0131",e.year),Bi("Meme Tipi",null===(d=r.configFile.meme_type.filter((function(t){return t.type===e.meme_type}))[0])||void 0===d?void 0:d.text),Bi("Meme Aral\u0131\u011f\u0131",e.meme_distance),Bi("\xc7eki Tipi",null===(p=r.configFile.tow_type.filter((function(t){return t.type===e.tow_type}))[0])||void 0===p?void 0:p.text),Bi("Kol Tipi",null===(m=r.configFile.arm_type.filter((function(t){return t.type===e.arm_type}))[0])||void 0===m?void 0:m.text),Bi("Kol Uzunlu\u011fu",e.arm_length),Bi("\u015ease Rengi",null===(h=r.configFile.chassis_color.filter((function(t){return t.type===e.chassis_color}))[0])||void 0===h?void 0:h.text),Bi("Kazan Rengi",U(e.caldron_color)),Bi("Kazan Tipi",null===(j=r.configFile.caldron_type.filter((function(t){return t.type===e.caldron_type}))[0])||void 0===j?void 0:j.text),Bi("Kumanda",null===(b=r.configFile.commander.filter((function(t){return t.type===e.commander}))[0])||void 0===b?void 0:b.text),Bi("Alternatif \xd6zellikler",e.alt_features),Object(he.jsx)(D.a,{style:{marginRight:"10px"},type:"primary",onClick:function(){ht(e.id).then((function(t){r.setState({orderDetails:Object(u.a)(Object(u.a)({},r.state.orderDetails),{},Object(fn.a)({},e.id,t))})}))},children:"Detaylar\u0131 G\xf6ster"}),r.renderOrderDetails(e),"cancelled"===e.status||"admin"!=(null===(f=r.props.user)||void 0===f?void 0:f.role)||r.props.isFinishedOrders?null:Object(he.jsx)(F.a,{title:"Bu sipari\u015fi iptal etmek istedi\u011finizden emin misiniz?",onConfirm:function(){return Gt(e.id)},okText:"Evet",cancelText:"Hay\u0131r",children:Object(he.jsx)(D.a,{danger:!0,style:{marginBottom:10,marginRight:10},type:"primary",children:"Sipari\u015fi \u0130ptal Et"})}),Object(he.jsx)(c.b,{style:{display:e.order_amount!==e.pending_amount&&"none",color:"white",marginBottom:10,backgroundColor:"#1677ff",padding:"8px",borderRadius:"6px"},to:{pathname:"/editOrder/".concat(e.serial_number)},children:"D\xfczenle"})]},"keyexpandable "+e.id)}},pagination:{defaultPageSize:10,position:["bottomRight"]},columns:this.state.columns,dataSource:a.data}),Object(he.jsx)(D.a,{loading:this.state.loading,style:{width:"120px",display:"flex",alignSelf:"end",marginRight:"2rem"},type:"primary",onClick:function(){return function(e){var t,n=new Cn.a.Workbook,r=n.addWorksheet("My Sheet");r.properties.defaultRowHeight=100,r.columns=[{header:"Sipari\u015f Numaras\u0131",key:"order_no",width:10},{header:"M\xfc\u015fteri Ad\u0131",key:"customer",width:32},{header:"Makinenin \xd6zellikleri",key:"description",width:32},{header:"Sipari\u015f Alan",key:"order_tooker",width:32},{header:"Planlama Tarihi",key:"planned_date",width:32},{header:"Miktar",key:"quantity",width:32},{header:"QR",key:"qr_code",width:30}];var a=JSON.parse(null!==(t=localStorage.getItem("config"))&&void 0!==t?t:"{}"),i=Promise.all(e.map(function(){var e=Object(w.a)(Object(S.a)().mark((function e(t,i){var l,o,c,s,d,u,p,m,h,j,b,f,x,O,y;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j=i+1,b=(t.brand||",")+(t.brand?(null===(l=a.brand.filter((function(e){return e.type===t.brand}))[0])||void 0===l?void 0:l.text)+",":",")+(t.chassis_color?(null===(o=a.chassis_color.filter((function(e){return e.type===t.chassis_color}))[0])||void 0===o?void 0:o.text)+",":",")+(t.commander?(null===(c=a.commander.filter((function(e){return e.type===t.commander}))[0])||void 0===c?void 0:c.text)+",":",")+(t.arm_type?(null===(s=a.arm_type.filter((function(e){return e.type===t.arm_type}))[0])||void 0===s?void 0:s.text)+",":",")+(t.arm_length?t.arm_length+",":",")+(t.production_unit?t.production_unit+",":",")+(t.caldron_color?t.caldron_color+",":",")+(t.caldron_type?(null===(d=a.caldron_type.filter((function(e){return e.type===t.caldron_type}))[0])||void 0===d?void 0:d.text)+",":",")+(t.cooler_type?(null===(u=a.cooler_type.filter((function(e){return e.type===t.cooler_type}))[0])||void 0===u?void 0:u.text)+",":",")+(t.fan_radius?t.fan_radius+",":",")+(t.fan_type?t.fan_type+",":",")+(t.pump?(null===(p=a.pump.filter((function(e){return e.type===t.pump}))[0])||void 0===p?void 0:p.text)+",":",")+(t.meme_distance?t.meme_distance+",":",")+(t.meme_type?(null===(m=a.meme_type.filter((function(e){return e.type===t.meme_type}))[0])||void 0===m?void 0:m.text)+",":",")+(t.tank_size?t.tank_size+",":",")+(t.type?t.type+",":",")+(t.tow_type?(null===(h=a.tow_type.filter((function(e){return e.type===t.tow_type}))[0])||void 0===h?void 0:h.text)+",":",")+(t.alt_features?t.alt_features+",":",")+t.year||",",r.addRow({order_no:null===t||void 0===t?void 0:t.order_no,customer:null===t||void 0===t?void 0:t.customer,description:b,order_tooker:null===t||void 0===t?void 0:t.order_tooker,planned_date:null===t||void 0===t?void 0:t.planned_date,quantity:(null===t||void 0===t?void 0:t.order_amount)-(null===t||void 0===t?void 0:t.pending_amount)+"/"+(null===t||void 0===t?void 0:t.order_amount)}),f=t.serial_number+","+t.description,e.next=6,"https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=".concat(f);case 6:return x=e.sent,e.next=9,zi(x);case 9:O=e.sent,y=n.addImage({base64:O,extension:"jpg"}),r.addImage(y,{tl:{col:6,row:j},ext:{width:100,height:100}});case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));i.then((function(){n.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="download.xlsx",r.click(),window.URL.revokeObjectURL(n)}))}))}(null===a||void 0===a?void 0:a.filteredData)},children:"QR Kod Yazd\u0131r"}),Object(he.jsxs)(vn.a,{title:(null===(e=this.state.orderSelected)||void 0===e?void 0:e.serial_number)+" Seri Numaral\u0131 Makine.",open:this.state.orderModalVisible,onOk:function(){r.setState({orderModalVisible:!1}),It({order1:r.state.selectedToMove,order2:r.state.orderSelected,keepMachineDetails:r.state.keepMachineDetails})},onCancel:function(){r.setState({orderModalVisible:!1})},children:[Object(he.jsx)("p",{children:"L\xfctfen de\u011fi\u015fim yapmak istedi\u011finiz makineyi se\xe7in."}),Object(he.jsx)(z.a,{showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},style:{width:"100%"},onSelect:function(e){r.setState({selectedToMove:{serial_number:e.split(" ")[0],order_id:Number.parseInt(e.split(" ")[1])}})},placeholder:"L\xfctfen bir makine se\xe7in",defaultActiveFirstOption:!0,children:null===(t=this.state.movableMachines)||void 0===t?void 0:t.map((function(e){return Object(he.jsx)(z.a.Option,{value:e.serial_number+" "+e.order_id,children:e.serial_number+" "+e.customer+" "+U(e.location)},null===e||void 0===e?void 0:e.order_id)}))}),Object(he.jsxs)("div",{style:{marginTop:"2rem",display:"flex",gap:"1rem"},children:[Object(he.jsx)("span",{children:"Sipari\u015f Detay\u0131n\u0131 De\u011fi\u015ftir"}),Object(he.jsx)(On.a,{onChange:this.onChange}),Object(he.jsx)("span",{children:"Sipari\u015f Detay\u0131n\u0131 Koru (STOK)"})]})]}),this.state.historyModalVisible?Object(he.jsx)(wn,{isVisible:this.state.historyModalVisible,machine_id:this.state.historyModalId,serial_number:null===(n=this.state.orderSelected)||void 0===n?void 0:n.serial_number,setIsVisible:function(e){return r.setState({historyModalVisible:e})}}):null]})}}]),r}(a.a.Component),Ri=Object(o.b)((function(e,t){return{user:e.auth.user}}))(Di),Li=JSON.parse(null!==(Fi=localStorage.getItem("config"))&&void 0!==Fi?Fi:"{}"),Pi=n(108);Pi.locale("tr");var Yi=function(e){var t=Object(r.useState)(1),n=Object(p.a)(t,2),a=n[0],i=n[1];return Object(he.jsxs)("div",{children:[Object(he.jsx)(En.a,{max:e.maxAmount,style:{width:"70%"},size:"large",defaultValue:1,formatter:function(e){return"B\xf6l\xfcnen Miktar ".concat(e)},parser:function(e){return e.split("B\xf6l\xfcnen Miktar ")[1]},onChange:function(e){return i(e)}}),Object(he.jsx)(D.a,{danger:!0,size:"large",style:{marginLeft:10},onClick:function(){la(e.id,a).then((function(t){t&&e.getTasks()}))},children:"B\xf6l"})]})},Ki=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,l=t.clearFilters;return Object(he.jsxs)("div",{style:{padding:8},children:[Object(he.jsx)(pe.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(he.jsx)(D.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(he.jsx)(D.a,{onClick:function(){return r.handleReset(l)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(he.jsx)(yn.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){var r,a,i;return null===(r=n[e])||void 0===r||null===(a=r.toString())||void 0===a||null===(i=a.toLowerCase())||void 0===i?void 0:i.includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={selectedRole:"anasiparis",selectedUnit:"adet",csvdata:[["G\xf6rev No","Grup","Ba\u015fl\u0131k","Ek A\xe7\u0131klama","Miktar","Kazan Tipi","Tamamlanan","G\xf6rev Verilme Tarihi","Son \u0130\u015flem Tarihi"]],loading:!1,data:[],columns:[Object(u.a)({title:"G\xf6rev No",dataIndex:"id",sorter:function(e,t){return e.id-t.id}},r.getColumnSearchProps("id")),Object(u.a)(Object(u.a)({title:"Grup",dataIndex:"last_location",sorter:function(e,t){return e.last_location.localeCompare(t.last_location)}},r.getColumnSearchProps("last_location")),{},{render:function(e,t){return Object(he.jsx)("td",{children:r.props.isActive?Object(he.jsx)(z.a,{disabled:"admin"!==r.props.user.role,value:e,size:"large",style:{width:200},onChange:function(e){Zr({id:t.id,new_group:e}).then((function(e){r.GetTasks()}))},children:function(){var e;return null===(e=Li.role)||void 0===e?void 0:e.map((function(e){return Object(he.jsx)(z.a.Option,{value:e.type,children:e.text})}))}()}):function(){var t;return null===(t=Li.role)||void 0===t?void 0:t.map((function(t){if(t.type==e)return Object(he.jsx)("p",{children:t.text})}))}()})}}),Object(u.a)(Object(u.a)({title:"Ba\u015fl\u0131k",dataIndex:"title",sorter:function(e,t){return e.title.localeCompare(t.title)}},r.getColumnSearchProps("title")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Ek A\xe7\u0131klama",dataIndex:"description",sorter:function(e,t){return e.description.localeCompare(t.description)}},r.getColumnSearchProps("description")),{},{render:function(e){return Object(he.jsx)("td",{children:e?U(e):""})}}),{title:"Miktar",dataIndex:"amount",sorter:function(e,t){return parseInt(e.amount.split(" ")[0])-parseInt(t.amount.split(" ")[0])}},{title:"Tamamlanan",dataIndex:"completed_amount",sorter:function(e,t){return e.completed_amount-t.completed_amount}},Object(u.a)(Object(u.a)({title:"G\xf6rev Verilme Tarihi",dataIndex:"row_created_date",sorter:function(e,t){return Pi(e.row_created_date).unix()-Pi(t.row_created_date).unix()}},r.getColumnSearchProps("row_created_date")),{},{render:function(e){return Object(he.jsx)("td",{children:W(e)})}}),Object(u.a)(Object(u.a)({title:"Son \u0130\u015flem Tarihi",dataIndex:"row_updated_date",sorter:function(e,t){return Pi(e.row_updated_date).unix()-Pi(t.row_updated_date).unix()}},r.getColumnSearchProps("row_updated_date")),{},{render:function(e){return Object(he.jsx)("td",{children:W(e)})}}),{title:"\u0130\u015flemler",render:function(e,t){return Object(he.jsxs)("td",{children:["admin"!=r.props.user.role&&"ambar1"!=r.props.user.role||"ambar1"!=t.last_location||"QR Kod Bas\u0131m\u0131"!=t.title?null:Object(he.jsx)(F.a,{title:Object(he.jsxs)("div",{children:["Bu g\xf6revi tamamlamak istedi\u011finizden eminmisiniz? ",Object(he.jsx)("br",{})," Bu i\u015flem geri al\u0131namaz"]}),onConfirm:function(){ca(t.id,1).then((function(e){e&&r.GetTasks()}))},okText:"Evet",cancelText:"Hay\u0131r",children:Object(he.jsx)(D.a,{style:{margin:5},block:!0,size:"large",type:"primary",children:"Tamamla"})}),"admin"==r.props.user.role?Object(he.jsx)(F.a,{title:Object(he.jsxs)("div",{children:["Bu g\xf6revi silmek istedi\u011finizden eminmisiniz? ",Object(he.jsx)("br",{})," Bu i\u015flem geri al\u0131namaz"]}),onConfirm:function(){aa(t.id).then((function(e){e&&r.GetTasks()}))},okText:"Evet",cancelText:"Hayir",children:Object(he.jsx)(D.a,{style:{margin:5},block:!0,danger:!0,size:"large",type:"primary",children:"Sil"})}):null,Object(he.jsx)(D.a,{block:!0,style:{margin:5},onClick:function(){r.setState({isModalVisible:!0,selectedTaskId:t.id})},size:"large",type:"primary",children:"\u0130\u015flem Ge\xe7mi\u015fi"}),"admin"==r.props.user.role||"lazer"==r.props.user.role||"lazer2"===r.props.user.role||"lazerkesim"===r.props.user.role||"depo"==r.props.user.role&&0==t.completed_amount&&r.props.isActive?Object(he.jsx)(Kn.a,{content:Object(he.jsx)(Yi,{maxAmount:parseInt(t.amount.split(" ")[0])-1,id:t.id,getTasks:r.GetTasks.bind(Object(xn.a)(r))}),title:Object(he.jsxs)(he.Fragment,{children:["G\xf6revin tamamlanan ve kalan k\u0131sm\u0131n\u0131 ay\u0131rmak istedi\u011finizden emin misiniz? ",Object(he.jsx)("br",{})," Bu i\u015flem geri al\u0131namaz"]}),trigger:"click",children:Object(he.jsx)(D.a,{style:{margin:5},block:!0,danger:!0,size:"large",type:"primary",children:"B\xf6l"})}):null]})}}]},r.componentWillReceiveProps=function(e,t){setTimeout((function(){r.GetTasks()}),500)},r.SaveExcel=function(e){console.log("clikced");var t=ma.a.aoa_to_sheet(e),n=ma.a.book_new();ma.a.book_append_sheet(n,t,"Sheet1"),ma.b(n,"DataSheet.xlsx")},r}return Object(C.a)(n,[{key:"componentDidMount",value:function(){this.GetTasks()}},{key:"GetTasks",value:function(){var e=this,t=this.props.isActive;console.log(t),this.setState({loading:!0});var n=[["G\xf6rev No","Grup","Ba\u015fl\u0131k","Ek A\xe7\u0131klama","Miktar","Tamamlanan","G\xf6rev Verilme Tarihi","Son \u0130\u015flem Tarihi"]];t?Xr().then((function(t){null===t||void 0===t||t.forEach((function(e){n.push([e.id,e.last_location,e.title,e.description,e.amount,e.completed_amount,W(e.row_created_date),W(e.row_updated_date)])})),e.setState({data:t,csvdata:n,loading:!1})})):na().then((function(t){null===t||void 0===t||t.forEach((function(e){n.push([e.id,e.last_location,e.title,e.description,e.amount,e.completed_amount,W(e.row_created_date),W(e.row_updated_date)])})),e.setState({data:t,csvdata:n,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state;return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("div",{children:Object(he.jsxs)(_n.a,{children:[Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",marginBottom:5},children:[Object(he.jsx)(pe.a,{disabled:!this.props.isActive,onChange:function(t){e.setState({selectedTitle:t.target.value})},value:this.state.selectedTitle,style:{width:500},size:"large",addonBefore:"G\xf6rev",placeholder:"G\xf6rev Tan\u0131m\u0131"}),Object(he.jsx)(pe.a,{disabled:!this.props.isActive,onChange:function(t){e.setState({selectedDescription:t.target.value})},value:this.state.selectedDescription,style:{width:500,marginLeft:25,marginRight:25},size:"large",addonBefore:"A\xe7\u0131klama?",placeholder:"Opsiyonel"}),Object(he.jsxs)(pe.a.Group,{compact:!0,children:[Object(he.jsx)(En.a,{disabled:!this.props.isActive,onChange:function(t){e.setState({selectedAmount:t})},value:this.state.selectedAmount,style:{width:100},min:1,placeholder:"0",size:"large"}),Object(he.jsx)(pe.a,{disabled:!this.props.isActive,onChange:function(t){e.setState({selectedUnit:t.target.value})},value:this.state.selectedUnit,style:{width:100},defaultValue:"adet",size:"large"})]}),Object(he.jsx)(D.a,{style:Ei.button,type:"primary",loading:this.state.addTaskButtonLoading,disabled:!t.selectedAmount||!t.selectedTitle||!t.selectedRole,onClick:function(){e.setState({addTaskButtonLoading:!0}),Jr({title:t.selectedTitle,description:t.selectedDescription,group:t.selectedRole,amount:t.selectedAmount,unit:t.selectedUnit}).then((function(t){t&&(e.setState({selectedTitle:null,selectedDescription:null,selectedAmount:null,selectedUnit:"adet"}),e.GetTasks()),e.setState({addTaskButtonLoading:!1})}))},children:"Emir Olu\u015ftur"})]}),Object(he.jsx)(D.a,{style:Object(u.a)(Object(u.a)({},Ei.button),{},{float:"right"}),onClick:function(){return e.SaveExcel(e.state.csvdata)},children:"Emirleri Excele Aktar"})]})}),Object(he.jsx)(Y.a,{pagination:{defaultPageSize:10,position:["bottomRight"]},rowKey:function(e){return"key"+e.id},size:"small",style:{maxWidth:"99.5%"},loading:this.state.loading,columns:this.state.columns,dataSource:t.data}),Object(he.jsx)(Ga,{isVisible:this.state.isModalVisible,task_id:this.state.selectedTaskId,setIsVisible:function(t){return e.setState({isModalVisible:t})}})]})}}]),n}(a.a.Component),Ei={button:{marginLeft:25}},Ni=Object(o.b)((function(e,t){return{user:e.auth.user}}))(Ki);V.a.locale("tr");var Gi=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,l=t.clearFilters;return Object(he.jsxs)("div",{style:{padding:8},children:[Object(he.jsx)(pe.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(he.jsx)(D.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(he.jsx)(D.a,{onClick:function(){return r.handleReset(l)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(he.jsx)(yn.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){var r,a,i;return null===(r=n[e])||void 0===r||null===(a=r.toString())||void 0===a||null===(i=a.toLowerCase())||void 0===i?void 0:i.includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.getBase64FromUrl=function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){var n,r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.abrupt("return",new Promise((function(e){var t=new FileReader;t.readAsDataURL(r),t.onloadend=function(){var n=t.result;e(n)}})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={csvdata:[[]],orderDetails:{},loading:!0,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],activeOrders:[],showAllOrders:!1,columns:[Object(u.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no-t.order_no}},r.getColumnSearchProps("order_no")),Object(u.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},r.getColumnSearchProps("serial_number")),{},{},Object(u.a)({title:"Planlanan \xdcretim Tarihi",dataIndex:"planned_date",sorter:function(e,t){return V()(""!==e.planned_date?e.planned_date:"25 Temmuz 2500","D MMMM YYYY").unix()-V()(""!==t.planned_date?t.planned_date:"25 Temmuz 2500","D MMMM YYYY").unix()}},r.getColumnSearchProps("planned_date")),Object(u.a)({title:"Son \u0130\u015flem Tarihi",dataIndex:"last_operation_date",sorter:function(e,t){return V()(e.last_operation_date,"D MMMM YYYY, HH:mm").unix()-V()(t.last_operation_date,"D MMMM YYYY, HH:mm").unix()}},r.getColumnSearchProps("last_operation_date")),Object(u.a)({title:"Durum",dataIndex:"status",sorter:function(e,t){return e.status.localeCompare(t.status)}},r.getColumnSearchProps("status")),Object(u.a)({title:"\xdcr\xfcn Tipi",dataIndex:"production_unit",sorter:function(e,t){return e.production_unit.localeCompare(t.production_unit)}},r.getColumnSearchProps("production_unit")),Object(u.a)({title:"Depo Boyutu",dataIndex:"tank_size",sorter:function(e,t){return e.tank_size-t.tank_size}},r.getColumnSearchProps("tank_size")),Object(u.a)({title:"Depo Rengi",dataIndex:"caldron_color"},r.getColumnSearchProps("caldron_color")),{title:"Depo Tipi",dataIndex:"caldron_type",sorter:function(e,t){var n;return null===e||void 0===e||null===(n=e.caldron_type)||void 0===n?void 0:n.localeCompare(null===t||void 0===t?void 0:t.caldron_type)}},{title:"Marka",dataIndex:"brand",sorter:function(e,t){return e.brand.localeCompare(t.brand)}},{title:"\u0130\u015flemler",render:function(e,t){return Object(he.jsxs)("td",{children:["admin"==r.props.user.role||"tankproducer"==r.props.user.role?Object(he.jsx)(D.a,{block:!0,style:{marginBottom:10},type:"primary",onClick:function(){r.printQRCode("TU"+t.serial_number)},children:"QR Kodu Yazd\u0131r"}):null,"tankproducer"==r.props.user.role&&("Onay Bekliyor"===t.status||"\xdcretiliyor (Onayland\u0131)"===t.status)&&Object(he.jsx)(D.a,{block:!0,style:{marginBottom:10},type:"primary",onClick:function(){Bt("Onay Bekliyor"===t.status?"pending":"\xdcretiliyor (Onayland\u0131)"===t.status?"confirmed":"",t.id).then(Object(w.a)(Object(S.a)().mark((function e(){var t,n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze();case 2:t=e.sent,n=r.filterResult(t),r.setState({data:n});case 5:case"end":return e.stop()}}),e)}))))},children:"Onay Bekliyor"===t.status?"Onayla":"\xdcretiliyor (Onayland\u0131)"===t.status?"\xdcretildi Olarak \u0130\u015faretle":""})]})}}]},r.componentDidMount=Object(w.a)(Object(S.a)().mark((function e(){var t,n,a,i;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze();case 2:t=e.sent,n=r.filterResult(t),a=n.filter((function(e){return"Teslim Edildi"!==e.status})),r.setState({data:n,activeOrders:a}),i=[["Sipari\u015f No","M\xfc\u015fteri","Sipari\u015f Tarihi","Son \u0130\u015flem Tarihi","Durum","Depo Boyutu","Kazan Tipi","Kazan Rengi","Marka"]],t.forEach((function(e){return i.push([e.order_no,e.customer,e.order_date,e.last_operation_date,e.status,e.tank_size,e.caldron_type,e.caldron_color,e.brand])})),r.setState({csvdata:i,loading:!1});case 9:case"end":return e.stop()}}),e)}))),r}return Object(C.a)(n,[{key:"exportWithExcel",value:function(e){var t=this,n=new Cn.a.Workbook,r=n.addWorksheet("My Sheet");r.properties.defaultRowHeight=100,r.columns=[{header:"Sipari\u015f Numaras\u0131",key:"order_no",width:10},{header:"M\xfc\u015fteri Ad\u0131",key:"customer",width:32},{header:"Sipari\u015f Tarihi",key:"description",width:32},{header:"Son \u0130\u015flem Tarihi",key:"last_operation_date",width:32},{header:"Durum",key:"status",width:32},{header:"Depo Boyutu",key:"tank_size",width:32},{header:"Kazan Tipi",key:"caldron_type",width:32},{header:"Kazan Rengi",key:"caldron_color",width:32},{header:"Marka",key:"brand",width:32},{header:"QR",key:"qr_code",width:30}];var a=Promise.all(e.map(function(){var e=Object(w.a)(Object(S.a)().mark((function e(a,i){var l,o,c,s,d;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=i+1,r.addRow({order_no:null===a||void 0===a?void 0:a.order_no,customer:null===a||void 0===a?void 0:a.customer,description:null===a||void 0===a?void 0:a.order_date,last_operation_date:null===a||void 0===a?void 0:a.last_operation_date,status:null===a||void 0===a?void 0:a.status,tank_size:null===a||void 0===a?void 0:a.tank_size,caldron_type:null===a||void 0===a?void 0:a.caldron_type,caldron_color:null===a||void 0===a?void 0:a.caldron_color,brand:null===a||void 0===a?void 0:a.brand}),o="TU"+a.serial_number,e.next=5,"https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=".concat(o);case 5:return c=e.sent,e.next=8,t.getBase64FromUrl(c);case 8:s=e.sent,d=n.addImage({base64:s,extension:"jpg"}),r.addImage(d,{tl:{col:9,row:l},ext:{width:100,height:100}});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));a.then((function(){n.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="download.xlsx",r.click(),window.URL.revokeObjectURL(n)}))}))}},{key:"printQRCode",value:function(e){var t=window.open("","","height=1024, width=1024"),n=Object(Be.renderToString)(Object(he.jsxs)("div",{style:{width:"50mm",height:"64mm"},children:[Object(he.jsx)(jr.a,{value:e,style:{height:"44mm",width:"44mm",margin:"3mm"},renderAs:"svg"}),Object(he.jsx)("p",{style:{margin:10},children:e})]}));null===t||void 0===t||t.document.write(String(n)),t.document.body.style.margin=0,null===t||void 0===t||t.document.close(),null===t||void 0===t||t.print()}},{key:"filterResult",value:function(e){return e.forEach((function(e){e.last_operation_date=e.deliver_date?V()(e.deliver_date).format("D MMMM YYYY, HH:mm"):e.producted_date?V()(e.producted_date).format("D MMMM YYYY, HH:mm"):e.confirmed_date?V()(e.confirmed_date).format("D MMMM YYYY, HH:mm"):V()(e.order_date).format("D MMMM YYYY, HH:mm"),e.order_date=V()(e.order_date).format("D MMMM YYYY, HH:mm"),e.planned_date=e.planned_date?V()(e.planned_date).format("D MMMM YYYY"):"",e.brand=U(e.brand),e.status="delivered"==e.status?"Teslim Edildi":"producted"==e.status?"\xdcretim Tamamland\u0131 (Haz\u0131r)":"confirmed"==e.status?"\xdcretiliyor (Onayland\u0131)":"cancelled"==e.status?"\u0130ptal Edildi":"ontheway"==e.status?"Yolda (Saruhanl\u0131ya G\xf6nderildi)":"pending"===e.status?"Onay Bekliyor":e.status,e.caldron_type=e.caldron_type?U(e.caldron_type):"",e.caldron_color=U(e.caldron_color),e.status=U(e.status)})),e}},{key:"render",value:function(){var e=this,t=this.state;return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(Y.a,{rowKey:function(e){return"key"+e.id},size:"small",loading:this.state.loading,pagination:{defaultPageSize:10,position:["bottomRight"]},columns:this.state.columns,dataSource:t.data}),Object(he.jsx)(D.a,{style:{float:"right",marginRight:10},type:"default",children:Object(he.jsx)(mr.CSVLink,{data:t.csvdata,children:"CSV'ye aktar"})}),Object(he.jsx)(D.a,{loading:this.state.loading,style:{float:"right",marginRight:10},type:"primary",onClick:function(){return e.exportWithExcel(null===t||void 0===t?void 0:t.data)},children:"QR Kod Yazd\u0131r"})]})}}]),n}(a.a.Component),Vi=Object(o.b)((function(e,t){return{user:e.auth.user}}))(Gi);V.a.extend(Mn.a),V.a.locale("tr");var Hi=n(67);function qi(e,t){if(t)return Object(he.jsxs)("div",{style:{display:"flex"},children:[Object(he.jsxs)("p",{style:{fontWeight:"bold",marginRight:"5px"},children:[e,":"]}),Object(he.jsx)("p",{children:t})]})}var Ui=function(e){Object(I.a)(r,e);var t=Object(M.a)(r);function r(e){var n,a;return Object(T.a)(this,r),(a=t.call(this,e)).configFile=JSON.parse(null!==(n=localStorage.getItem("config"))&&void 0!==n?n:"{}"),a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,i=t.confirm,l=t.clearFilters;return Object(he.jsxs)("div",{style:{padding:8},children:[Object(he.jsx)(pe.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(r,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(he.jsx)(D.a,{type:"primary",onClick:function(){return a.handleSearch(r,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(he.jsx)(D.a,{onClick:function(){return a.handleReset(l)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(he.jsx)(yn.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){var r,a,i;return null===(r=n[e])||void 0===r||null===(a=r.toString())||void 0===a||null===(i=a.toLowerCase())||void 0===i?void 0:i.includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(e){return e}}},a.handleSearch=function(e,t,n){t(),a.setState({searchText:e[0],searchedColumn:n})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.state={movableMachines:[],orderModalVisible:!1,orderDetails:{},keepMachineDetails:!1,loading:!1,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(u.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no.localeCompare(t.order_no)}},a.getColumnSearchProps("order_no")),Object(u.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},a.getColumnSearchProps("serial_number")),Object(u.a)(Object(u.a)({title:"Tank",dataIndex:"tank_location",sorter:function(e,t){return e.tank_location.localeCompare(t.tank_location)}},a.getColumnSearchProps("tank_location")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Kol",dataIndex:"arm_location",sorter:function(e,t){return e.arm_location.localeCompare(t.arm_location)}},a.getColumnSearchProps("arm_location")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"\u015ease",dataIndex:"chassis_location"},a.getColumnSearchProps("chassis_location")),{},{sorter:function(e,t){return e.chassis_location.localeCompare(t.chassis_location)},render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Fan",dataIndex:"fan_location"},a.getColumnSearchProps("fan_location")),{},{sorter:function(e,t){return e.fan_location.localeCompare(t.fan_location)},render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Planlanan \xdcretim Tarihi",dataIndex:"planned_date"},a.getColumnSearchProps("planned_date")),{},{render:function(e){return Object(he.jsx)("td",{children:Re()(e).format("DD/MM/YYYY")})},sorter:function(e,t){return V()(""!==e.planned_date?e.planned_date:"25 Temmuz 2500","D MMMM YYYY").unix()-V()(""!==t.planned_date?t.planned_date:"25 Temmuz 2500","D MMMM YYYY").unix()}})]},a.onChange=function(e){a.setState({keepMachineDetails:!!e})},a.componentDidMount=function(){a.GetOrders(),Tt().then((function(e){e&&a.setState({movableMachines:e})}))},a.renderOrderDetails=a.renderOrderDetails.bind(Object(xn.a)(a)),a}return Object(C.a)(r,[{key:"renderOrderDetails",value:function(e){var t=this;return Object.keys(this.state.orderDetails).map((function(r){return r==e.id?t.state.orderDetails[r].map((function(r){var a;return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsxs)("div",{style:{width:"80%",marginTop:30,display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(he.jsxs)("div",{children:[qi("Seri No",U(r.serial_number)),qi("Pompa Seri No",U(r.pump_serial)),qi("Bulundu\u011fu Konum",J(r.location)+(r.comment?" (".concat(r.comment,")"):" ")),qi("Son \u0130\u015flem Tarihi",W(r.row_created_date)),qi("Planlama Tarihi",W(r.planned_date))]}),Object(he.jsxs)("div",{style:{width:"min-content"},children:["teslimat"!==r.location&&"iptal"!==r.location&&"admin"==t.props.user.role?Object(he.jsx)(D.a,{style:{marginBottom:10,width:"100%"},type:"primary",onClick:function(){t.setState({orderModalVisible:!0,orderSelected:{serial_number:r.serial_number,order_id:e.id}})},children:"Sipari\u015fi Kayd\u0131r"}):null,Object(he.jsx)(D.a,{style:{marginBottom:10,width:"100%"},onClick:function(){var n=r.serial_number+","+e.description;t.printQRCode(n,r.serial_number)},children:"Qr Kodu Yazd\u0131r"}),Object(he.jsx)(D.a,{style:{marginBottom:10,width:"100%"},onClick:function(){console.log(e.id),t.setState({historyModalVisible:!0,historyModalId:r.id,orderSelected:{serial_number:r.serial_number,order_id:e.id}})},children:"\u0130\u015flem Ge\xe7mi\u015fini G\xf6ster"}),r.test_comment?Object(he.jsx)(D.a,{block:!0,onClick:function(){N.a.get("./finalkontrolformu.xlsx",{responseType:"blob"}).then((function(e){var t=n(140),a=new FileReader;a.readAsArrayBuffer(e.data),a.onload=function(e){var n=new Cn.a.Workbook;n.xlsx.load(e.target.result).then((function(){var e=n.getWorksheet(1),a=e.getRow(58);a.getCell(1).value=r.test_comment,a.commit();var i=e.getRow(8);i.getCell(1).value=r.serial_number,i.getCell(5).value=r.test_manager,i.getCell(6).value=W(r.test_date),i.commit(),n.xlsx.writeBuffer().then((function(e){var n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});t.saveAs(n,"deneme.xlsx")}))}))}}))},children:"Test Raporu"}):null,"admin"==(null===(a=t.props.user)||void 0===a?void 0:a.role)&&"iptal"!==r.location?Object(he.jsx)(F.a,{title:"Bu makinay\u0131 silmek istedi\u011finizden emin misiniz? Bu i\u015flem geri al\u0131namaz",onConfirm:function(){return Ht(r.id)},okText:"Evet",cancelText:"Hay\u0131r",children:Object(he.jsx)(D.a,{danger:!0,block:!0,style:{marginBottom:10},type:"primary",children:"Makinay\u0131 Sil"})}):null]})]}),Object(he.jsx)(R.a,{})]})})):null}))}},{key:"printQRCode",value:function(e,t){var n=window.open("","","height=1024, width=1024"),r=Object(Be.renderToString)(Object(he.jsxs)("div",{style:{width:"50mm",height:"64mm"},children:[Object(he.jsx)(Hi,{value:e,style:{height:"44mm",width:"44mm",margin:"3mm"},renderAs:"svg"}),Object(he.jsx)("p",{style:{margin:10},children:t})]}));null===n||void 0===n||n.document.write(String(r)),n.document.body.style.margin=0,null===n||void 0===n||n.document.close(),null===n||void 0===n||n.print()}},{key:"componentDidUpdate",value:function(e){this.props.isFinishedOrders===e.isFinishedOrders&&this.props.isCancelledOrders===e.isCancelledOrders||this.GetOrders()}},{key:"GetOrders",value:function(){var e=this;(function(){return qe.apply(this,arguments)})().then((function(t){var n;t=null===(n=t)||void 0===n?void 0:n.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{arm_location:J(e.arm_location),chassis_location:J(e.chassis_location),fan_location:J(e.fan_location),tank_location:Q(e.tank_location),machine_location:J(e.machine_location)})})),e.setState({data:t}),e.setState({loading:!1})}))}},{key:"render",value:function(){var e,t,n,r=this,a=this.state;return Object(he.jsxs)("div",{style:{width:"70%",maxWidth:"70%",height:"100%",maxHeight:"100%",marginLeft:"auto",marginRight:"auto"},children:[Object(he.jsx)(Y.a,{rowKey:function(e){return"key"+e.id},size:"large",loading:this.state.loading,pagination:{defaultPageSize:100,position:["bottomRight"]},columns:this.state.columns,dataSource:a.data}),Object(he.jsx)(D.a,{loading:this.state.loading,style:{float:"right",marginLeft:"1rem",marginRight:"1rem",cursor:"pointer"},type:"primary",onClick:function(){var e;return function(e){var t=new Cn.a.Workbook,n=t.addWorksheet("My Sheet");n.properties.defaultRowHeight=80,n.columns=[{header:"Seri No",key:"serial_number",width:32},{header:"Tank",key:"tank_location",width:32},{header:"Kol",key:"arm_location",width:32},{header:"\u015ease",key:"chassis_location",width:32},{header:"Fan",key:"fan_location",width:32},{header:"Planlanan \xdcretim Tarihi",key:"planned_date",width:32}];var r=Promise.all(null===e||void 0===e?void 0:e.map(function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.addRow({serial_number:null===t||void 0===t?void 0:t.serial_number,tank_location:null===t||void 0===t?void 0:t.tank_location,arm_location:null===t||void 0===t?void 0:t.arm_location,chassis_location:null===t||void 0===t?void 0:t.chassis_location,fan_location:null===t||void 0===t?void 0:t.fan_location,planned_date:Re()(null===t||void 0===t?void 0:t.planned_date).format("DD/MM/YYYY")});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));r.then((function(){n.getColumn(5).eachCell((function(e){var t=n.getCell(null===e||void 0===e?void 0:e.address).value;t>50&&t<1e3&&(n.getCell(null===e||void 0===e?void 0:e.address).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF0000"}})})),t.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="download.xlsx",r.click(),window.URL.revokeObjectURL(n)}))}))}(null===r||void 0===r||null===(e=r.state)||void 0===e?void 0:e.data)},children:"Excel'e Aktar"}),Object(he.jsxs)(vn.a,{title:(null===(e=this.state.orderSelected)||void 0===e?void 0:e.serial_number)+" Seri Numaral\u0131 Makine.",open:this.state.orderModalVisible,onOk:function(){r.setState({orderModalVisible:!1}),It({order1:r.state.selectedToMove,order2:r.state.orderSelected,keepMachineDetails:r.state.keepMachineDetails})},onCancel:function(){r.setState({orderModalVisible:!1})},children:[Object(he.jsx)("p",{children:"L\xfctfen de\u011fi\u015fim yapmak istedi\u011finiz makineyi se\xe7in."}),Object(he.jsx)(z.a,{showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},style:{width:"100%"},onSelect:function(e){console.log(e),r.setState({selectedToMove:{serial_number:e.split(" ")[0],order_id:Number.parseInt(e.split(" ")[1])}})},placeholder:"L\xfctfen bir makine se\xe7in",defaultActiveFirstOption:!0,children:null===(t=this.state.movableMachines)||void 0===t?void 0:t.map((function(e){return Object(he.jsx)(z.a.Option,{value:e.serial_number+" "+e.order_id,children:e.serial_number+" "+e.customer+" "+U(e.location)},e.order_id)}))}),Object(he.jsxs)("div",{style:{marginTop:"2rem",display:"flex",gap:"1rem"},children:[Object(he.jsx)("span",{children:"Sipari\u015f Detay\u0131n\u0131 De\u011fi\u015ftir"}),Object(he.jsx)(On.a,{onChange:this.onChange}),Object(he.jsx)("span",{children:"Sipari\u015f Detay\u0131n\u0131 Koru (STOK)"})]})]}),this.state.historyModalVisible?Object(he.jsx)(wn,{isVisible:this.state.historyModalVisible,machine_id:this.state.historyModalId,serial_number:null===(n=this.state.orderSelected)||void 0===n?void 0:n.serial_number,setIsVisible:function(e){return r.setState({historyModalVisible:e})}}):null]})}}]),r}(a.a.Component),Wi=Object(o.b)((function(e,t){return{user:e.auth.user}}))(Ui),Ji=n(163),Qi=n(108);Qi.locale("tr");var Zi=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,l=t.clearFilters;return Object(he.jsxs)("div",{style:{padding:8},children:[Object(he.jsx)(pe.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(he.jsx)(D.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(he.jsx)(D.a,{onClick:function(){return r.handleReset(l)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(he.jsx)(yn.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){var r,a,i;return null===(r=n[e])||void 0===r||null===(a=r.toString())||void 0===a||null===(i=a.toLowerCase())||void 0===i?void 0:i.includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.onFinish=function(e){console.log("Success:",e)},r.onFinishFailed=function(e){console.log("Failed:",e)},r.state={orderModalVisible:!1,priceForModal:0,detailForModal:"",updatePriceModalVisible:!1,confirmButtonLoadingForModals:!1,selectedOrderId:"",orderDetails:{},loading:!1,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(u.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no.localeCompare(t.order_no)}},r.getColumnSearchProps("order_no")),Object(u.a)({title:"M\xfc\u015fteri",dataIndex:"customer",sorter:function(e,t){return e.customer.localeCompare(t.customer)}},r.getColumnSearchProps("customer")),Object(u.a)({title:"Telefon No",dataIndex:"phone_number"},r.getColumnSearchProps("phone_number")),Object(u.a)({title:"Adres",dataIndex:"address"},r.getColumnSearchProps("address")),Object(u.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},r.getColumnSearchProps("serial_number")),{title:"\xdcr\xfcn Tipi",dataIndex:"production_unit",render:function(e){return Object(he.jsx)("td",{children:U(e)})},sorter:function(e,t){return e.production_unit.localeCompare(t.production_unit)}},{title:"Sipari\u015f Tarihi",dataIndex:"date",render:function(e){return Object(he.jsx)("td",{children:W(e)})},sorter:function(e,t){return Qi(e.date).unix()-Qi(t.date).unix()}},{title:"Kimden",dataIndex:"order_tooker",render:function(e){var t=e.startsWith("Bayi");return Object(he.jsx)("span",{style:{color:t?"red":"initial"},children:e})}},{title:"\u0130\u015flemler",render:function(e,t){return t.order_tooker.startsWith("Bayi")?Object(he.jsx)("td",{children:"admin"==r.props.user.role?0!==t.price?Object(he.jsx)(D.a,{style:{marginBottom:10},type:"primary",onClick:function(){r.setState({updatePriceModalVisible:!0,selectedOrderId:t.id,orderDetails:t})},children:"Fiyat\u0131 G\xfcncelle"}):Object(he.jsx)(D.a,{style:{marginBottom:10},type:"default",onClick:function(){r.setState({orderModalVisible:!0,selectedOrderId:t.id,orderDetails:t})},children:"Fiyat Teklifi Ver"}):null}):Object(he.jsx)("td",{children:"admin"==r.props.user.role?Object(he.jsx)(D.a,{style:{marginBottom:10},type:"primary",onClick:function(){at(t.id).then((function(e){e&&r.GetPendingOrdersData()}))},children:"Finans Onay\u0131 Ver"}):null})},sorter:function(e,t){return("diger"!=e.production_unit&&!e.can_start_production)-("diger"!=t.production_unit&&!t.can_start_production)}}]},r.componentDidMount=function(){r.GetPendingOrdersData()},r.GetPendingOrdersData=function(){nt().then((function(e){r.setState({data:e})}))},r.UpdateAnOffer=function(){r.setState({confirmButtonLoadingForModals:!0}),dt(r.state.selectedOrderId,r.state.priceForModal,r.state.detailForModal).then((function(){r.setState({orderModalVisible:!1,updatePriceModalVisible:!1,confirmButtonLoadingForModals:!1}),r.GetPendingOrdersData()}))},r}return Object(C.a)(n,[{key:"render",value:function(){var e,t=this,n=this.state,r=null===(e=n.data)||void 0===e?void 0:e.filter((function(e){var n;return!(null!==(n=e.approval_role)&&void 0!==n&&n.includes(t.props.user.secondRole))}));return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(Y.a,{rowKey:function(e){return"key"+e.id},size:"small",loading:n.loading,pagination:{defaultPageSize:10,position:["bottomRight"]},columns:n.columns,dataSource:r,expandable:{expandedRowRender:function(e){return Object(he.jsx)(sr,{externalDetails:Object(he.jsxs)(he.Fragment,{children:[Object(he.jsxs)("div",{style:{display:"flex"},children:[Object(he.jsxs)("p",{style:{fontWeight:"bold",marginRight:"5px"},children:["Fiyat",":"]}),Object(he.jsx)("p",{children:e.price?e.price+"\u20ba":"Fiyat Bilgisi Yok"})]}),Object(he.jsxs)("div",{style:{display:"flex"},children:[Object(he.jsxs)("p",{style:{fontWeight:"bold",marginRight:"5px"},children:["\xd6deme Detaylar\u0131",":"]}),Object(he.jsx)("p",{children:e.payment_detail||"\xd6deme Detay\u0131 Yok"})]})]}),hideShowTransactions:!0,serial_number:e.serial_number})}}}),Object(he.jsx)(B.a,{title:"Fiyat Teklifi Ver",open:this.state.orderModalVisible,onOk:function(){return t.UpdateAnOffer()},confirmLoading:this.state.confirmButtonLoadingForModals,okText:"G\xf6nder",onCancel:function(){t.setState({orderModalVisible:!1})},children:Object(he.jsxs)(ue.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:this.onFinish,onFinishFailed:this.onFinishFailed,autoComplete:"off",children:[Object(he.jsx)(ue.a.Item,{label:"Fiyat",name:"price",rules:[{required:!0,message:"Bu alan\u0131 doldurun!"}],children:Object(he.jsx)(pe.a,{type:"number",onChange:function(e){return t.setState({priceForModal:e.target.value})}})}),Object(he.jsx)(ue.a.Item,{label:"\xd6deme Detay\u0131",name:"payment_detail",rules:[{required:!0,message:"Bu alan\u0131 doldurun!"}],children:Object(he.jsx)(Ji.a,{rows:3,maxLength:255,onChange:function(e){return t.setState({detailForModal:e.target.value})}})})]})}),Object(he.jsx)(B.a,{title:"Fiyat Teklifi G\xfcncelle",open:this.state.updatePriceModalVisible,onOk:function(){return t.UpdateAnOffer()},confirmLoading:this.state.confirmButtonLoadingForModals,okText:"G\xfcncelle",onCancel:function(){t.setState({updatePriceModalVisible:!1})},children:Object(he.jsxs)(ue.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:this.onFinish,onFinishFailed:this.onFinishFailed,autoComplete:"off",children:[Object(he.jsx)(ue.a.Item,{label:"Fiyat",name:"price",rules:[{required:!0,message:"Bu alan\u0131 doldurun!"}],children:Object(he.jsx)(pe.a,{defaultValue:this.state.orderDetails.price,type:"number",onChange:function(e){return t.setState({priceForModal:e.target.value})}})}),Object(he.jsx)(ue.a.Item,{label:"\xd6deme Detay\u0131",name:"payment_detail",rules:[{required:!0,message:"Bu alan\u0131 doldurun!"}],children:Object(he.jsx)(pe.a,{defaultValue:this.state.orderDetails.payment_detail,maxLength:255,onChange:function(e){return t.setState({detailForModal:e.target.value})}})})]})})]})}}]),n}(a.a.Component),$i=Object(o.b)((function(e,t){return{user:e.auth.user}}))(Zi),Xi=function(){var e,t,n,r,a,i,l,o,c,d,u,m,h,j,b,f,x=Object(s.g)(),O=null===x||void 0===x||null===(e=x.state)||void 0===e?void 0:e.item,y={"Marka :":null!==(t=null===O||void 0===O?void 0:O.brand)&&void 0!==t?t:"-","Tip :":null!==(n=null===O||void 0===O?void 0:O.type)&&void 0!==n?n:"-","Kazan Rengi :":null!==(r=null===O||void 0===O?void 0:O.caldron_color)&&void 0!==r?r:"-","Hacim (LT):":null!==(a=null===O||void 0===O?void 0:O.tank_size)&&void 0!==a?a:"-","Materyal :":null!==(i=null===O||void 0===O?void 0:O.caldron_material)&&void 0!==i?i:"-","\xc7eki Tipi :":null!==(l=null===O||void 0===O?void 0:O.cooler_type)&&void 0!==l?l:"-","Pompa :":null!==(o=null===O||void 0===O?void 0:O.pump)&&void 0!==o?o:"-","Kumanda :":null!==(c=null===O||void 0===O?void 0:O.commander)&&void 0!==c?c:"-","Meme Tipi :":null!==(d=null===O||void 0===O?void 0:O.meme_type)&&void 0!==d?d:"-","Kol Tipi :":null!==(u=null===O||void 0===O?void 0:O.arm_type)&&void 0!==u?u:"-","Meme Aral\u0131\u011f\u0131 :":null!==(m=null===O||void 0===O?void 0:O.meme_distance)&&void 0!==m?m:"-","Kol Uzunlu\u011fu :":null!==(h=null===O||void 0===O?void 0:O.arm_length)&&void 0!==h?h:"-","\u015ease Rengi :":null!==(j=null===O||void 0===O?void 0:O.chassis_color)&&void 0!==j?j:"-","Ek \xd6zellikler :":null!==(b=null===O||void 0===O?void 0:O.description)&&void 0!==b?b:"-","Sipari\u015f Alan :":null!==(f=null===O||void 0===O?void 0:O.order_tooker)&&void 0!==f?f:"-"};return Object(he.jsxs)("div",{style:{width:"1500px",marginRight:"auto",marginLeft:"auto"},children:[Object(he.jsxs)("div",{style:{border:"1px solid black"},children:[Object(he.jsxs)("div",{style:{display:"flex",borderBottom:"1px solid black",gap:"1rem",padding:"1rem",justifyContent:"space-evenly"},children:[Object(he.jsx)("img",{width:"40",height:"40",src:"agrotek.png",alt:"logo"}),Object(he.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[Object(he.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[Object(he.jsx)("span",{children:"\xc7\u0130FT\xc7\u0130"}),Object(he.jsx)("div",{style:{border:"1px solid orange",height:"15px",width:"30px"}})]}),Object(he.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[Object(he.jsx)("span",{children:"BAY\u0130"}),Object(he.jsx)("div",{style:{border:"1px solid orange",height:"15px",width:"30px"}})]}),Object(he.jsx)("div",{style:{display:"flex",gap:"5px"}}),Object(he.jsx)("span",{children:"KURUMSAL"}),Object(he.jsx)("div",{style:{border:"1px solid orange",height:"15px",width:"30px"}})]}),Object(he.jsx)("span",{children:"S\xd6ZLE\u015eME TAR\u0130H\u0130: ......./....../...... "}),Object(he.jsx)("span",{children:"SER\u0130 NO:"}),Object(he.jsx)("span",{children:"PLAS\u0130YER:"})]}),Object(he.jsxs)("div",{style:{display:"flex"},children:[Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:1,gap:"1rem"},children:[Object(he.jsx)("span",{style:{textAlign:"center"},children:"M\xdc\u015eTER\u0130N\u0130N AD-SOYAD/\xdcNVANI:"}),Object(he.jsx)("span",{style:{textAlign:"center",borderTop:"1px solid black"},children:"M\xdc\u015eTER\u0130N\u0130N ADRES\u0130 /GSM/TEL NO:"}),Object(he.jsx)("span",{style:{textAlign:"center",borderTop:"1px solid black"},children:"MAK\u0130NE ADI:"}),Object(he.jsx)("br",{}),Object(he.jsx)("span",{style:{height:"27px",textAlign:"center",borderTop:"1px solid black"},children:"SATI\u015e \u015eEKL\u0130:"}),Object(he.jsx)("span",{style:{textAlign:"center",borderTop:"1px solid black",borderBottom:"1px solid black"},children:"TAHS\u0130LAT VADES\u0130:"}),Object(he.jsx)("br",{}),Object(he.jsx)("br",{})]}),Object(he.jsx)("div",{style:{backgroundColor:"black",width:"1px"}}),Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:3,gap:"1rem"},children:[Object(he.jsx)("span",{style:{marginLeft:"20px",height:"19px"},children:null===O||void 0===O?void 0:O.customer}),Object(he.jsx)("span",{style:{borderTop:"1px solid black"},children:Object(he.jsx)("span",{style:{marginLeft:"20px",height:"19px"},children:null===O||void 0===O?void 0:O.phone_number})}),Object(he.jsxs)("div",{style:{textAlign:"center",borderTop:"1px solid black",height:"19px",display:"flex",justifyContent:"space-evenly"},children:[Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[Object(he.jsx)("span",{style:{textDecoration:"underline"},children:"ADET"}),Object(he.jsxs)("span",{children:[null===O||void 0===O?void 0:O.order_amount," AD."]})]}),Object(he.jsx)("div",{style:{backgroundColor:"black",width:"1px",height:"115px"}}),Object(he.jsxs)("div",{style:{},children:[Object(he.jsx)("span",{style:{textDecoration:"underline"},children:"F\u0130YAT"}),Object(he.jsx)("span",{})]}),Object(he.jsx)("div",{style:{backgroundColor:"black",width:"1px",height:"115px"}}),Object(he.jsxs)("div",{style:{},children:[Object(he.jsx)("span",{style:{textDecoration:"underline"},children:"TUTAR"}),Object(he.jsx)("span",{})]}),Object(he.jsx)("div",{style:{backgroundColor:"black",width:"1px",height:"115px"}}),Object(he.jsxs)("div",{style:{},children:[Object(he.jsx)("span",{style:{textDecoration:"underline"},children:"\xd6ZEL NOTLAR"}),Object(he.jsx)("span",{})]})]}),Object(he.jsx)("br",{}),Object(he.jsxs)("div",{style:{textAlign:"center",borderTop:"1px solid black",display:"flex",justifyContent:"space-around",paddingLeft:"1rem",paddingTop:"8px"},children:[Object(he.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[Object(he.jsx)("span",{children:"NAK\u0130T"}),Object(he.jsx)("div",{style:{border:"1px solid orange",height:"15px",width:"30px"}})]}),Object(he.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[Object(he.jsx)("span",{children:"Z\u0130RA\u0130 KRED\u0130"}),Object(he.jsx)("div",{style:{border:"1px solid orange",height:"15px",width:"30px"}})]}),Object(he.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[Object(he.jsx)("span",{children:"C/H"}),Object(he.jsx)("div",{style:{border:"1px solid orange",height:"15px",width:"30px"}})]}),Object(he.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[Object(he.jsx)("span",{children:"\xc7EK"}),Object(he.jsx)("div",{style:{border:"1px solid orange",height:"15px",width:"30px"}})]})]}),Object(he.jsxs)("div",{style:{textAlign:"center",borderTop:"1px solid black",display:"flex"},children:[Object(he.jsx)("span",{style:{flex:2,borderBottom:"1px solid black",borderRight:"1px solid black"},children:"\xd6DEME TAR\u0130H\u0130"}),Object(he.jsx)("span",{style:{flex:1,borderBottom:"1px solid black",borderRight:"1px solid black"},children:"TUTAR"}),Object(he.jsx)("span",{style:{flex:2,borderBottom:"1px solid black"},children:"KALAN BAK\u0130YE"})]})]})]})]}),Object(he.jsx)("div",{style:{padding:"1rem",marginTop:"1rem"},children:Object(he.jsxs)("span",{children:["1-Makina, \u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026 \u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026. adresinde ALICIYA teslim edilecektir. Ta\u015f\u0131ma ve Nakliye Bedeli \u2026..\u2026\u2026. ait olup, bu nedenle olu\u015facak hasarlar da \u2026\u2026\u2026\u2026\u2026. sorumlulu\u011fundad\u0131r. Makina\u2019n\u0131n teslimi ile sorumluluk ALICIYA ge\xe7er. ",Object(he.jsx)("br",{})," 2-Makina 2 y\u0131l boyunca SATICININ garantisi alt\u0131nda olup bu s\xfcre i\xe7erisinde makinan\u0131n servis ve bak\u0131mlar\u0131 \xfccretsiz olarak yap\u0131lacakt\u0131r. Sonraki y\u0131llarda makinan\u0131n servis ve bak\u0131m\u0131ndan \xfccret al\u0131nabilece\u011fini ALICI kabul eder. Makinan\u0131n teslimi ile birlikte, makinan\u0131n kurulum ve kullan\u0131mla ilgili olarak ALICI\u2019ya e\u011fitim verilecektir. Hatal\u0131 kullan\u0131mdan do\u011fan ar\u0131zalar garanti kapsam\u0131 d\u0131\u015f\u0131ndad\u0131r.",Object(he.jsx)("br",{})," 3-Nakit sat\u0131mlarda, ALICI\u2019dan pe\u015finat al\u0131n\u0131r, kalan bedel en ge\xe7 makinan\u0131n teslim g\xfcn\xfc ALICI taraf\u0131ndan SATICI\u2019ya \xf6denecektir. Bedelin \xf6denmemesi halinde makina, SATICI taraf\u0131ndan ALICI\u2019ya teslim edilmez.",Object(he.jsx)("br",{})," 4-Makina \u2026\u2026\u2026.. tarihinde ALICI\u2019ya teslim edilecektir. SATICI\u2019n\u0131n teslimdeki 1 ayl\u0131k gecikmesinin, ola\u011fan oldu\u011funu ALICI ba\u015ftan kabul etmektedir. ALICI\u2019n\u0131n; en ge\xe7 \u2026\u2026\u2026\u2026. tarihine kadar makinay\u0131 teslim almamas\u0131 halinde, ALICI ; makina bedelini bu tarihten itibaren i\u015fleyecek ticari temerr\xfct faizi ile tazmin etmekle y\xfck\xfcml\xfc olaca\u011f\u0131n\u0131 kabul ve taahh\xfct eder.",Object(he.jsx)("br",{})," 5-ALICI; makina\u2019n\u0131n teslimi an\u0131nda makinan\u0131n ba\u015f\u0131nda foto\u011fraflar\u0131n\u0131n \xe7ekilmesini ve bunun SATICI\u2019ya ait sosyal medya hesaplar\u0131nda ad-soyad ve il bilgisi ile payla\u015f\u0131lmas\u0131n\u0131 a\xe7\u0131k r\u0131zas\u0131 ile kabul etmi\u015f olup, bunun ki\u015fisel veri ihlali olmad\u0131\u011f\u0131n\u0131 ve olmayaca\u011f\u0131n\u0131 kabul ve beyan etmi\u015ftir.",Object(he.jsx)("br",{})," 6-SATICI; 6698 Say\u0131l\u0131 Ki\u015fisel Verilerin Korunmas\u0131 Kanunu\u2019nun 10.maddesi gere\u011fi Ayd\u0131nlatma Metnini ALICI\u2019ya arz etmektedir. SATICI\u2019n\u0131n veri sorumlusu Agrotek \u0130la\xe7lama Makinalar\u0131 Ve Tar\u0131m Tek.\u0130th.\u0130hr.Zirai \xdcr\xfcnler San.Tic. Ltd. \u015eti. olup, a\u015fa\u011f\u0131daki ka\u015fe ve imza b\xf6l\xfcm\xfcnde adres, vergi dairesi ve numaras\u0131, mersis numaras\u0131 ve telefon ve fax numaralar\u0131 bulunmaktad\u0131r. SATICI ; i\u015fbu s\xf6zle\u015fme kapsam\u0131nda ALICI\u2019n\u0131n ad ve soyad\u0131n\u0131, \xfcnvan\u0131n\u0131, T.C. Kimlik Numaras\u0131n\u0131, adres bilgisini, vergi kimlik numaras\u0131n\u0131 ve foto\u011fraf\u0131n\u0131 i\u015fleyecektir. \u0130\u015fbu ki\u015fisel veriler SATICI taraf\u0131ndan faturaland\u0131rma, \xfcr\xfcn teslimi, e\u011fitim hizmet takibi,garanti takibi, \xfcr\xfcn takibi, reklam ve tan\u0131t\u0131m sebepleri ile i\u015flenecektir. Ki\u015fisel veri i\u015fleme s\xfcresi 10 senedir. Ki\u015fisel Verilerden ALICI\u2019n\u0131n ad\u0131-soyad\u0131, bulundu\u011fu il ve makina ile \xe7ekilmi\u015f foto\u011fraflar\u0131 SATICI\u2019n\u0131n sosyal medya hesaplar\u0131nda payla\u015f\u0131lacakt\u0131r. ALICININ ad ve soyad, \xfcnvan, T.C. Kimlik Numaras\u0131, adres bilgisi, vergi kimlik numaras\u0131 gibi ki\u015fisel verileri faturaland\u0131rma s\xfcreci ile ilgili olarak, Vergi Dairesi, Tar\u0131m \u0130l M\xfcd\xfcrl\xfc\u011f\xfc, Sanayi ve Ticaret Bakanl\u0131\u011f\u0131, Hazine ve Maliye Bakanl\u0131\u011f\u0131 ve sair resmi kurumlarla payla\u015f\u0131lmaktad\u0131r. 6698 say\u0131l\u0131 Kanun\u2019un 11.maddesi uyar\u0131nca SATICI; ALICI\u2019y\u0131 \u201cKi\u015fisel verilerinin i\u015flenip i\u015flenmedi\u011fini \xf6\u011frenme,ki\u015fisel verileri i\u015flenmi\u015fse buna ili\u015fkin bilgi talep etme, ki\u015fisel verilerinin i\u015flenme amac\u0131n\u0131 ve bunlar\u0131n amac\u0131na uygun kullan\u0131l\u0131p kullan\u0131lmad\u0131\u011f\u0131n\u0131 \xf6\u011frenme, yurt i\xe7inde veya yurt d\u0131\u015f\u0131nda ki\u015fisel verilerinin aktar\u0131ld\u0131\u011f\u0131 \xfc\xe7\xfcnc\xfc ki\u015fileri bilme, ki\u015fisel verilerin eksik veya yanl\u0131\u015f i\u015flenmi\u015f olmas\u0131 h\xe2linde bunlar\u0131n d\xfczeltilmesini isteme, ki\u015fisel verilerin silinmesini veya yok edilmesini isteme, ki\u015fisel verilerin d\xfczeltilmesi, silinmesi veya yok edilmesine ili\u015fkin i\u015flemlerin ki\u015fisel verilerin aktar\u0131ld\u0131\u011f\u0131 \xfc\xe7\xfcnc\xfc ki\u015filere bildirilmesini isteme, i\u015flenen verilerin m\xfcnhas\u0131ran otomatik sistemler vas\u0131tas\u0131yla analiz edilmesi suretiyle aleyhine bir sonucun ortaya \xe7\u0131kmas\u0131na itiraz etme,ki\u015fisel verilerinin kanuna ayk\u0131r\u0131 olarak i\u015flenmesi sebebiyle zarara u\u011framas\u0131 h\xe2linde zarar\u0131n giderilmesini talep etme\u201d haklar\u0131na sahip oldu\u011fu konusunda a\xe7\u0131k\xe7a bilgilendirmi\u015ftir."]})}),Object(he.jsxs)("div",{style:{padding:"1rem",marginTop:"1rem",display:"flex",gap:"24rem"},children:[Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",fontWeight:"bold"},children:[Object(he.jsx)("span",{children:"FATURA NO :"}),Object(he.jsx)("span",{children:"\u0130RSAL\u0130YE NO :"})]}),Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",fontWeight:"bold"},children:[Object(he.jsx)("span",{children:"SEVK TAR\u0130H\u0130 :"}),Object(he.jsx)("span",{children:"ARA\xc7 B\u0130LG\u0130S\u0130 :"})]})]}),Object(he.jsxs)("div",{style:{padding:"1rem",marginTop:"1rem",display:"flex",gap:"3rem"},children:[Object(he.jsx)("span",{style:{textDecoration:"underline",fontWeight:"bold"},children:"SATI\u015eA KONU MAK\u0130NE KONF\u0130GRASYONU"}),Object(he.jsxs)("span",{style:{border:"1px solid black",width:"300px",padding:"4px",height:"20px"},children:["SER\u0130 NO:"," "]}),Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:"-1.2rem"},children:[Object(he.jsx)("span",{children:"SATICI KA\u015eE / \u0130MZA"}),Object(he.jsx)("textarea",{cols:"30",rows:"5"})]}),Object(he.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:"-1.2rem"},children:[Object(he.jsx)("span",{children:"ALICI AD-SOYAD / \u0130MZA"}),Object(he.jsx)("textarea",{cols:"30",rows:"5"})]})]}),Object(he.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginRight:"10%"},children:[Object(he.jsx)("div",{children:Object(he.jsx)("ul",{children:Object.entries(y).map((function(e){var t=Object(p.a)(e,2),n=t[0],r=t[1];return Object(he.jsxs)("li",{children:[Object(he.jsx)("strong",{children:n})," ",r]},n)}))})}),Object(he.jsx)("span",{style:{border:"1px solid black",width:"300px",height:"150px",padding:"4px"},children:"NOTLAR:"})]})]})},el=z.a.Option,tl=z.a.OptGroup,nl=n(67),rl=A.a.Content;function al(e){for(var t="",n=e.length-1;n>=0;n--)t+=e[n];return t}var il=function(){var e,t=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),n=Object(r.useState)(!1),a=Object(p.a)(n,2),i=a[0],l=a[1],c=Object(r.useState)(0),s=Object(p.a)(c,2),d=s[0],m=s[1],h=Object(r.useState)(""),j=Object(p.a)(h,2),b=j[0],f=j[1],x=Object(r.useState)("turbo"),O=Object(p.a)(x,2),y=O[0],g=O[1],v=Object(o.d)((function(e){return e.auth.user})),k=Object(r.useState)({brand:"",type:"",cooler_type:"",arm_type:"",tank_size:0,pump:"",order_no:"",order_amount:0,year:""}),_=Object(p.a)(k,2),T=_[0],C=_[1],I=function(){switch(y){case"kollu":return T.brand+T.type+T.arm_type+T.tank_size+T.pump+T.year+0+T.order_no+0+T.order_amount;case"turbo":return T.brand+T.type+T.cooler_type+T.tank_size+T.pump+T.year+0+T.order_no+0+T.order_amount;case"diger":return T.brand+T.type+T.year+0+T.order_no+0+T.order_amount;default:return""}}(),M=ue.a.useForm(),B=Object(p.a)(M,1)[0],F=function(){l(!0),cn().then((function(e){m(15),C(Object(u.a)(Object(u.a)({},T),{},{order_no:String(e)})),l(!1)}))};return Object(r.useEffect)((function(){d>0&&setTimeout((function(){m(d-1)}),1e3)}),[d]),Object(r.useEffect)((function(){F()}),[]),Object(he.jsx)(A.a,{style:{minHeight:"100vh"},children:Object(he.jsx)(rl,{children:Object(he.jsxs)(ml,{style:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap-reverse"},children:[Object(he.jsxs)(ue.a,{form:B,onFieldsChange:function(){var e="turktraktor"==B.getFieldValue("brand")?B.getFieldValue("brand")+" "+B.getFieldValue("model"):"turbo"==B.getFieldValue("production_unit")?B.getFieldValue("brand")+" "+B.getFieldValue("tank_size")+"LT "+B.getFieldValue("cooler_type")+B.getFieldValue("fan_radius")+"cm "+B.getFieldValue("fan_type"):"kollu"==B.getFieldValue("production_unit")?B.getFieldValue("brand")+" "+B.getFieldValue("tank_size")+"LT "+B.getFieldValue("arm_type")+" "+B.getFieldValue("arm_length"):"diger"==B.getFieldValue("production_unit")?B.getFieldValue("brand")+" "+B.getFieldValue("type"):"";f(I+","+e.toUpperCase()),B.getFieldValue("model")&&"turktraktor"==B.getFieldValue("brand")&&B.setFieldsValue({caldron_color:B.getFieldValue("model")})},onFinish:function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),m(0),t.order_no=T.order_no,t.serial_number=I,t.customer=v.name+" "+v.surname,t.caldron_stock="new",t.phone_number="0000000000",t.address="",e.next=10,Ee(t,I);case 10:!0===e.sent&&(R(t.order_amount),B.resetFields()),l(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),labelCol:{span:5},wrapperCol:{span:24},style:{maxWidth:"calc(100% - 168px)",minWidth:"450px"},requiredMark:!1,children:[Object(he.jsx)(ue.a.Item,{name:"date",initialValue:Re()(),label:"Tarih",required:!0,children:Object(he.jsx)(Me.a,{disabled:!0})}),Object(he.jsx)(ue.a.Item,{name:"production_unit",label:"\xdcretim Birimi",initialValue:"turbo",required:!0,children:Object(he.jsxs)(me.a.Group,{onChange:function(e){g(e.target.value)},children:[Object(he.jsx)(me.a,{value:"turbo",children:"Turbo"}),Object(he.jsx)(me.a,{value:"kollu",children:"Kollu"}),Object(he.jsx)(me.a,{value:"diger",children:"Di\u011fer"})]})}),Object(he.jsx)(ue.a.Item,{name:"brand",label:"Marka",required:!0,children:Object(he.jsx)(z.a,{onSelect:function(e){var n=t.brand.filter((function(t){return t.type==e}));C(Object(u.a)(Object(u.a)({},T),{},{brand:n[0].shortend}))},children:t.brand.map((function(e){return Object(he.jsx)(el,{value:e.type,children:e.text},e.type)}))})}),"turbo"==y&&"T"==T.brand?Object(he.jsx)(ue.a.Item,{name:"model",label:"Model",required:!0,children:Object(he.jsx)(z.a,{children:t.turktraktormodel.map((function(e){return Object(he.jsx)(el,{value:e.text,children:e.text},e.text)}))})}):null,Object(he.jsx)(ue.a.Item,{name:"type",label:"Tip",required:!0,children:"turbo"===y||"kollu"===y?Object(he.jsx)(z.a,{onSelect:function(e){var n=t.type.filter((function(t){return t.type==e}));C(Object(u.a)(Object(u.a)({},T),{},{type:n[0].shortend}))},children:t.type.map((function(e){return Object(he.jsx)(el,{value:e.type,children:e.text},e.type)}))}):Object(he.jsx)(z.a,{onSelect:function(e){var n=t.machine_type.filter((function(t){return t.type==e}));C(Object(u.a)(Object(u.a)({},T),{},{type:n[0].shortend}))},children:t.machine_type.map((function(e){return Object(he.jsx)(el,{value:e.type,children:e.text},e.type)}))})}),"kollu"==y||"turbo"==y?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(ue.a.Item,{name:"caldron_color",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:32,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Kazan Rengi",required:!0,children:Object(he.jsx)(pe.a,{})}),Object(he.jsx)(ue.a.Item,{name:"caldron_material",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:19,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Materyal",required:!0,children:Object(he.jsx)(z.a,{children:t.caldron_material.map((function(e){return Object(he.jsx)(el,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"tank_size",label:"Depo Hacmi",required:!0,children:Object(he.jsx)(z.a,{onSelect:function(e){var n=t.tank_size.filter((function(t){return t.type==e}));C(Object(u.a)(Object(u.a)({},T),{},{tank_size:parseInt(n[0].shortend)}))},children:Object(he.jsx)(tl,{label:"Litre",children:t.tank_size.map((function(e){return Object(he.jsx)(el,{value:e.type,children:e.text},e.type)}))})})}),Object(he.jsx)(ue.a.Item,{name:"tow_type",label:"\xc7eki Tipi",required:!0,children:Object(he.jsx)(z.a,{children:t.tow_type.map((function(e){return Object(he.jsx)(el,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"pump",label:"Pompa",required:!0,children:Object(he.jsx)(z.a,{onSelect:function(e){var n=t.pump.filter((function(t){return t.type==e}));C(Object(u.a)(Object(u.a)({},T),{},{pump:n[0].shortend}))},children:t.pump.map((function(e){return Object(he.jsx)(el,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"commander",label:"Kumanda",required:!0,children:Object(he.jsx)(z.a,{children:t.commander.map((function(e){return Object(he.jsx)(el,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"meme_type",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:19,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Meme Tipi",required:!0,children:Object(he.jsx)(z.a,{children:t.meme_type.map((function(e){return Object(he.jsx)(el,{value:e.type,children:e.text},e.type)}))})})]}):null,"kollu"==y?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(ue.a.Item,{name:"arm_type",label:"Kol Tipi",required:!0,children:Object(he.jsx)(z.a,{onSelect:function(e){var n=t.arm_type.filter((function(t){return t.type==e}));C(Object(u.a)(Object(u.a)({},T),{},{arm_type:n[0].shortend}))},children:t.arm_type.map((function(e){return Object(he.jsx)(el,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"meme_distance",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:19,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Meme Aral\u0131\u011f\u0131",required:!0,children:Object(he.jsx)(pe.a,{maxLength:19})}),Object(he.jsx)(ue.a.Item,{name:"arm_length",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:30,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Kol Uzunlu\u011fu",required:!0,children:Object(he.jsx)(pe.a,{maxLength:20})})]}):null,"turbo"==y?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(ue.a.Item,{name:"cooler_type",label:"Fan Tipi",required:!0,children:Object(he.jsx)(z.a,{onSelect:function(e){var n=t.cooler_type.filter((function(t){return t.type==e}));C(Object(u.a)(Object(u.a)({},T),{},{cooler_type:n[0].shortend}))},children:t.cooler_type.map((function(e){return Object(he.jsx)(el,{value:e.type,children:e.text},e.type)}))})}),"turbo"==y?Object(he.jsx)(ue.a.Item,{name:"caldron_type",label:"Kazan Tipi",required:!0,children:Object(he.jsx)(z.a,{children:t.caldron_type.map((function(e){return Object(he.jsx)(el,{value:e.type,children:e.text},e.type)}))})}):null,"turbo"==y?Object(he.jsx)(ue.a.Item,{name:"fan_radius",label:"Pervane \xc7ap\u0131",required:!0,children:Object(he.jsx)(z.a,{children:t.fan_radius.map((function(e){return Object(he.jsx)(el,{value:e.type,children:e.text},e.type)}))})}):null,"turbo"==y?Object(he.jsx)(ue.a.Item,{name:"fan_type",label:"Pervane Tipi",required:!0,children:Object(he.jsx)(z.a,{children:t.fan_type.map((function(e){return Object(he.jsx)(el,{value:e.type,children:e.text},e.type)}))})}):null]}):null,Object(he.jsxs)(ue.a.Item,{name:"order_no",label:"Sipari\u015f No",children:[Object(he.jsx)(pe.a,{disabled:!0,value:T.order_no,style:{width:"324px"},maxLength:6,onChange:function(e){C(Object(u.a)(Object(u.a)({},T),{},{order_no:q(e.target.value,"0",6)}))}}),Object(he.jsx)(D.a,{disabled:i||d,icon:Object(he.jsx)(ze.a,{indicator:Object(he.jsx)(sn.a,{spin:i})}),onClick:F})]}),Object(he.jsx)(ue.a.Item,{name:"order_amount",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:5,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Sipari\u015f Adedi",required:!0,children:Object(he.jsx)(pe.a,{max:99,min:1,type:"number",onChange:function(e){C(Object(u.a)(Object(u.a)({},T),{},{order_amount:parseInt(e.target.value)}))}})}),Object(he.jsx)(ue.a.Item,{name:"year",label:"Y\u0131l",initialValue:Re()(),required:!0,children:Object(he.jsx)(Me.a,{disabled:!0,picker:"year"})}),Object(he.jsx)(ue.a.Item,{name:"chassis_color",label:"\u015ease Rengi",required:!0,children:Object(he.jsx)(z.a,{children:t.chassis_color.map((function(e){return Object(he.jsx)(el,{value:e.type,children:e.text},e.type)}))})}),Object(he.jsx)(ue.a.Item,{name:"alt_features",rules:[{max:250,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Ek \xd6zellikler",required:!0,children:Object(he.jsx)(pe.a.TextArea,{maxLength:250})}),Object(he.jsx)(ue.a.Item,{name:"serial_number",label:"Seri No",children:Object(he.jsx)(pe.a,{disabled:!0,placeholder:I})}),Object(he.jsx)(ue.a.Item,{wrapperCol:{span:24},children:Object(he.jsxs)(D.a,{loading:i,disabled:!d,size:"large",block:!0,type:"primary",htmlType:"submit",children:["Sipari\u015fi Olu\u015ftur ",d||"(Sipari\u015f No'yu Yenileyin)"]})})]}),Object(he.jsx)("div",{style:{display:"block",width:"min-content"},children:Object(he.jsx)(nl,{value:b,renderAs:"svg",size:178})})]})})});function R(e){for(var t=window.open("","","height=1024, width=1024"),n=function(e){var t=e.indexOf("0"),n=al(e.substr(0,t));return[al(e.substr(t+1)),n]}(al(I)),r=b.split(","),a=e;a>0;a--){r[0]=n[0]+"0"+a;var i=Object(Be.renderToString)(Object(he.jsxs)("div",{style:{width:"50mm",height:"64mm"},children:[Object(he.jsx)(nl,{value:r[0]+","+r[1],style:{height:"44mm",width:"44mm",margin:"3mm"},renderAs:"svg"}),Object(he.jsx)("p",{style:{margin:10},children:r[0]})]}));null===t||void 0===t||t.document.write(String(i))}t&&(t.document.body.style.margin="0",t.document.close(),t.print())}};V.a.extend(Mn.a),V.a.locale("tr");var ll=n(67);function ol(e,t){if(t)return Object(he.jsxs)("div",{style:{display:"flex"},children:[Object(he.jsxs)("p",{style:{fontWeight:"bold",marginRight:"5px"},children:[e,":"]}),Object(he.jsx)("p",{children:t})]})}var cl,sl,dl=function(e){Object(I.a)(r,e);var t=Object(M.a)(r);function r(e){var n,a;return Object(T.a)(this,r),(a=t.call(this,e)).configFile=JSON.parse(null!==(n=localStorage.getItem("config"))&&void 0!==n?n:"{}"),a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,i=t.confirm,l=t.clearFilters;return Object(he.jsxs)("div",{style:{padding:8},children:[Object(he.jsx)(pe.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(r,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(he.jsx)(D.a,{type:"primary",onClick:function(){return a.handleSearch(r,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(he.jsx)(D.a,{onClick:function(){return a.handleReset(l)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(he.jsx)(yn.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){var r,a,i;return null===(r=n[e])||void 0===r||null===(a=r.toString())||void 0===a||null===(i=a.toLowerCase())||void 0===i?void 0:i.includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(e){return e}}},a.handleSearch=function(e,t,n){t(),a.setState({searchText:e[0],searchedColumn:n})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.state={movableMachines:[],orderModalVisible:!1,csvdata:[["Seri No","Sipari\u015f No","Sipari\u015f Tarihi","M\xfc\u015fteri","Telefon","Adres","Sipari\u015f Alan","Durum"]],orderDetails:{},loading:!1,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(u.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no.localeCompare(t.order_no)}},a.getColumnSearchProps("order_no")),Object(u.a)({title:"M\xfc\u015fteri",dataIndex:"customer",sorter:function(e,t){return e.customer.localeCompare(t.customer)}},a.getColumnSearchProps("customer")),Object(u.a)({title:"Telefon No",dataIndex:"phone_number"},a.getColumnSearchProps("phone_number")),Object(u.a)({title:"Lokasyon",dataIndex:"address"},a.getColumnSearchProps("address")),Object(u.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},a.getColumnSearchProps("serial_number")),Object(u.a)(Object(u.a)({title:"\xdcr\xfcn Tipi",dataIndex:"production_unit",sorter:function(e,t){return e.production_unit.localeCompare(t.production_unit)}},a.getColumnSearchProps("production_unit")),{},{render:function(e){return Object(he.jsx)("td",{children:U(e)})}}),Object(u.a)(Object(u.a)({title:"Miktar",sorter:function(e,t){return e.pending_amount-t.pending_amount}},a.getColumnSearchProps("order_amount")),{},{render:function(e,t){return Object(he.jsx)("td",{children:String(t.order_amount-t.pending_amount)+"/"+t.order_amount})}}),Object(u.a)({title:"Sipari\u015f Tarihi",dataIndex:"date",sorter:function(e,t){return V()(e.date,"D MMMM YYYY, HH:mm").unix()-V()(t.date,"D MMMM YYYY, HH:mm").unix()}},a.getColumnSearchProps("date")),Object(u.a)(Object(u.a)({title:"Sipari\u015f Alan",dataIndex:"order_tooker",sorter:function(e,t){return e.order_tooker.localeCompare(t.order_tooker)}},a.getColumnSearchProps("order_tooker")),{},{render:function(e){return Object(he.jsx)("td",{children:e.toUpperCase()})}}),Object(u.a)(Object(u.a)({title:"Sipari\u015f Durumu",dataIndex:"laststatus",sorter:function(e,t){return e.laststatus.localeCompare(t.laststatus)}},a.getColumnSearchProps("laststatus")),{},{render:function(e,t){return Object(he.jsx)("td",{children:"pendingfinance"===t.status?"F\u0130NANS ONAYI BEKLENIYOR":null===e||void 0===e?void 0:e.toUpperCase()})}}),Object(u.a)({title:"Planlanan Tarih",dataIndex:"planned_date",sorter:function(e,t){return V()(e.planned_date,"D MMMM YYYY, HH:mm").unix()-V()(t.planned_date,"D MMMM YYYY, HH:mm").unix()}},a.getColumnSearchProps("planned_date"))]},a.componentDidMount=function(){a.GetOrders()},a.renderOrderDetails=a.renderOrderDetails.bind(Object(xn.a)(a)),a}return Object(C.a)(r,[{key:"renderOrderDetails",value:function(e){var t=this;return Object.keys(this.state.orderDetails).map((function(r){return r==e.id?t.state.orderDetails[r].map((function(r){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsxs)("div",{style:{width:"80%",marginTop:30,display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(he.jsxs)("div",{children:[ol("Seri No",U(r.serial_number)),ol("Pompa Seri No",U(r.pump_serial)),ol("Bulundu\u011fu Konum",J(r.location)+(r.comment?" (".concat(r.comment,")"):" ")),ol("Son \u0130\u015flem Tarihi",W(r.row_created_date)),ol("Planlama Tarihi",W(r.planned_date))]}),Object(he.jsxs)("div",{style:{width:"min-content"},children:["teslimat"!==r.location&&"iptal"!==r.location&&"admin"==t.props.user.role?Object(he.jsx)(D.a,{style:{marginBottom:10,width:"100%"},type:"primary",onClick:function(){t.setState({orderModalVisible:!0,orderSelected:{serial_number:r.serial_number,order_id:e.id}})},children:"Sipari\u015fi Kayd\u0131r"}):null,Object(he.jsx)(D.a,{style:{marginBottom:10,width:"100%"},onClick:function(){var n=r.serial_number+","+e.description;t.printQRCode(n,r.serial_number)},children:"Qr Kodu Yazd\u0131r"}),Object(he.jsx)(D.a,{style:{marginBottom:10,width:"100%"},onClick:function(){t.setState({historyModalVisible:!0,historyModalId:r.id,orderSelected:{serial_number:r.serial_number,order_id:e.id}})},children:"\u0130\u015flem Ge\xe7mi\u015fini G\xf6ster"}),r.test_comment?Object(he.jsx)(D.a,{block:!0,onClick:function(){N.a.get("./finalkontrolformu.xlsx",{responseType:"blob"}).then((function(e){var t=n(140),a=new FileReader;a.readAsArrayBuffer(e.data),a.onload=function(e){var n=new Cn.a.Workbook;n.xlsx.load(e.target.result).then((function(){var e=n.getWorksheet(1),a=e.getRow(58);a.getCell(1).value=r.test_comment,a.commit();var i=e.getRow(8);i.getCell(1).value=r.serial_number,i.getCell(5).value=r.test_manager,i.getCell(6).value=W(r.test_date),i.commit(),n.xlsx.writeBuffer().then((function(e){var n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});t.saveAs(n,"deneme.xlsx")}))}))}}))},children:"Test Raporu"}):null]})]}),Object(he.jsx)(R.a,{})]})})):null}))}},{key:"printQRCode",value:function(e,t){var n=window.open("","","height=1024, width=1024"),r=Object(Be.renderToString)(Object(he.jsxs)("div",{style:{width:"50mm",height:"64mm"},children:[Object(he.jsx)(ll,{value:e,style:{height:"44mm",width:"44mm",margin:"3mm"},renderAs:"svg"}),Object(he.jsx)("p",{style:{margin:10},children:t})]}));null===n||void 0===n||n.document.write(String(r)),n.document.body.style.margin=0,null===n||void 0===n||n.document.close(),null===n||void 0===n||n.print()}},{key:"componentDidUpdate",value:function(e){this.props.isFinishedOrders===e.isFinishedOrders&&this.props.isCancelledOrders===e.isCancelledOrders||this.GetOrders()}},{key:"GetOrders",value:function(){var e=this;(function(){return Je.apply(this,arguments)})().then((function(t){e.setState({data:t})}))}},{key:"dealerDenyOffer",value:function(e){var t=this;ct(e).then((function(){t.GetOrders()}))}},{key:"dealerConfirmOffer",value:function(e){var t=this;lt(e).then((function(){t.GetOrders()}))}},{key:"render",value:function(){var e,t=this,n=this.state;return Object(he.jsxs)("div",{style:{width:"100%",maxWidth:"100%",height:"100%",maxHeight:"100%"},children:[Object(he.jsx)(Y.a,{rowKey:function(e){return"key"+e.id},size:"small",loading:this.state.loading,expandable:{expandedRowRender:function(e){var n,r,a,i,l,o,c,s,d,u,p,m,h;return Object(he.jsxs)("div",{style:{marginLeft:"3rem"},children:[ol("\xdcr\xfcn",e.description),ol("Tarih",e.date),ol("Marka",null===(n=t.configFile.brand.filter((function(t){return t.type===e.brand}))[0])||void 0===n?void 0:n.text),ol("Sipari\u015f No",e.order_no),ol("Sipari\u015f Miktar\u0131",String(e.order_amount)),ol("Tip",null!==(r=t.configFile.type.filter((function(t){return t.type===e.type}))[0])&&void 0!==r&&r.text?null===(a=t.configFile.type.filter((function(t){return t.type===e.type}))[0])||void 0===a?void 0:a.text:null===(i=t.configFile.machine_type.filter((function(t){return t.type===e.type}))[0])||void 0===i?void 0:i.text),ol("Fan Tipi",null===(l=t.configFile.cooler_type.filter((function(t){return t.type===e.cooler_type}))[0])||void 0===l?void 0:l.text),ol("Kazan Boyutu",e.tank_size?e.tank_size+" LT":null),ol("Kazan Materyali",null===(o=t.configFile.caldron_material.filter((function(t){return t.type===e.caldron_material}))[0])||void 0===o?void 0:o.text),ol("Pompa",null===(c=t.configFile.pump.filter((function(t){return t.type===e.pump}))[0])||void 0===c?void 0:c.text),ol("Model Y\u0131l\u0131",e.year),ol("Meme Tipi",null===(s=t.configFile.meme_type.filter((function(t){return t.type===e.meme_type}))[0])||void 0===s?void 0:s.text),ol("Meme Aral\u0131\u011f\u0131",e.meme_distance),ol("\xc7eki Tipi",null===(d=t.configFile.tow_type.filter((function(t){return t.type===e.tow_type}))[0])||void 0===d?void 0:d.text),ol("Kol Tipi",null===(u=t.configFile.arm_type.filter((function(t){return t.type===e.arm_type}))[0])||void 0===u?void 0:u.text),ol("Kol Uzunlu\u011fu",e.arm_length),ol("\u015ease Rengi",null===(p=t.configFile.chassis_color.filter((function(t){return t.type===e.chassis_color}))[0])||void 0===p?void 0:p.text),ol("Kazan Rengi",U(e.caldron_color)),ol("Kazan Tipi",null===(m=t.configFile.caldron_type.filter((function(t){return t.type===e.caldron_type}))[0])||void 0===m?void 0:m.text),ol("Kumanda",null===(h=t.configFile.commander.filter((function(t){return t.type===e.commander}))[0])||void 0===h?void 0:h.text),ol("Alternatif \xd6zellikler",e.alt_features),ol("\xd6deme Detaylar\u0131",e.payment_detail||"\xd6deme Detay\u0131 Yok"),ol("Fiyat",e.price?e.price+"\u20ba":"Fiyat Bilgisi Yok"),Object(he.jsx)(F.a,{title:"Bu fiyat\u0131 onaylamak istedi\u011finizden emin misiniz?",onConfirm:function(){return lt(e.order_no)},okText:"Evet",cancelText:"Hay\u0131r",children:Object(he.jsx)(D.a,{style:{marginRight:"10px"},type:"primary",children:"Onayla"})}),Object(he.jsx)(F.a,{title:"Bu sipari\u015fi iptal etmek istedi\u011finizden emin misiniz?",onConfirm:function(){return ct(e.order_no)},okText:"Evet",cancelText:"Hay\u0131r",children:Object(he.jsx)(D.a,{danger:!0,style:{marginBottom:10,marginRight:10},type:"primary",children:"Sipari\u015fi \u0130ptal Et"})}),t.renderOrderDetails(e)]},"keyexpandable "+e.id)}},pagination:{defaultPageSize:10,position:["bottomRight"]},columns:this.state.columns,dataSource:n.data}),this.state.historyModalVisible?Object(he.jsx)(wn,{isVisible:this.state.historyModalVisible,machine_id:this.state.historyModalId,serial_number:null===(e=this.state.orderSelected)||void 0===e?void 0:e.serial_number,setIsVisible:function(e){return t.setState({historyModalVisible:e})}}):null]})}}]),r}(a.a.Component),ul=Object(o.b)((function(e,t){return{user:e.auth.user}}))(dl);V.a.locale("tr");var pl=_.a.div(cl||(cl=Object(d.a)(["\n  width: 100%;\n  height: 100%;\n"]))),ml=_.a.div(sl||(sl=Object(d.a)(["\n  background-color: rgb(247, 249, 251);\n  height: calc(100% - 48px);\n  width: 100%;\n  padding-left: 10%;\n  padding-right: 10%;\n  padding-top: 1rem;\n"]))),hl=function(){var e=Object(s.f)(),t=Object(o.c)(),n=Object(o.d)((function(e){return e.auth.user})),a=Object(r.useState)("light"),i=Object(p.a)(a,2),l=i[0],c=i[1];return Object(he.jsxs)(pl,{children:[Object(he.jsxs)(m.a,{defaultSelectedKeys:[window.location.pathname.split("/")[1]],onClick:function(t){switch(t.key){case"ihtiyacListesiConfig":e.push("ihtiyacListesiConfig");break;case"GenericTasksScreen":e.push("GenericTasksScreen");break;case"machineTypeConfig":e.push("machineTypeConfig");break;case"userRollsConfig":e.push("userRollsConfig");break;case"manageConfig":e.push("manageConfig");break;case"createOrder":e.push("/createOrder");break;case"reports":e.push("/reports");break;case"users":e.push("/users");break;case"deliveries":e.push("/deliveries");break;case"pendingorders":e.push("/pendingorders");break;case"pendingordersforfinance":e.push("/pendingordersforfinance");break;case"tankproducer":e.push("/tankproducer");break;case"activeorders":e.push("/activeorders");break;case"chassisproduction":e.push("/chassisproductiontasks");break;case"fanproduction":e.push("/fanproductiontasks");break;case"armproduction":e.push("/armproductiontasks");break;case"productionplans":e.push("/planning");break;case"finishedorders":e.push("/finishedorders");break;case"cancelledorders":e.push("/cancelledorders");break;case"orders":e.push("/orders");break;case"activegenerictasks":e.push("/activegenerictasks");break;case"finishedgenerictasks":e.push("/finishedgenerictasks");break;case"chassisneedlist":e.push("/chassisneedlist");break;case"fanneedlist":e.push("/fanneedlist");break;case"pumpneedlist":e.push("/pumpneedlist");break;case"towneedlist":e.push("/towneedlist");break;case"commanderneedlist":e.push("/commanderneedlist");break;case"otherneedlist":e.push("/otherneedlist");break;case"generictasksconfig":e.push("/generictasksconfig");break;case"shortcuts":e.push("/shortcuts");break;case"editOrder":e.push("/editOrder");break;case"qrcode":e.push("/qrcode");break;case"armInvoice":e.push("/armInvoice");break;case"fanInvoice":e.push("/fanInvoice");break;case"proformaInvoice":e.push("/proformaInvoice");break;case"createOrderForDealer":e.push("/createOrderForDealer");break;case"ordersForDealer":e.push("/ordersForDealer");break;default:e.push("/")}c(!1?"dark":"light")},mode:"horizontal",theme:l,children:[Object(he.jsx)(m.a.Item,{style:{float:"right",pointerEvents:"none"},icon:Object(he.jsx)(h.a,{}),children:V()().format("D MMMM YYYY dddd")},"watchtome"),"bayi"===n.role&&Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(j.a,{}),children:"Sipari\u015f Olu\u015ftur"},"createOrderForDealer"),Object(he.jsx)(m.a.SubMenu,{icon:Object(he.jsx)(b.a,{}),title:"Sipari\u015fler",children:Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(b.a,{}),children:"Aktif Bayi Sipari\u015fleri"},"ordersForDealer")},"OrdersSubMenu")]}),"admin"===n.role||"muhasebe"===n.role?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(f.a,{}),children:"Anasayfa"},""),"admin"===n.role?Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(x.a,{}),children:"Kullan\u0131c\u0131lar\u0131 Y\xf6net"},"users"):null,"admin"===n.role?Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(j.a,{}),children:"Sipari\u015f Olu\u015ftur"},"createOrder"):null,Object(he.jsxs)(m.a.SubMenu,{icon:Object(he.jsx)(b.a,{}),title:"Sipari\u015fler",children:[Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(b.a,{}),children:"T\xfcm Sipari\u015fler"},"orders"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(b.a,{}),children:"Tamamlanan Sipari\u015fler"},"finishedorders"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(b.a,{}),children:"\u0130ptal Edilen Sipari\u015fler"},"cancelledorders"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(O.a,{}),children:"Onay Bekleyen Makineler"},"pendingorders"),("financemanager"===n.secondRole||"generalmanager"===n.secondRole)&&Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(O.a,{}),children:"Finans Onay\u0131 Bekleyenler"},"pendingordersforfinance"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(y.a,{}),children:"Aktif Makineler"},"activeorders")]},"OrdersSubMenu")]}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsxs)(m.a.SubMenu,{icon:Object(he.jsx)(b.a,{}),title:"\xdcretim",children:[Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"\xdcretim Planlama"},"productionplans"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"Depo \xdcretici"},"tankproducer"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"\u015ease \xdcretimdekiler"},"chassisproduction"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"Fan \xdcretimdekiler"},"fanproduction"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"Kol \xdcretimdekiler"},"armproduction")]},"ProductionsSubMenu"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(v.a,{}),children:"Teslimatlar"},"deliveries")]}):null,"tankproducer"===n.role?Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"Depo \xdcretici"},"tankproducer"):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsxs)(m.a.SubMenu,{icon:Object(he.jsx)(b.a,{}),title:"\u0130\u015f Emirleri",children:[Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"Aktif \u0130\u015f Emirleri"},"activegenerictasks"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"Tamamlanan \u0130\u015f Emirleri"},"finishedgenerictasks"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"Yetkilendirme Ayarlar\u0131"},"generictasksconfig"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"K\u0131sayollar"},"shortcuts")]},"GenericTasksSubmenu"),Object(he.jsxs)(m.a.SubMenu,{icon:Object(he.jsx)(b.a,{}),title:"\u0130htiya\xe7 Listesi",children:[Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"\u015ease \u0130htiya\xe7 Listesi"},"chassisneedlist"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"Pompa \u0130htiya\xe7 Listesi"},"pumpneedlist"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"\xc7eki \u0130htiya\xe7 Listesi"},"towneedlist"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"Fan \u0130htiya\xe7 Listesi"},"fanneedlist"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"Kumanda \u0130htiya\xe7 Listesi"},"commanderneedlist"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"Di\u011fer \u0130htiya\xe7 Listeleri"},"otherneedlist")]},"NeedListSubmenu")]}):null,"lazer"===n.role||"lazer2"===n.role||"lazerkesim"===n.role||"planlama"===n.role||"robot1"===n.role||"robot2"===n.role?Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"Aktif \u0130\u015f Emirleri"},"activegenerictasks"):null,"depo"===n.role?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(f.a,{}),children:"Anasayfa"},"mainscreen"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(y.a,{}),children:"Aktif Makineler"},"activeorders"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"Aktif \u0130\u015f Emirleri"},"activegenerictasks")]}):null,"admin"===n.role?Object(he.jsx)(he.Fragment,{children:Object(he.jsxs)(m.a.SubMenu,{theme:l,icon:Object(he.jsx)(y.a,{}),title:"Men\xfcleri Y\xf6net",children:[Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"Kullan\u0131c\u0131 Rolleri"},"userRollsConfig"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"Kullan\u0131c\u0131 Yetkileri"},"GenericTasksScreen"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"Makine Tipleri"},"machineTypeConfig"),Object(he.jsx)(m.a.Item,{icon:Object(he.jsx)(g.a,{}),children:"Ihtiyac Listesi"},"ihtiyacListesiConfig")]},"manageConfig")}):null,Object(he.jsx)(m.a.Item,{onClick:function(){t(function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sessionStorage.removeItem("user"),t({type:_e});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},style:{float:"right"},icon:Object(he.jsx)(k.a,{}),children:"\xc7\u0131k\u0131\u015f Yap"},"logout")]}),Object(he.jsxs)(s.c,{children:["admin"===n.role?Object(he.jsx)(s.a,{path:"/ihtiyacListesiConfig",children:Object(he.jsx)(gi,{})}):null,"admin"===n.role?Object(he.jsx)(s.a,{path:"/manageConfig",children:Object(he.jsx)(cr,{})}):null,"admin"===n.role?Object(he.jsx)(s.a,{path:"/userRollsConfig",children:Object(he.jsx)(ni,{})}):null,"admin"===n.role?Object(he.jsx)(s.a,{path:"/machineTypeConfig",children:Object(he.jsx)(xi,{})}):null,"admin"===n.role?Object(he.jsx)(s.a,{path:"/GenericTasksScreen",children:Object(he.jsx)(ii,{})}):null,"admin"===n.role?Object(he.jsx)(s.a,{path:"/GenericTaskWithRoleScreen",render:function(e){return Object(he.jsx)(Ti,Object(u.a)({},e))}}):null,"admin"===n.role?Object(he.jsx)(s.a,{path:"/generictasksconfig",exact:!0,children:Object(he.jsx)(ii,{})}):null,"admin"===n.role?Object(he.jsx)(s.a,{path:"/shortcuts",exact:!0,children:Object(he.jsx)(pi,{})}):null,"admin"===n.role?Object(he.jsx)(s.a,{path:"/qrcode",exact:!0,children:Object(he.jsx)(Ni,{})}):null,"admin"===n.role?Object(he.jsx)(s.a,{path:"/createOrder",children:Object(he.jsx)(bn,{})}):null,"admin"===n.role?Object(he.jsx)(s.a,{path:"/editOrder/:serial_number",children:Object(he.jsx)(Ai,{})}):null,"bayi"===n.role?Object(he.jsx)(s.a,{path:"/createOrderForDealer",children:Object(he.jsx)(il,{})}):null,"bayi"===n.role?Object(he.jsx)(s.a,{path:"/ordersForDealer",children:Object(he.jsx)(ul,{})}):null,"bayi"===n.role?Object(he.jsx)(s.a,{path:"/",children:Object(he.jsx)(ul,{})}):null,"admin"===n.role?Object(he.jsx)(s.a,{path:"/users",children:Object(he.jsx)(ve,{})}):null,"admin"===n.role||"muhasebe"===n.role?Object(he.jsx)(s.a,{path:"/pendingorders",children:Object(he.jsx)(yr,{})}):null,"financemanager"===n.secondRole||"generalmanager"===n.secondRole?Object(he.jsx)(s.a,{path:"/pendingordersforfinance",children:Object(he.jsx)($i,{})}):null,"admin"===n.role||"muhasebe"===n.role?Object(he.jsx)(s.a,{path:"/deliveries",children:Object(he.jsx)(ur,{})}):null,"admin"===n.role||"muhasebe"===n.role||"tankproducer"===n.role?Object(he.jsx)(s.a,{path:"/tankproducer",children:Object(he.jsx)(fr,{})}):null,"admin"===n.role||"muhasebe"===n.role||"tankproducer"===n.role?Object(he.jsx)(s.a,{path:"/tankProducerFromShortcuts",children:Object(he.jsx)(Vi,{})}):null,"admin"===n.role?Object(he.jsx)(s.a,{path:"/activeMachines",exact:!0,children:Object(he.jsx)(Wi,{})}):null,"admin"===n.role||"muhasebe"===n.role||"depo"===n.role?Object(he.jsx)(s.a,{path:"/activeorders",children:Object(he.jsx)(gr,{})}):null,"admin"===n.role||"muhasebe"===n.role?Object(he.jsx)(s.a,{path:"/orders",children:Object(he.jsx)(Yn,{isFinishedOrders:!1,isCancelledOrders:!1})}):null,"admin"===n.role||"muhasebe"===n.role?Object(he.jsx)(s.a,{path:"/finishedorders",children:Object(he.jsx)(Yn,{isFinishedOrders:!0,isCancelledOrders:!1})}):null,"admin"===n.role?Object(he.jsx)(s.a,{path:"/filteredOrders/:type",render:function(e){return Object(he.jsx)(Ri,Object(u.a)({isFinishedOrders:!0,isCancelledOrders:!1},e))}}):null,"admin"===n.role||"muhasebe"===n.role?Object(he.jsx)(s.a,{path:"/cancelledorders",children:Object(he.jsx)(Yn,{isFinishedOrders:!1,isCancelledOrders:!0})}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(he.jsx)(s.a,{path:"/planning",children:Object(he.jsx)(Oa,{})}):null,"admin"===n.role||"muhasebe"===n.role?Object(he.jsx)(s.a,{path:"/chassisproductiontasks",children:Object(he.jsx)(Ca,{})}):null,"admin"===n.role||"muhasebe"===n.role?Object(he.jsx)(s.a,{path:"/fanproductiontasks",children:Object(he.jsx)(Ka,{})}):null,"admin"===n.role||"muhasebe"===n.role?Object(he.jsx)(s.a,{path:"/proformaInvoice",children:Object(he.jsx)(Bn,{})}):null,"admin"===n.role||"muhasebe"===n.role?Object(he.jsx)(s.a,{path:"/armInvoice",children:Object(he.jsx)(Xi,{})}):null,"admin"===n.role||"muhasebe"===n.role?Object(he.jsx)(s.a,{path:"/fanInvoice",children:Object(he.jsx)(Fn,{})}):null,"admin"===n.role||"muhasebe"===n.role?Object(he.jsx)(s.a,{path:"/armproductiontasks",children:Object(he.jsx)(Fa,{})}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(he.jsx)(s.a,{path:"/activegenerictasks",exact:!0,children:Object(he.jsx)(Qa,{isActive:!0})}):null,"admin"!==n.role&&"muhasebe"!==n.role&&"ambar1"!==n.role&&"ambar2"!==n.role?Object(he.jsx)(he.Fragment,{children:Object(he.jsx)(s.a,{path:"/",exact:!0,children:Object(he.jsx)(Qa,{isActive:!0})})}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(he.jsx)(s.a,{path:"/finishedgenerictasks",exact:!0,children:Object(he.jsx)(Qa,{isActive:!1})}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(he.jsx)(s.a,{path:"/otherneedlist",exact:!0,children:Object(he.jsx)(Xa,{})}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(he.jsx)(s.a,{path:"/chassisneedlist",exact:!0,children:Object(he.jsx)(hi,{type:"\u015ease"})}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(he.jsx)(s.a,{path:"/pumpneedlist",exact:!0,children:Object(he.jsx)(hi,{type:"Pompa"})}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(he.jsx)(s.a,{path:"/commanderneedlist",exact:!0,children:Object(he.jsx)(hi,{type:"Kumanda"})}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(he.jsx)(s.a,{path:"/fanneedlist",exact:!0,children:Object(he.jsx)(hi,{type:"Fan"})}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(he.jsx)(s.a,{path:"/towneedlist",exact:!0,children:Object(he.jsx)(hi,{type:"\xc7eki"})}):null,Object(he.jsx)(s.a,{path:"/",children:Object(he.jsx)(Kr,{})})]})]})},jl=(A.a.Header,A.a.Content),bl=(A.a.Sider,{labelCol:{span:24},wrapperCol:{span:24}}),fl={wrapperCol:{span:24}};var xl=function(){var e=Object(o.c)(),t=Object(r.useState)(!1),n=Object(p.a)(t,2),a=n[0],i=n[1];return Object(he.jsx)(A.a,{style:{height:"100%"},children:Object(he.jsx)(jl,{children:Object(he.jsx)(L.a,{style:{height:"100%"},justify:"center",align:"middle",children:Object(he.jsxs)(_n.a,{bordered:!0,style:{width:"min-content",height:"min-content"},children:[Object(he.jsx)(_n.a,{style:{minWidth:"350px"},children:Object(he.jsx)("div",{style:{display:"flex",height:"auto",width:"auto",justifyContent:"center"},children:Object(he.jsx)("img",{width:"200",height:"200",src:"agrotek.png",alt:"image"})})}),Object(he.jsx)("h1",{className:"center",children:"Giri\u015f"}),Object(he.jsxs)(ue.a,Object(u.a)(Object(u.a)({},bl),{},{name:"basic",onFinish:function(t){i(!0),e(Ie(t.mail,t.password)),i(!1)},onFinishFailed:function(e){console.log("Failed:",e)},requiredMark:!1,children:[Object(he.jsx)(ue.a.Item,{name:"mail",rules:[{required:!0,message:"L\xfctfen bir kullan\u0131c\u0131 ad\u0131 girin."}],children:Object(he.jsx)(pe.a,{placeholder:"kullan\u0131c\u0131@mail.com"})}),Object(he.jsx)(ue.a.Item,{name:"password",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz."}],children:Object(he.jsx)(pe.a.Password,{placeholder:"******"})}),Object(he.jsxs)(ue.a.Item,Object(u.a)(Object(u.a)({},fl),{},{children:[Object(he.jsx)(D.a,{style:{marginBottom:"1rem"},type:"primary",htmlType:"submit",loading:a,block:!0,children:"Giri\u015f Yap"}),Object(he.jsx)(c.b,{to:"/forgotPassword",className:"center",children:"\u015eifremi unuttum"})]})),Object(he.jsx)("div",{className:"center",children:Object(he.jsx)("a",{href:"https://covisart.com.tr/",children:Object(he.jsx)("img",{width:"auto",height:"16",src:"logo.png",alt:"image"})})}),Object(he.jsx)(Lr.a,{className:"center",children:"Software: v1.1.9.2023"})]}))]})})})})},Ol=n(119);var yl=function(){var e=Object(o.c)(),t=Object(r.useState)(!1),n=Object(p.a)(t,2),a=n[0];return n[1],Object(he.jsx)(A.a,{style:{height:"100%"},children:Object(he.jsx)(Ol.a,{children:Object(he.jsx)(L.a,{style:{height:"100%"},justify:"center",align:"middle",children:Object(he.jsxs)(_n.a,{bordered:!0,style:{minWidth:"350px",height:"min-content"},children:[Object(he.jsx)("div",{style:{display:"flex",height:"auto",width:"auto",justifyContent:"center"},children:Object(he.jsx)("img",{width:"200",height:"200",src:"agrotek.png",alt:"image"})}),Object(he.jsx)("h1",{children:"\u015eifremi Unuttum"}),Object(he.jsxs)(ue.a,{name:"basic",onFinish:function(t){N.a.post(Il+"/api/auth/ResetPassword",{Mail:t.mail}).then((function(e){200===e.status&&B.a.success({title:"\u0130\u015flem Ba\u015far\u0131l\u0131.",content:"L\xfctfen mail kutunuzu kontrol edin."})})).catch((function(e){B.a.warning({title:"Bir hata olu\u015ftu.",content:"L\xfctfen mail adresinizi kontrol edin."})})),e(Ie(t.mail,t.password))},onFinishFailed:function(e){console.log("Failed:",e)},requiredMark:!1,children:[Object(he.jsx)(ue.a.Item,{name:"mail",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz."},{type:"email",message:"L\xfctfen ge\xe7erli bir mail adresi girin."}],children:Object(he.jsx)(pe.a,{placeholder:"birisi@gmail.com"})}),Object(he.jsx)(ue.a.Item,{children:Object(he.jsx)(D.a,{type:"primary",htmlType:"submit",loading:a,block:!0,children:"\u015eifremi S\u0131f\u0131rla"})}),Object(he.jsx)(c.b,{to:"/login",className:"center",children:"Giri\u015f yap"})]})]})})})})},gl=n(24),vl=n(590);var kl=function(){Te();var e=Object(o.d)((function(e){return e.auth.user}));return Object(r.useEffect)((function(){e||"/login"===window.location.pathname||"/forgotPassword"===window.location.pathname||(window.location.href="/login")}),[e]),Object(he.jsx)(c.a,{basename:"/agrotek",forceRefresh:!0,children:Object(he.jsx)(gl.a,{theme:{algorithm:vl.a.defaultAlgorithm},children:Object(he.jsxs)(s.c,{children:[Object(he.jsx)(s.a,{path:"/forgotPassword",children:Object(he.jsx)(yl,{})}),Object(he.jsx)(s.a,{path:"/login",children:Object(he.jsx)(xl,{})}),Object(he.jsx)(s.a,{path:"/",children:e&&Object(he.jsx)(hl,{})})]})})})},_l=n(186),Sl=Object(_l.b)({auth:we}),wl=n(339),Tl=n(340),Cl=n.n(Tl),Il="https://devagrotek.azurewebsites.net",Ml=sessionStorage.getItem("user")?{auth:{user:JSON.parse(String(sessionStorage.getItem("user")))}}:void 0,Al=Object(_l.c)(Sl,Ml,Object(_l.a)(wl.a));l.a.render(Object(he.jsx)(gl.a,{locale:Cl.a,children:Object(he.jsx)(o.a,{store:Al,children:Object(he.jsx)(kl,{})})}),document.getElementById("root"))}},[[571,1,2]]]);
//# sourceMappingURL=main.2f70cb2b.chunk.js.map