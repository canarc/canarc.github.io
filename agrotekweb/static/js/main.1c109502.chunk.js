(this.webpackJsonpagrotekweb=this.webpackJsonpagrotekweb||[]).push([[0],{350:function(e,t,n){},570:function(e,t,n){"use strict";n.r(t),n.d(t,"API_ADDRESS",(function(){return si})),n.d(t,"store",(function(){return di}));var r=n(0),a=n.n(r),i=n(64),o=n.n(i),c=(n(350),n(35)),l=n(104),s=n(25),u=n(176),d=n(4),p=n(5),m=n(229),h=n(236),j=n(598),b=n(599),f=n(600),O=n(601),x=n(602),y=n(603),g=n(604),v=n(605),k=n(606),_=n(182),S=n(7),w=n(11),T=n(16),C=n(17),I=n(21),z=n(22),B=n(578),M=n(93),F=n(586),D=n(593),A=n(67),P=n(594),G=n(579),R=n(580),V=n(582),K=n(595),L=n(18),E=n.n(L),Y=(n(322),n(102),n(28)),N=n.n(Y);function q(){return di.getState().auth.user.token}N.a.locale("tr");var H=function(e,t,n){return(String(t).repeat(n)+e).substr(-1*n,n)};function U(e){var t;return e?(null===e||void 0===e||null===(t=e.charAt(0))||void 0===t?void 0:t.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1)):""}function J(e){return N()(e).format("D MMMM YYYY HH:mm")}function W(e){switch(e){case"kollu":return"Kollu \xdcretimde";case"turbo":return"Turbo \xdcretimde";case"diger":return"Di\u011fer \xdcretimde";case"test":return"Testte";case"depo":return"Depoda";case"bahce":return"Bah\xe7ede";case"onaybekliyor":return"\xdcretim Onay\u0131 Bekliyor";case"planland\u0131":return"\xdcretim Plan\u0131na Al\u0131nd\u0131";case"teslimat":return"Teslim Edildi";case"onproduction":return"\xdcretimde";case"sendedpaint":return"Boyaya G\xf6nderildi";case"sendedgalvaniz":return"Galvanize G\xf6nderildi";case"receivedgalvaniz":return"Galvaniz i\u015fleminde.";case"receivedpaint":return"Boya i\u015fleminde.";case"sendedsaruhanli":return"Boyadan \xe7\u0131kt\u0131.";case"receivedsaruhanli":return"Saruhanl\u0131 Depoda (Haz\u0131r).";case"completed":return"Tamamland\u0131";default:return U(e)}}function Q(){return $.apply(this,arguments)}function $(){return($=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/auth/getAllUsers",{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(200===e.status)return e.data})).catch((function(){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post(si+"/api/auth/register",t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(201===e.status)return e.data})).catch((function(){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post(si+"/api/auth/changePasswordAdmin",t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){return!0})).catch((function(){return!1}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.delete(si+"/api/auth/deleteuser/"+t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(200===e.status)return!0})).catch((function(){return!1}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.put(si+"/api/auth/ReopenUser/"+t,{},{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(200===e.status)return!0})).catch((function(){return!1}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t){return ce.apply(this,arguments)}function ce(){return(ce=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.put(si+"/api/auth/ChangeRole/",{Mail:t,Role:n},{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(200===e.status)return!0})).catch((function(){return!1}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le,se,ue=n(584),de=n(340),pe=n(174),me=n(2),he=JSON.parse(null!==(le=localStorage.getItem("config"))&&void 0!==le?le:"{}"),je=function(e){var t=e.visible,n=e.onCreate,r=e.onCancel,a=ue.a.useForm(),i=Object(p.a)(a,1)[0];return Object(me.jsx)(F.a,{visible:t,title:"Yeni Bir Kullan\u0131c\u0131 Olu\u015ftur.",okText:"Olu\u015ftur",cancelText:"\u0130ptal Et",onCancel:r,onOk:function(){i.validateFields().then((function(e){i.resetFields(),n(e)})).catch((function(e){console.log("Validate Failed:",e)}))},children:Object(me.jsxs)(ue.a,{form:i,layout:"vertical",name:"form_in_modal",initialValues:{modifier:"public"},requiredMark:!1,children:[Object(me.jsx)(ue.a.Item,{name:"Mail",label:"E-mail",rules:[{required:!0,message:"L\xfctfen bir mail adresi girin."},{type:"email",message:"L\xfctfen ge\xe7erli bir mail adresi girin."}],children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{name:"Name",label:"Ad",rules:[{required:!0,message:"L\xfctfen bir isim girin."}],children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{name:"Surname",label:"Soyad",rules:[{required:!0,message:"L\xfctfen bir soyisim girin."}],children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{name:"Role",className:"collection-create-form_last-form-item",rules:[{required:!0,message:"L\xfctfen bir s\u0131n\u0131f se\xe7in."}],children:Object(me.jsx)(pe.a.Group,{children:he.role.map((function(e){return Object(me.jsx)(pe.a,{value:e.type,children:e.text})}))})})]})})},be=function(e){var t=e.visible,n=e.mail,r=e.onCreate,a=e.onCancel,i=ue.a.useForm(),o=Object(p.a)(i,1)[0];return Object(me.jsx)(F.a,{visible:t,title:"Kullan\u0131c\u0131n\u0131n \u015eifresini De\u011fi\u015ftir",okText:"De\u011fi\u015ftir",cancelText:"\u0130ptal Et",onCancel:a,onOk:function(){o.getFieldValue("password")===o.getFieldValue("password1")&&o.validateFields().then((function(e){o.resetFields(),r(Object(d.a)(Object(d.a)({},e),{},{Mail:n}))})).catch((function(e){console.log("Validate Failed:",e)}))},children:Object(me.jsxs)(ue.a,{form:o,layout:"vertical",name:"form_in_modal",initialValues:{modifier:"public"},requiredMark:!1,children:[Object(me.jsx)(ue.a.Item,{name:"Password",label:"\u015eifre",rules:[{required:!0,message:"L\xfctfen bir \u015fifre girin."}],children:Object(me.jsx)(de.a,{type:"password"})}),Object(me.jsx)(ue.a.Item,{name:"Password1",label:"\u015eifre (Tekrar)",rules:[{required:!0,message:"L\xfctfen ayn\u0131 \u015fifreyi tekrar girin."}],children:Object(me.jsx)(de.a,{type:"password"})})]})})},fe=B.a.Content,Oe=(B.a.Sider,M.a.Option),xe=JSON.parse(null!==(se=localStorage.getItem("config"))&&void 0!==se?se:"{}"),ye=function(e){Object(I.a)(n,e);var t=Object(z.a)(n);function n(){var e;Object(T.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={selectedRowKeys:[],changePasswordMail:"",registrationButtonLoading:!1,registrationFormVisible:!1,changePasswordFormVisible:!1,tableLoading:!0,data:[]},e.columns=[{title:"Ad",dataIndex:"name",sorter:function(e,t){return e.name.localeCompare(t.name)}},{title:"Soyad",dataIndex:"surname",sorter:function(e,t){return e.surname.localeCompare(t.surname)}},{title:"E-Mail",dataIndex:"mail",sorter:function(e,t){return e.mail.localeCompare(t.mail)}},{title:"Rol",render:function(e,t){return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)(M.a,{defaultValue:t.role,style:{width:120},onChange:function(){var e=Object(w.a)(Object(S.a)().mark((function e(n){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(t.mail,n);case 2:e.sent||F.a.error({title:"Bir hata olu\u015ftu",content:Object(me.jsx)("p",{children:"Kullan\u0131c\u0131n\u0131n rol\xfc de\u011fi\u015ftirilemedi l\xfctfen tekrar deneyin."}),okText:"Tamam"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:xe.role.map((function(e){return Object(me.jsx)(Oe,{value:e.type,children:e.text})}))})})}},{title:"\u0130\u015flemler",width:10,render:function(t,n){return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(D.a,{title:"Bu kullan\u0131c\u0131y\u0131 ".concat(n.isDeleted?"a\xe7mak":"silmek"," istedi\u011finizden emin misiniz?"),onConfirm:Object(w.a)(Object(S.a)().mark((function t(){return Object(S.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isDeleted){t.next=7;break}return t.next=3,ae(n.mail);case 3:if(!t.sent){t.next=5;break}e.getTableData();case 5:t.next=11;break;case 7:return t.next=9,ne(n.mail);case 9:if(!t.sent){t.next=11;break}e.getTableData();case 11:case"end":return t.stop()}}),t)}))),okText:"Evet",cancelText:"Hay\u0131r",children:Object(me.jsx)(A.a,{block:!0,danger:!0,type:"primary",children:n.isDeleted?"Yeniden A\xe7":"Kullan\u0131c\u0131y\u0131 Sil"})}),Object(me.jsx)(A.a,{style:{marginTop:5},onClick:function(){e.showChangePasswordForm(n.mail)},block:!0,type:"default",children:"\u015eifre De\u011fi\u015ftir"})]})}}],e.showRegistrationForm=function(){e.setState({registrationButtonLoading:!0,registrationFormVisible:!0})},e.showChangePasswordForm=function(t){e.setState({changePasswordFormVisible:!0,changePasswordMail:t})},e.onSelectChange=function(t){console.log("selectedRowKeys changed: ",t),e.setState({selectedRowKeys:t})},e}return Object(C.a)(n,[{key:"getTableData",value:function(){var e=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:(t=e.sent)&&this.setState({data:t}),this.setState({tableLoading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getTableData()}},{key:"render",value:function(){var e=this,t=this.state,n=t.registrationButtonLoading,r=t.tableLoading,a=t.selectedRowKeys,i=t.data,o=t.registrationFormVisible,c=t.changePasswordFormVisible,l=t.changePasswordMail;a.length;return Object(me.jsx)(B.a,{style:{minHeight:"100vh"},children:Object(me.jsxs)(fe,{children:[Object(me.jsx)(P.a,{orientation:"center",plain:!0,children:Object(me.jsx)(G.a,{children:Object(me.jsx)(R.a,{xs:{span:11,offset:1},lg:{span:6,offset:2},children:Object(me.jsx)(A.a,{type:"primary",onClick:this.showRegistrationForm,icon:Object(me.jsx)(K.a,{}),loading:n,children:"Kullan\u0131c\u0131 Ekle"})})})}),Object(me.jsx)(V.a,{loading:r,rowKey:function(e){return e.mail},columns:this.columns,dataSource:i}),Object(me.jsx)(je,{visible:o,onCreate:function(){var t=Object(w.a)(Object(S.a)().mark((function t(n){var r,a;return Object(S.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X(n);case 2:(r=t.sent)?(a=[].concat(e.state.data,r),e.setState({data:a,registrationFormVisible:!1,registrationButtonLoading:!1})):F.a.error({title:"Bir hata olu\u015ftu",content:Object(me.jsx)("p",{children:"Bu mail adresi daha \xf6nce kay\u0131t olmu\u015f olabilir."}),okText:"Tamam"});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onCancel:function(){e.setState({registrationButtonLoading:!1,registrationFormVisible:!1})}}),Object(me.jsx)(be,{visible:c,mail:l,onCreate:function(){var t=Object(w.a)(Object(S.a)().mark((function t(n){return Object(S.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee(n);case 2:t.sent?(e.setState({changePasswordFormVisible:!1}),F.a.success({title:"\u0130\u015flem ba\u015far\u0131l\u0131",content:Object(me.jsx)("p",{children:"Kullan\u0131c\u0131n\u0131n \u015fifresi ba\u015far\u0131yla de\u011fi\u015fti."}),okText:"Tamam"})):F.a.error({title:"Bir hata olu\u015ftu",content:Object(me.jsx)("p",{children:"L\xfctfen tekrar deneyin."}),okText:"Tamam"});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onCancel:function(){e.setState({changePasswordFormVisible:!1})}})]})})}}]),n}(r.Component),ge=ye,ve="LOGIN",ke="LOGOUT",_e={user:null};var Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return Object(d.a)(Object(d.a)({},e),{},{user:t.payload});case ke:return Object(d.a)(Object(d.a)({},e),{},{user:null});default:return e}};function we(){return Te.apply(this,arguments)}function Te(){return(Te=Object(w.a)(Object(S.a)().mark((function e(){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/config").then((function(e){localStorage.setItem("config",JSON.stringify(e.data))}));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e,t){return function(){var n=Object(w.a)(Object(S.a)().mark((function n(r){return Object(S.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:E.a.post(si+"/api/auth/login",{Mail:e,Password:t}).then((function(e){sessionStorage.setItem("user",JSON.stringify(e.data)),r({type:ve,payload:e.data})})).catch((function(e){var t;401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)?F.a.error({title:"Giri\u015f Yetkiniz Yok",content:Object(me.jsx)("p",{children:"L\xfctfen admin ile ileti\u015fime ge\xe7in.."}),okText:"Tamam"}):F.a.error({title:"Bilgileriniz Yanl\u0131\u015f",content:Object(me.jsx)("p",{children:"L\xfctfen bilgilerinizi kontrol edin.."}),okText:"Tamam"})}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var Ie=n(588),ze=n(581),Be=n(70),Me=n(162),Fe=n.n(Me),De=n(8);N.a.locale("tr");var Ae=Object(C.a)((function e(){Object(T.a)(this,e),this.turbo=!1,this.kollu=!1,this.diger=!1,this.test=!1,this.bahce=!1,this.depo=!1,this.iptal=!1,this.teslimat=!1,this.onaybekliyor=!1}));function Pe(e,t){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.date=N()().format("YYYY-MM-DD HH:mm"),t.year=N()().format("YY"),t.tank_size&&(t.tank_size=parseInt(String(t.tank_size))),t.order_amount&&(t.order_amount=parseInt(String(t.order_amount))),t.status=t.production_unit,t.serial_number=n,e.next=8,E.a.post(si+"/api/order/TakeOrder/",t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(200===e.status)return F.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(me.jsx)("p",{children:"Sipari\u015f ba\u015far\u0131yla olu\u015fturuldu."}),okText:"Tamam"}),!0})).catch((function(){return F.a.error({title:"Hata",content:Object(me.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen bilgileri kontrol edin."}),okText:"Tamam"}),!1}));case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.date=N()().format("YYYY-MM-DD HH:mm"),t.year=N()().format("YY"),t.tank_size&&(t.tank_size=parseInt(String(t.tank_size))),t.order_amount&&(t.order_amount=parseInt(String(t.order_amount))),t.status=t.production_unit,t.serial_number=n,e.next=8,E.a.post(si+"/api/order/EditOrder/",t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(200===e.status)return F.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(me.jsx)("p",{children:"Sipari\u015f ba\u015far\u0131yla olu\u015fturuldu."}),okText:"Tamam"}),!0})).catch((function(){return F.a.error({title:"Hata",content:Object(me.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen bilgileri kontrol edin."}),okText:"Tamam"}),!1}));case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(){return(Ke=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/order/GetFinishedOrders",{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(){return F.a.error({title:"Hata",content:Object(me.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen bilgileri kontrol edin."}),okText:"Tamam"}),[]}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(){return(Le=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/order/GetCancelledOrders",{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(){return F.a.error({title:"Hata",content:Object(me.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen bilgileri kontrol edin."}),okText:"Tamam"}),[]}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(){return(Ee=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/order/GetAllOrders",{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(){return F.a.error({title:"Hata",content:Object(me.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen bilgileri kontrol edin."}),okText:"Tamam"}),[]}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(){return(Ye=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/order/GetAllOrdersByType?type=".concat(t.toLowerCase()),{headers:{Authorization:"Bearer "+q()}}).then((function(e){return 200===e.status?e.data:[]})).catch((function(){return[]}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(){return(Ne=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/task/GetPendingOrders",{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(200===e.status)return e.data})).catch((function(){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(){return He.apply(this,arguments)}function He(){return(He=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/task/GetProductionReadyOrders",{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(200===e.status)return e.data})).catch((function(){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){return Je.apply(this,arguments)}function Je(){return(Je=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(si,"/api/order/getOrderById/").concat(t),{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(200===e.status||204===e.status)return e.data})).catch((function(){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/order/GetOrderMachineDetailsById/"+t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){return 200===e.status?e.data:[]})).catch((function(){return[]}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(si,"/api/order/getOrderHistory/").concat(t),{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(200===e.status||204===e.status)return e.data})).catch((function(){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e){return et.apply(this,arguments)}function et(){return(et=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(si,"/api/order/getArmHistory/").concat(t),{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(200===e.status||204===e.status)return e.data})).catch((function(){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e){return nt.apply(this,arguments)}function nt(){return(nt=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(si,"/api/order/getFanHistory/").concat(t),{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(200===e.status||204===e.status)return e.data})).catch((function(){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e){return at.apply(this,arguments)}function at(){return(at=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(si,"/api/order/getChassisHistory/").concat(t),{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(200===e.status||204===e.status)return e.data})).catch((function(){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(){return(it=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(si,"/api/task/GetGenericTaskHistory/").concat(t),{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(200===e.status||204===e.status)return e.data})).catch((function(){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(){return ct.apply(this,arguments)}function ct(){return(ct=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/order/GetDeliveries",{headers:{Authorization:"Bearer "+q()}}).then((function(e){return 200===e.status?e.data:[]})).catch((function(){return[]}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(){return st.apply(this,arguments)}function st(){return(st=Object(w.a)(Object(S.a)().mark((function e(){var t,n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Ae).bahce=!0,t.depo=!0,e.next=5,E.a.put(si+"/api/task/GetAllMachinesStatus",t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(200===e.status)return e.data})).catch((function(){return null}));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e){return dt.apply(this,arguments)}function dt(){return(dt=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,E.a.post(si+"/api/order/SwitchMachines",t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){200===e.status&&F.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(me.jsx)("p",{children:"Sipari\u015f ba\u015far\u0131yla kayd\u0131r\u0131ld\u0131.L\xfctfen sayfay\u0131 yenileyin"}),okText:"Tamam"})})).catch((function(e){F.a.error({title:"Hata",content:Object(me.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"})}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(){return mt.apply(this,arguments)}function mt(){return(mt=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(si,"/api/order/GetAllTankProducerOrders"),{headers:{Authorization:"Bearer "+q()}}).then((function(e){return 200===e.status?e.data:[]})).catch((function(e){return[]}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e,t){return jt.apply(this,arguments)}function jt(){return(jt=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.put("".concat(si,"/api/order/SendToTankProducerOrders/"),{CurrentPosition:t,Id:n},{headers:{Authorization:"Bearer: "+q()}}).then((function(e){if(200===e.status)return F.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(me.jsx)("p",{children:"\u0130\u015flem ba\u015far\u0131yla ger\xe7ekle\u015fti.."}),okText:"Tamam"}),e.data})).catch((function(e){return console.log(e),F.a.error({title:"Hata",content:Object(me.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e,t,n){return ft.apply(this,arguments)}function ft(){return(ft=Object(w.a)(Object(S.a)().mark((function e(t,n,r){var a;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.put("".concat(si,"/api/order/MoveTo/").concat(t,"/").concat(n,"/").concat(r),{},{headers:{Authorization:"Bearer: "+q()}}).then((function(e){return 200===e.status&&F.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(me.jsx)("p",{children:"\u0130\u015flem ba\u015far\u0131yla ger\xe7ekle\u015fti.."}),okText:"Tamam"}),!0})).catch((function(e){return F.a.error({title:"Hata",content:Object(me.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(){return(Ot=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(si,"/api/order/UndoFanTo/").concat(t),{headers:{Authorization:"Bearer: "+q()}}).then((function(e){return 200===e.status&&F.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(me.jsx)("p",{children:"\u0130\u015flem ba\u015far\u0131yla ger\xe7ekle\u015fti.."}),okText:"Tamam"}),!0})).catch((function(e){return F.a.error({title:"Hata",content:Object(me.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(){return(xt=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(si,"/api/order/UndoArmTo/").concat(t),{headers:{Authorization:"Bearer: "+q()}}).then((function(e){return 200===e.status&&F.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(me.jsx)("p",{children:"\u0130\u015flem ba\u015far\u0131yla ger\xe7ekle\u015fti.."}),okText:"Tamam"}),!0})).catch((function(e){return F.a.error({title:"Hata",content:Object(me.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(){return(yt=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(si,"/api/order/UndoChassisTo/").concat(t),{headers:{Authorization:"Bearer: "+q()}}).then((function(e){return 200===e.status&&F.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(me.jsx)("p",{children:"\u0130\u015flem ba\u015far\u0131yla ger\xe7ekle\u015fti.."}),okText:"Tamam"}),!0})).catch((function(e){return F.a.error({title:"Hata",content:Object(me.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(){return(gt=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(si,"/api/order/UndoMoveTo/").concat(t),{headers:{Authorization:"Bearer: "+q()}}).then((function(e){return 200===e.status&&F.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(me.jsx)("p",{children:"\u0130\u015flem ba\u015far\u0131yla ger\xe7ekle\u015fti.."}),okText:"Tamam"}),!0})).catch((function(e){return F.a.error({title:"Hata",content:Object(me.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(){return kt.apply(this,arguments)}function kt(){return(kt=Object(w.a)(Object(S.a)().mark((function e(){var t,n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Ae).turbo=!0,t.kollu=!0,t.diger=!0,t.test=!0,t.depo=!0,t.bahce=!0,e.next=9,E.a.put(si+"/api/task/GetAllMachinesStatus",t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(200===e.status)return e.data})).catch((function(){return null}));case 9:return n=e.sent,e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(e){return St.apply(this,arguments)}function St(){return(St=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,E.a.post("".concat(si,"/api/order/DeleteOrder/"),{Id:t},{headers:{Authorization:"Bearer: "+q()}}).then((function(e){200===e.status&&F.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(me.jsx)("p",{children:"Sipari\u015f ba\u015far\u0131yla iptal edildi."}),okText:"Tamam"})})).catch((function(e){return F.a.error({title:"Hata",content:Object(me.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,E.a.delete("".concat(si,"/api/order/DeleteSingleMachine/").concat(t),{headers:{Authorization:"Bearer: "+q()}}).then((function(e){200===e.status&&F.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(me.jsx)("p",{children:"Makine ba\u015far\u0131yla silindi."}),okText:"Tamam"})})).catch((function(e){return F.a.error({title:"Hata",content:Object(me.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),null}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ct(){return It.apply(this,arguments)}function It(){return(It=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/Task/GetLayout",{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zt(e,t){return Bt.apply(this,arguments)}function Bt(){return(Bt=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post(si+"/api/Task/SaveLayoutInfo/",{layout:null!==t&&void 0!==t&&t.length?[].concat(Object(De.a)(t),[n]).join(","):n},{headers:{Authorization:"Bearer "+q()}}).then((function(e){return 200===e.status&&F.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(me.jsx)("p",{children:"K\u0131sayol ba\u015far\u0131yla eklendi."}),okText:"Tamam"}),e.data.layout})).catch((function(e){return F.a.error({title:"Hata",content:Object(me.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),""}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mt(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post(si+"/api/Task/SaveLayoutInfo/",{layout:t.filter((function(e){return e!==n})).join(",")},{headers:{Authorization:"Bearer "+q()}}).then((function(e){return 200===e.status&&F.a.success({title:"Ba\u015far\u0131l\u0131",content:Object(me.jsx)("p",{children:"K\u0131sayol ba\u015far\u0131yla kald\u0131r\u0131ld\u0131."}),okText:"Tamam"}),e.data.layout})).catch((function(e){return F.a.error({title:"Hata",content:Object(me.jsx)("p",{children:"Bir hata olu\u015ftu, l\xfctfen tekrar deneyin."}),okText:"Tamam"}),""}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dt(e,t){return E.a.post("".concat(si,"/api/config/").concat(e),t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){return F.a.success({title:"\u0130\u015flem Ba\u015farili.",content:"Yeni \xf6zellik ba\u015fariyla eklendi, g\xf6rmek i\xe7in sayfayi yenileyin.."}),!0})).catch((function(e){return F.a.error({title:"Bir Hata Olu\u015ftu.",content:"L\xfctfen tekrar deneyin."}),!1}))}function At(){return E.a.get("".concat(si,"/api/config/GetCustomerList"),{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(e){return[]}))}var Pt=M.a.Option,Gt=M.a.OptGroup,Rt=n(90);function Vt(e){for(var t="",n=e.length-1;n>=0;n--)t+=e[n];return t}var Kt,Lt=function(){var e,t=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),n=Object(r.useState)(""),a=Object(p.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)([]),l=Object(p.a)(c,2),s=l[0],u=l[1],m=Object(r.useState)("turbo"),h=Object(p.a)(m,2),j=h[0],b=h[1],f=Object(r.useState)({brand:"",type:"",cooler_type:"",arm_type:"",tank_size:0,pump:"",order_no:"000000",order_amount:0,year:""}),O=Object(p.a)(f,2),x=O[0],y=O[1],g=function(){switch(j){case"kollu":return x.brand+x.type+x.arm_type+x.tank_size+x.pump+x.year+0+x.order_no+0+x.order_amount;case"turbo":return x.brand+x.type+x.cooler_type+x.tank_size+x.pump+x.year+0+x.order_no+0+x.order_amount;case"diger":return x.brand+x.type+x.year+0+x.order_no+0+x.order_amount;default:return""}}(),v=ue.a.useForm(),k=Object(p.a)(v,1)[0];return Object(r.useEffect)((function(){At().then((function(e){u(e)}))}),[]),Object(me.jsxs)(Ha,{style:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap-reverse",overflow:"auto"},children:[Object(me.jsxs)(ue.a,{form:k,onFieldsChange:function(){var e="turktraktor"==k.getFieldValue("brand")?k.getFieldValue("brand")+" "+k.getFieldValue("model"):"turbo"==k.getFieldValue("production_unit")?k.getFieldValue("brand")+" "+k.getFieldValue("tank_size")+"LT "+k.getFieldValue("cooler_type")+k.getFieldValue("fan_radius")+"cm "+k.getFieldValue("fan_type"):"kollu"==k.getFieldValue("production_unit")?k.getFieldValue("brand")+" "+k.getFieldValue("tank_size")+"LT "+k.getFieldValue("arm_type")+" "+k.getFieldValue("arm_length"):"diger"==k.getFieldValue("production_unit")?k.getFieldValue("brand")+" "+k.getFieldValue("type"):"";o(g+","+e.toUpperCase()),k.getFieldValue("model")&&"turktraktor"==k.getFieldValue("brand")&&k.setFieldsValue({caldron_color:k.getFieldValue("model")})},onFinish:function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(t,g);case 2:!0===e.sent&&(_(t.order_amount),k.resetFields());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),labelCol:{span:5},wrapperCol:{span:24},style:{maxWidth:"calc(100% - 168px)",minWidth:"450px"},requiredMark:!1,children:[Object(me.jsx)(ue.a.Item,{name:"date",initialValue:Fe()(),label:"Tarih",required:!0,children:Object(me.jsx)(Ie.a,{disabled:!0})}),Object(me.jsx)(ue.a.Item,{name:"customer",label:"M\xfc\u015fteri Ad\u0131",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:250,message:"Maksimum s\u0131n\u0131r a\u015f\u0131ld\u0131."}],required:!0,children:Object(me.jsx)(ze.a,{style:{width:200},options:s,placeholder:"aramak i\xe7in yaz\u0131n.",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})}),Object(me.jsx)(ue.a.Item,{name:"address",label:"Adresi",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:250,message:"Maksimum s\u0131n\u0131r a\u015f\u0131ld\u0131."}],required:!0,children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{name:"phone_number",label:"Telefon No",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:10,min:10,message:"Telefon numaras\u0131 10 haneden olu\u015fmal\u0131d\u0131r."}],required:!0,children:Object(me.jsx)(de.a,{addonBefore:"+90",style:{width:"100%"}})}),Object(me.jsx)(ue.a.Item,{name:"production_unit",label:"\xdcretim Birimi",initialValue:"turbo",required:!0,children:Object(me.jsxs)(pe.a.Group,{onChange:function(e){b(e.target.value)},children:[Object(me.jsx)(pe.a,{value:"turbo",children:"Turbo"}),Object(me.jsx)(pe.a,{value:"kollu",children:"Kollu"}),Object(me.jsx)(pe.a,{value:"diger",children:"Di\u011fer"})]})}),Object(me.jsx)(ue.a.Item,{name:"brand",label:"Marka",required:!0,children:Object(me.jsx)(M.a,{onSelect:function(e){var n=t.brand.filter((function(t){return t.type==e}));y(Object(d.a)(Object(d.a)({},x),{},{brand:n[0].shortend}))},children:t.brand.map((function(e){return Object(me.jsx)(Pt,{value:e.type,children:e.text},e.type)}))})}),"turbo"==j&&"T"==x.brand?Object(me.jsx)(ue.a.Item,{name:"model",label:"Model",required:!0,children:Object(me.jsx)(M.a,{children:t.turktraktormodel.map((function(e){return Object(me.jsx)(Pt,{value:e.text,children:e.text},e.text)}))})}):null,Object(me.jsx)(ue.a.Item,{name:"type",label:"Tip",required:!0,children:"turbo"===j||"kollu"===j?Object(me.jsx)(M.a,{onSelect:function(e){var n=t.type.filter((function(t){return t.type==e}));y(Object(d.a)(Object(d.a)({},x),{},{type:n[0].shortend}))},children:t.type.map((function(e){return Object(me.jsx)(Pt,{value:e.type,children:e.text},e.type)}))}):Object(me.jsx)(M.a,{onSelect:function(e){var n=t.machine_type.filter((function(t){return t.type==e}));y(Object(d.a)(Object(d.a)({},x),{},{type:n[0].shortend}))},children:t.machine_type.map((function(e){return Object(me.jsx)(Pt,{value:e.type,children:e.text},e.type)}))})}),"kollu"==j||"turbo"==j?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(ue.a.Item,{name:"caldron_color",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:32,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Kazan Rengi",required:!0,children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{name:"caldron_stock",label:"Kazan Tedarik",children:Object(me.jsxs)(pe.a.Group,{children:[Object(me.jsx)(pe.a,{value:"onstock",children:"Stoktan"}),Object(me.jsx)(pe.a,{value:"new",children:"Kazan \xdcreticiden"})]})}),Object(me.jsx)(ue.a.Item,{name:"caldron_material",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:19,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Materyal",required:!0,children:Object(me.jsx)(M.a,{children:t.caldron_material.map((function(e){return Object(me.jsx)(Pt,{value:e.type,children:e.text},e.type)}))})}),Object(me.jsx)(ue.a.Item,{name:"tank_size",label:"Depo Hacmi",required:!0,children:Object(me.jsx)(M.a,{onSelect:function(e){var n=t.tank_size.filter((function(t){return t.type==e}));y(Object(d.a)(Object(d.a)({},x),{},{tank_size:parseInt(n[0].shortend)}))},children:Object(me.jsx)(Gt,{label:"Litre",children:t.tank_size.map((function(e){return Object(me.jsx)(Pt,{value:e.type,children:e.text},e.type)}))})})}),Object(me.jsx)(ue.a.Item,{name:"tow_type",label:"\xc7eki Tipi",required:!0,children:Object(me.jsx)(M.a,{children:t.tow_type.map((function(e){return Object(me.jsx)(Pt,{value:e.type,children:e.text},e.type)}))})}),Object(me.jsx)(ue.a.Item,{name:"pump",label:"Pompa",required:!0,children:Object(me.jsx)(M.a,{onSelect:function(e){var n=t.pump.filter((function(t){return t.type==e}));y(Object(d.a)(Object(d.a)({},x),{},{pump:n[0].shortend}))},children:t.pump.map((function(e){return Object(me.jsx)(Pt,{value:e.type,children:e.text},e.type)}))})}),Object(me.jsx)(ue.a.Item,{name:"commander",label:"Kumanda",required:!0,children:Object(me.jsx)(M.a,{children:t.commander.map((function(e){return Object(me.jsx)(Pt,{value:e.type,children:e.text},e.type)}))})}),Object(me.jsx)(ue.a.Item,{name:"meme_type",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:19,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Meme Tipi",required:!0,children:Object(me.jsx)(M.a,{children:t.meme_type.map((function(e){return Object(me.jsx)(Pt,{value:e.type,children:e.text},e.type)}))})})]}):null,"kollu"==j?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(ue.a.Item,{name:"arm_type",label:"Kol Tipi",required:!0,children:Object(me.jsx)(M.a,{onSelect:function(e){var n=t.arm_type.filter((function(t){return t.type==e}));y(Object(d.a)(Object(d.a)({},x),{},{arm_type:n[0].shortend}))},children:t.arm_type.map((function(e){return Object(me.jsx)(Pt,{value:e.type,children:e.text},e.type)}))})}),Object(me.jsx)(ue.a.Item,{name:"meme_distance",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:19,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Meme Aral\u0131\u011f\u0131",required:!0,children:Object(me.jsx)(de.a,{maxLength:19})}),Object(me.jsx)(ue.a.Item,{name:"arm_length",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:30,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Kol Uzunlu\u011fu",required:!0,children:Object(me.jsx)(de.a,{maxLength:20})})]}):null,"turbo"==j?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(ue.a.Item,{name:"cooler_type",label:"Fan Tipi",required:!0,children:Object(me.jsx)(M.a,{onSelect:function(e){var n=t.cooler_type.filter((function(t){return t.type==e}));y(Object(d.a)(Object(d.a)({},x),{},{cooler_type:n[0].shortend}))},children:t.cooler_type.map((function(e){return Object(me.jsx)(Pt,{value:e.type,children:e.text},e.type)}))})}),"turbo"==j?Object(me.jsx)(ue.a.Item,{name:"caldron_type",label:"Kazan Tipi",required:!0,children:Object(me.jsx)(M.a,{children:t.caldron_type.map((function(e){return Object(me.jsx)(Pt,{value:e.type,children:e.text},e.type)}))})}):null,"turbo"==j?Object(me.jsx)(ue.a.Item,{name:"fan_radius",label:"Pervane \xc7ap\u0131",required:!0,children:Object(me.jsx)(M.a,{children:t.fan_radius.map((function(e){return Object(me.jsx)(Pt,{value:e.type,children:e.text},e.type)}))})}):null,"turbo"==j?Object(me.jsx)(ue.a.Item,{name:"fan_type",label:"Pervane Tipi",required:!0,children:Object(me.jsx)(M.a,{children:t.fan_type.map((function(e){return Object(me.jsx)(Pt,{value:e.type,children:e.text},e.type)}))})}):null]}):null,Object(me.jsx)(ue.a.Item,{name:"order_no",label:"Sipari\u015f No",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:6,message:"Maksimum s\u0131n\u0131r a\u015f\u0131ld\u0131."},{min:6,message:"Sipari\u015f No 6 Karakter olmal\u0131d\u0131r.."}],required:!0,children:Object(me.jsx)(de.a,{maxLength:6,onChange:function(e){y(Object(d.a)(Object(d.a)({},x),{},{order_no:H(e.target.value,"0",6)}))}})}),Object(me.jsx)(ue.a.Item,{name:"order_amount",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:5,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Sipari\u015f Adedi",required:!0,children:Object(me.jsx)(de.a,{max:99,min:1,type:"number",onChange:function(e){y(Object(d.a)(Object(d.a)({},x),{},{order_amount:parseInt(e.target.value)}))}})}),Object(me.jsx)(ue.a.Item,{name:"year",label:"Y\u0131l",initialValue:Fe()(),required:!0,children:Object(me.jsx)(Ie.a,{disabled:!0,picker:"year"})}),Object(me.jsx)(ue.a.Item,{name:"chassis_color",label:"\u015ease Rengi",required:!0,children:Object(me.jsx)(M.a,{children:t.chassis_color.map((function(e){return Object(me.jsx)(Pt,{value:e.type,children:e.text},e.type)}))})}),Object(me.jsx)(ue.a.Item,{name:"alt_features",rules:[{max:250,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Ek \xd6zellikler",required:!0,children:Object(me.jsx)(de.a.TextArea,{maxLength:250})}),Object(me.jsx)(ue.a.Item,{name:"order_tooker",label:"Sipari\u015f Alan",required:!0,children:Object(me.jsx)(M.a,{children:t.order_tooker.map((function(e){return Object(me.jsx)(Pt,{value:e.type,children:e.text},e.type)}))})}),Object(me.jsx)(ue.a.Item,{name:"serial_number",label:"Seri No",children:Object(me.jsx)(de.a,{disabled:!0,placeholder:g})}),Object(me.jsx)(ue.a.Item,{wrapperCol:{span:12,offset:6},children:Object(me.jsx)(A.a,{size:"large",block:!0,type:"primary",htmlType:"submit",children:"Sipari\u015fi Olu\u015ftur"})})]}),Object(me.jsx)("div",{style:{display:"block",width:"min-content"},children:Object(me.jsx)(Rt,{value:i,renderAs:"svg",size:178})})]});function _(e){for(var t=window.open("","","height=1024, width=1024"),n=function(e){var t=e.indexOf("0"),n=Vt(e.substr(0,t));return[Vt(e.substr(t+1)),n]}(Vt(g)),r=i.split(","),a=e;a>0;a--){r[0]=n[0]+"0"+a;var o=Object(Be.renderToString)(Object(me.jsxs)("div",{style:{width:"50mm",height:"64mm"},children:[Object(me.jsx)(Rt,{value:r[0]+","+r[1],style:{height:"44mm",width:"44mm",margin:"3mm"},renderAs:"svg"}),Object(me.jsx)("p",{style:{margin:10},children:r[0]})]}));null===t||void 0===t||t.document.write(String(o))}t&&(t.document.body.style.margin="0",t.document.close(),t.print())}},Et=n(1),Yt=n(20),Nt=n(161),qt=n(97),Ht=n.n(qt),Ut=n(590),Jt=n(583),Wt=n(343);function Qt(e){var t=e.machine_id,n=e.type,a=Object(r.useState)(null),i=Object(p.a)(a,2),o=i[0],l=i[1],s=Object(r.useState)(null),u=Object(p.a)(s,2),d=(u[0],u[1]);Object(c.d)((function(e){return e.auth.user}));return Object(r.useEffect)((function(){!function(){switch(n){case Kt.arm:Ze(t).then((function(e){e.length>0&&(l(e),d(null===e||void 0===e?void 0:e.reduce((function(e,t){return e.row_created_date>t.row_created_date?e:t}))))}));break;case Kt.fan:tt(t).then((function(e){e.length>0&&(l(e),d(null===e||void 0===e?void 0:e.reduce((function(e,t){return e.row_created_date>t.row_created_date?e:t}))))}));break;case Kt.chassis:rt(t).then((function(e){e.length>0&&(l(e),d(null===e||void 0===e?void 0:e.reduce((function(e,t){return e.row_created_date>t.row_created_date?e:t}))))}))}}()}),[t]),o?Object(me.jsx)(Jt.a,{style:{marginBottom:5},title:n==Kt.arm?"Kol \u0130\u015flem Ge\xe7mi\u015fi":n==Kt.chassis?"\u015ease \u0130\u015flem Ge\xe7mi\u015fi":"Fan \u0130\u015flem Ge\xe7mi\u015fi",children:Object(me.jsx)(Ut.a,{mode:"left",style:{width:"100%"},children:null===o||void 0===o?void 0:o.map((function(e){return Object(me.jsxs)(Ut.a.Item,{label:J(e.row_created_date),children:[Object(me.jsx)("p",{children:Object(me.jsx)("b",{children:W(e.location)})}),Object(me.jsx)("p",{children:"G\xf6nderen: ".concat(e.name," ").concat(e.surname)})]},"timelinekey"+e.row_created_date)}))})}):null}!function(e){e[e.arm=0]="arm",e[e.fan=1]="fan",e[e.chassis=2]="chassis"}(Kt||(Kt={}));var $t=function(e){var t=e.isVisible,n=e.setIsVisible,a=e.machine_id,i=e.serial_number,o=Object(r.useState)(null),l=Object(p.a)(o,2),s=l[0],u=l[1],d=Object(r.useState)(null),m=Object(p.a)(d,2),h=m[0],j=m[1],b=Object(c.d)((function(e){return e.auth.user}));function f(){$e(a).then((function(e){e&&(u(e),j(null===e||void 0===e?void 0:e.reduce((function(e,t){return e.row_created_date>t.row_created_date?e:t}))))}))}return Object(r.useEffect)((function(){f()}),[a]),Object(me.jsx)(Ht.a,{title:i+" Numaral\u0131 Makinenin \u0130\u015flem Ge\xe7mi\u015fi",visible:t,footer:null,onCancel:function(){return n(!1)},children:Object(me.jsx)("div",{style:{display:"flex",width:"100%",alignContent:"center",alignItems:"center",justifyContent:"center"},children:s?Object(me.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(me.jsx)(Jt.a,{title:"Makine \u0130\u015flem Ge\xe7mi\u015fi",style:{marginBottom:5},children:Object(me.jsx)(Ut.a,{mode:"left",style:{width:"100%"},children:null===s||void 0===s?void 0:s.map((function(e){return Object(me.jsxs)(Ut.a.Item,{label:J(e.row_created_date),children:[Object(me.jsx)("p",{children:Object(me.jsx)("b",{children:W(e.location)})}),Object(me.jsx)("p",{children:"G\xf6nderen: ".concat(e.name," ").concat(e.surname)})]},"timelinekey"+e.row_created_date)}))})}),Object(me.jsx)(Qt,{machine_id:a,type:Kt.chassis}),Object(me.jsx)(Qt,{machine_id:a,type:Kt.fan}),Object(me.jsx)(Qt,{machine_id:a,type:Kt.arm}),"admin"===b.role&&"onaybekliyor"!==(null===h||void 0===h?void 0:h.location)&&"iptal"!==(null===h||void 0===h?void 0:h.location)?Object(me.jsx)(D.a,{title:"Bu sipari\u015fi bir \xf6nceki konuma g\xf6ndermek istedi\u011finizden emin misiniz?",onConfirm:function(){(function(e){return gt.apply(this,arguments)})(a).then((function(e){e&&f()}))},okText:"Evet",cancelText:"Hay\u0131r",children:Object(me.jsx)(A.a,{style:{marginBottom:10},type:"primary",children:"Bir \xd6nceki Konuma Geri G\xf6nder"})}):null]}):Object(me.jsx)(Wt.a,{size:"large"})})})},Xt=n(225),Zt=n.n(Xt),en=n(226),tn=n.n(en);N.a.extend(tn.a),N.a.locale("tr");var nn=n(90);function rn(e,t){if(t)return Object(me.jsxs)("div",{style:{display:"flex"},children:[Object(me.jsxs)("p",{style:{fontWeight:"bold",marginRight:"5px"},children:[e,":"]}),Object(me.jsx)("p",{children:t})]})}var an,on=function(e){Object(I.a)(r,e);var t=Object(z.a)(r);function r(e){var n,a;return Object(T.a)(this,r),(a=t.call(this,e)).configFile=JSON.parse(null!==(n=localStorage.getItem("config"))&&void 0!==n?n:"{}"),a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,i=t.confirm,o=t.clearFilters;return Object(me.jsxs)("div",{style:{padding:8},children:[Object(me.jsx)(de.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(r,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(me.jsx)(A.a,{type:"primary",onClick:function(){return a.handleSearch(r,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(me.jsx)(A.a,{onClick:function(){return a.handleReset(o)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(me.jsx)(Nt.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(e){return e}}},a.handleSearch=function(e,t,n){t(),a.setState({searchText:e[0],searchedColumn:n})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.state={movableMachines:[],orderModalVisible:!1,csvdata:[["Seri No","Sipari\u015f No","Sipari\u015f Tarihi","M\xfc\u015fteri","Telefon","Adres","Sipari\u015f Alan","Durum"]],orderDetails:{},loading:!1,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(d.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no.localeCompare(t.order_no)}},a.getColumnSearchProps("order_no")),Object(d.a)({title:"M\xfc\u015fteri",dataIndex:"customer",sorter:function(e,t){return e.customer.localeCompare(t.customer)}},a.getColumnSearchProps("customer")),Object(d.a)({title:"Telefon No",dataIndex:"phone_number"},a.getColumnSearchProps("phone_number")),Object(d.a)({title:"Lokasyon",dataIndex:"address"},a.getColumnSearchProps("address")),Object(d.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},a.getColumnSearchProps("serial_number")),Object(d.a)(Object(d.a)({title:"\xdcr\xfcn Tipi",dataIndex:"production_unit",sorter:function(e,t){return e.production_unit.localeCompare(t.production_unit)}},a.getColumnSearchProps("production_unit")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)(Object(d.a)({title:"Miktar",sorter:function(e,t){return e.pending_amount-t.pending_amount}},a.getColumnSearchProps("order_amount")),{},{render:function(e,t){return Object(me.jsx)("td",{children:String(t.order_amount-t.pending_amount)+"/"+t.order_amount})}}),Object(d.a)({title:"Sipari\u015f Tarihi",dataIndex:"date",sorter:function(e,t){return N()(e.date,"D MMMM YYYY, HH:mm").unix()-N()(t.date,"D MMMM YYYY, HH:mm").unix()}},a.getColumnSearchProps("date")),Object(d.a)(Object(d.a)({title:"Sipari\u015f Alan",dataIndex:"order_tooker",sorter:function(e,t){return e.order_tooker.localeCompare(t.order_tooker)}},a.getColumnSearchProps("order_tooker")),{},{render:function(e){return Object(me.jsx)("td",{children:e.toUpperCase()})}})]},a.componentDidMount=function(){a.GetOrders(),lt().then((function(e){e&&a.setState({movableMachines:e})}))},a.renderOrderDetails=a.renderOrderDetails.bind(Object(Yt.a)(a)),a}return Object(C.a)(r,[{key:"renderOrderDetails",value:function(e){var t=this;return Object.keys(this.state.orderDetails).map((function(r){return r==e.id?t.state.orderDetails[r].map((function(r){var a;return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)("div",{style:{width:"80%",marginTop:30,display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(me.jsxs)("div",{children:[rn("Seri No",U(r.serial_number)),rn("Pompa Seri No",U(r.pump_serial)),rn("Bulundu\u011fu Konum",W(r.location)+(r.comment?" (".concat(r.comment,")"):" ")),rn("Son \u0130\u015flem Tarihi",J(r.row_created_date))]}),Object(me.jsxs)("div",{style:{width:"min-content"},children:["teslimat"!==r.location&&"iptal"!==r.location&&"admin"==t.props.user.role?Object(me.jsx)(A.a,{style:{marginBottom:10,width:"100%"},type:"primary",onClick:function(){t.setState({orderModalVisible:!0,orderSelected:{serial_number:r.serial_number,order_id:e.id}})},children:"Sipari\u015fi Kayd\u0131r"}):null,Object(me.jsx)(A.a,{style:{marginBottom:10,width:"100%"},onClick:function(){var n=r.serial_number+","+e.description;t.printQRCode(n,r.serial_number)},children:"Qr Kodu Yazd\u0131r"}),Object(me.jsx)(A.a,{style:{marginBottom:10,width:"100%"},onClick:function(){console.log(e.id),t.setState({historyModalVisible:!0,historyModalId:r.id,orderSelected:{serial_number:r.serial_number,order_id:e.id}})},children:"\u0130\u015flem Ge\xe7mi\u015fini G\xf6ster"}),r.test_comment?Object(me.jsx)(A.a,{block:!0,onClick:function(){E.a.get("./finalkontrolformu.xlsx",{responseType:"blob"}).then((function(e){var t=n(175),a=new FileReader;a.readAsArrayBuffer(e.data),a.onload=function(e){var n=new Zt.a.Workbook;n.xlsx.load(e.target.result).then((function(){var e=n.getWorksheet(1),a=e.getRow(58);a.getCell(1).value=r.test_comment,a.commit();var i=e.getRow(8);i.getCell(1).value=r.serial_number,i.getCell(5).value=r.test_manager,i.getCell(6).value=J(r.test_date),i.commit(),n.xlsx.writeBuffer().then((function(e){var n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});t.saveAs(n,"deneme.xlsx")}))}))}}))},children:"Test Raporu"}):null,"admin"==(null===(a=t.props.user)||void 0===a?void 0:a.role)&&"iptal"!==r.location?Object(me.jsx)(D.a,{title:"Bu makinay\u0131 silmek istedi\u011finizden emin misiniz? Bu i\u015flem geri al\u0131namaz",onConfirm:function(){return wt(r.id)},okText:"Evet",cancelText:"Hay\u0131r",children:Object(me.jsx)(A.a,{danger:!0,block:!0,style:{marginBottom:10},type:"primary",children:"Makinay\u0131 Sil"})}):null]})]}),Object(me.jsx)(P.a,{})]})})):null}))}},{key:"printQRCode",value:function(e,t){var n=window.open("","","height=1024, width=1024"),r=Object(Be.renderToString)(Object(me.jsxs)("div",{style:{width:"50mm",height:"64mm"},children:[Object(me.jsx)(nn,{value:e,style:{height:"44mm",width:"44mm",margin:"3mm"},renderAs:"svg"}),Object(me.jsx)("p",{style:{margin:10},children:t})]}));null===n||void 0===n||n.document.write(String(r)),n.document.body.style.margin=0,null===n||void 0===n||n.document.close(),null===n||void 0===n||n.print()}},{key:"componentDidUpdate",value:function(e){this.props.isFinishedOrders===e.isFinishedOrders&&this.props.isCancelledOrders===e.isCancelledOrders||this.GetOrders()}},{key:"GetOrders",value:function(){var e=this;this.props.isFinishedOrders?function(){return Ke.apply(this,arguments)}().then((function(t){var n=t.map((function(e){return e.date=N()(e.date).format("D MMMM YYYY, HH:mm"),e}));e.setState({data:n})})):this.props.isCancelledOrders?function(){return Le.apply(this,arguments)}().then((function(t){var n=t.map((function(e){return e.date=N()(e.date).format("D MMMM YYYY, HH:mm"),e}));e.setState({data:n})})):function(){return Ee.apply(this,arguments)}().then((function(t){var n=t.map((function(e){return e.date=N()(e.date).format("D MMMM YYYY, HH:mm"),e}));e.setState({data:n})}))}},{key:"render",value:function(){var e,t,n=this,r=this.state;return Object(me.jsxs)("div",{style:{width:"100%",maxWidth:"100%",height:"100%",maxHeight:"100%"},children:[Object(me.jsx)(V.a,{rowKey:function(e){return"key"+e.id},size:"small",loading:this.state.loading,expandable:{expandedRowRender:function(e){var t,r,a,i,o,c,s,u,p,m,h,j,b,f;return Object(me.jsxs)("div",{style:{marginLeft:"3rem"},children:[rn("\xdcr\xfcn",e.description),rn("Tarih",e.date),rn("Marka",null===(t=n.configFile.brand.filter((function(t){return t.type===e.brand}))[0])||void 0===t?void 0:t.text),rn("Sipari\u015f No",e.order_no),rn("Sipari\u015f Miktar\u0131",String(e.order_amount)),rn("Tip",null!==(r=n.configFile.type.filter((function(t){return t.type===e.type}))[0])&&void 0!==r&&r.text?null===(a=n.configFile.type.filter((function(t){return t.type===e.type}))[0])||void 0===a?void 0:a.text:null===(i=n.configFile.machine_type.filter((function(t){return t.type===e.type}))[0])||void 0===i?void 0:i.text),rn("Fan Tipi",null===(o=n.configFile.cooler_type.filter((function(t){return t.type===e.cooler_type}))[0])||void 0===o?void 0:o.text),rn("Kazan Boyutu",e.tank_size?e.tank_size+" LT":null),rn("Kazan Materyali",null===(c=n.configFile.caldron_material.filter((function(t){return t.type===e.caldron_material}))[0])||void 0===c?void 0:c.text),rn("Pompa",null===(s=n.configFile.pump.filter((function(t){return t.type===e.pump}))[0])||void 0===s?void 0:s.text),rn("Model Y\u0131l\u0131",e.year),rn("Meme Tipi",null===(u=n.configFile.meme_type.filter((function(t){return t.type===e.meme_type}))[0])||void 0===u?void 0:u.text),rn("Meme Aral\u0131\u011f\u0131",e.meme_distance),rn("\xc7eki Tipi",null===(p=n.configFile.tow_type.filter((function(t){return t.type===e.tow_type}))[0])||void 0===p?void 0:p.text),rn("Kol Tipi",null===(m=n.configFile.arm_type.filter((function(t){return t.type===e.arm_type}))[0])||void 0===m?void 0:m.text),rn("Kol Uzunlu\u011fu",e.arm_length),rn("\u015ease Rengi",null===(h=n.configFile.chassis_color.filter((function(t){return t.type===e.chassis_color}))[0])||void 0===h?void 0:h.text),rn("Kazan Rengi",U(e.caldron_color)),rn("Kazan Tipi",null===(j=n.configFile.caldron_type.filter((function(t){return t.type===e.caldron_type}))[0])||void 0===j?void 0:j.text),rn("Kumanda",null===(b=n.configFile.commander.filter((function(t){return t.type===e.commander}))[0])||void 0===b?void 0:b.text),rn("Alternatif \xd6zellikler",e.alt_features),Object(me.jsx)(A.a,{style:{marginRight:"10px"},type:"primary",onClick:function(){We(e.id).then((function(t){n.setState({orderDetails:Object(d.a)(Object(d.a)({},n.state.orderDetails),{},Object(Et.a)({},e.id,t))})}))},children:"Detaylar\u0131 G\xf6ster"}),n.renderOrderDetails(e),"cancelled"===e.status||"admin"!=(null===(f=n.props.user)||void 0===f?void 0:f.role)||n.props.isFinishedOrders?null:Object(me.jsx)(D.a,{title:"Bu sipari\u015fi iptal etmek istedi\u011finizden emin misiniz?",onConfirm:function(){return _t(e.id)},okText:"Evet",cancelText:"Hay\u0131r",children:Object(me.jsx)(A.a,{danger:!0,style:{marginBottom:10,marginRight:10},type:"primary",children:"Sipari\u015fi \u0130ptal Et"})}),Object(me.jsx)(l.b,{style:{display:e.order_amount!==e.pending_amount&&"none",color:"white",marginBottom:10,backgroundColor:"#1677ff",padding:"8px",borderRadius:"6px"},to:{pathname:"/editOrder/".concat(e.serial_number)},children:"D\xfczenle"})]},"keyexpandable "+e.id)}},pagination:{defaultPageSize:10,position:["bottomRight"]},columns:this.state.columns,dataSource:r.data}),Object(me.jsxs)(Ht.a,{title:(null===(e=this.state.orderSelected)||void 0===e?void 0:e.serial_number)+" Seri Numaral\u0131 Makine.",visible:this.state.orderModalVisible,onOk:function(){n.setState({orderModalVisible:!1}),ut({order1:n.state.selectedToMove,order2:n.state.orderSelected})},onCancel:function(){n.setState({orderModalVisible:!1})},children:[Object(me.jsx)("p",{children:"L\xfctfen de\u011fi\u015fim yapmak istedi\u011finiz makineyi se\xe7in."}),Object(me.jsx)(M.a,{showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},style:{width:"100%"},onSelect:function(e){console.log(e),n.setState({selectedToMove:{serial_number:e.split(" ")[0],order_id:Number.parseInt(e.split(" ")[1])}})},placeholder:"L\xfctfen bir makine se\xe7in",defaultActiveFirstOption:!0,children:this.state.movableMachines.map((function(e){return Object(me.jsx)(M.a.Option,{value:e.serial_number+" "+e.order_id,children:e.serial_number+" "+e.customer+" "+U(e.location)})}))})]}),this.state.historyModalVisible?Object(me.jsx)($t,{isVisible:this.state.historyModalVisible,machine_id:this.state.historyModalId,serial_number:null===(t=this.state.orderSelected)||void 0===t?void 0:t.serial_number,setIsVisible:function(e){return n.setState({historyModalVisible:e})}}):null]})}}]),r}(a.a.Component),cn=Object(c.b)((function(e,t){return{user:e.auth.user}}))(on),ln=n(327),sn=n(587),un=n(135),dn=n.n(un);function pn(){return(pn=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/Config/GetChassisNeeds/",{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mn(){return(mn=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/Config/GetTotalNeeds/"+t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hn(){return(hn=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/Config/GetFanNeeds/",{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jn(){return(jn=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/Config/GetPumpNeeds/",{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bn(){return(bn=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/Config/GetCommanderNeeds/",{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fn(){return(fn=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/Config/GetTowNeeds/",{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function On(){return(On=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/Task/GetGenericTaskRoleAuthorizationList/"+t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xn(){return(xn=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post(si+"/api/Task/AddGenericTaskRoleAuthorizationList/",t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yn(){return(yn=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.delete(si+"/api/Task/DeleteGenericTaskRoleAuthorizationList/"+t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gn(e){return vn.apply(this,arguments)}function vn(){return(vn=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/Config/GetNeedList/"+t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kn(e){return _n.apply(this,arguments)}function _n(){return(_n=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post(si+"/api/Config/AddNeedList/",t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sn(e){return wn.apply(this,arguments)}function wn(){return(wn=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.delete(si+"/api/Config/DeleteNeedList/"+t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tn=JSON.parse(null!==(an=localStorage.getItem("config"))&&void 0!==an?an:"{}"),Cn={machine_type:"Makine Tipleri",brand:"Markalar",type:"Tipler",cooler_type:"Fan Tipleri",tank_size:"Depo Boyutlar\u0131",pump:"Pompalar",tow_type:"\xc7eki Tipleri",chassis_color:"\u015ease Renkleri",caldron_type:"Kazan Tipleri",fan_type:"Pervane Tipleri",arm_type:"Kol Tipleri",fan_radius:"Fan \xc7aplar\u0131",order_tooker:"Sipari\u015f Alanlar",commander:"Kumandalar",turktraktormodel:"T\xfcrk Trakt\xf6r Modelleri",meme_type:"Meme Tipleri",caldron_material:"Kazan Materyalleri",role:"Kullan\u0131c\u0131 Rolleri"};var In=function(e){var t=ue.a.useForm(),n=Object(p.a)(t,1)[0];function a(e){var t=e.value,a=e.text,i=Object(r.useState)([]),o=Object(p.a)(i,2),l=o[0],s=o[1],u=Object(c.d)((function(e){return e.auth.user}));function d(){gn(t).then((function(e){e&&s(e)}))}Object(r.useEffect)((function(){d()}),[t]);var m=[{title:"\xdcr\xfcn Ad\u0131",dataIndex:"name",key:"type"},{title:"Gereken Miktar",dataIndex:"amount"},{title:"\u0130\u015flemler",render:function(e,t){return Object(me.jsx)("td",{children:"admin"==u.role?Object(me.jsx)(A.a,{style:{marginBottom:10},danger:!0,type:"primary",onClick:function(){Sn(t.id).then((function(e){e?d():F.a.error({title:"Bir hata olu\u015ftu",content:Object(me.jsx)("p",{children:"L\xfctfen tekrar deneyin."}),okText:"Tamam"})}))},children:"Sil"}):null})}}];return Object(me.jsx)(Jt.a,{style:{marginBottom:10},children:Object(me.jsx)(V.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("b",{children:a}),Object(me.jsx)(ln.a,{content:Object(me.jsxs)(ue.a,{form:n,layout:"vertical",onFinish:function(e){kn({amount:e.amount,name:e.name,value:t}).then((function(e){e?(d(),n.resetFields()):F.a.error({title:"Bir hata olu\u015ftu",content:Object(me.jsx)("p",{children:"L\xfctfen tekrar deneyin."}),okText:"Tamam"})}))},children:[Object(me.jsx)(ue.a.Item,{name:"name",label:"\xdcr\xfcn",rules:[{required:!0}],children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{name:"amount",label:"Miktar",children:Object(me.jsx)(sn.a,{min:0})}),Object(me.jsx)(ue.a.Item,{children:Object(me.jsx)(A.a,{type:"primary",htmlType:"submit",children:"Ekle"})})]}),title:"".concat(a," Ekleme Yap"),trigger:"click",children:Object(me.jsx)(A.a,{type:"primary",style:{float:"right"},children:"Ekle"})})]})},dataSource:l,columns:m})})}return Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(me.jsx)(Jt.a,{style:{width:"60%",marginBottom:"1%",marginTop:"2%"},title:"",children:Object.keys(Tn).map((function(e){var t=Tn[e];if("object"==typeof t){if(2===Object.keys(t[0]).length)return function(e,t){var n=[{title:"Tip",dataIndex:"type",key:"type",width:50},{title:"G\xf6sterim",dataIndex:"text",width:50}];return Object(me.jsx)(Jt.a,{style:{marginBottom:10},children:Object(me.jsx)(V.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("b",{children:Cn[t]}),Object(me.jsx)(ln.a,{content:Object(me.jsxs)(ue.a,{layout:"vertical",onFinish:function(e){Dt(String(t),e).then((function(e){e&&we()}))},children:[Object(me.jsx)(ue.a.Item,{name:"type",label:"Tip",rules:[{required:!0,message:"L\xfctfen sadece k\xfc\xe7\xfck harf ve bo\u015fluksuz yaz\u0131n."}],children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{name:"text",label:"G\xf6sterim",children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{children:Object(me.jsx)(A.a,{type:"primary",htmlType:"submit",children:"Ekle"})})]}),title:"".concat(Cn[t],"a Ekleme Yap"),trigger:"click",children:Object(me.jsx)(A.a,{type:"primary",style:{float:"right"},children:"Ekle"})})]})},dataSource:null===e||void 0===e?void 0:e.sort((function(e,t){return e.type.localeCompare(t.type)})),columns:n})})}(t,e);if(3===Object.keys(t[0]).length)return function(e,t){var n=[{title:"Tip",dataIndex:"type",key:"type",width:33},{title:"G\xf6sterim",dataIndex:"text",width:33},{title:"K\u0131saltma (Barkod \xfczerinde)",dataIndex:"shortend",width:34}];return Object(me.jsx)(Jt.a,{style:{marginBottom:10},children:Object(me.jsx)(V.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("b",{children:Cn[t]}),Object(me.jsx)(ln.a,{content:Object(me.jsxs)(ue.a,{layout:"vertical",onFinish:function(e){Dt(String(t),e)},children:[Object(me.jsx)(ue.a.Item,{name:"type",rules:[{required:!0,message:"L\xfctfen sadece k\xfc\xe7\xfck harf ve bo\u015fluksuz yaz\u0131n."}],label:"Tip",children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{name:"text",label:"G\xf6sterim",children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{name:"shortend",label:"K\u0131saltma",rules:[{required:!0,message:"L\xfctfen sadece b\xfcy\xfck harf yaz\u0131n, ve harf say\u0131s\u0131na dikkat edin."}],children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{children:Object(me.jsx)(A.a,{type:"primary",htmlType:"submit",children:"Ekle"})})]}),title:"".concat(Cn[t],"a Ekleme Yap"),trigger:"click",children:Object(me.jsx)(A.a,{type:"primary",style:{float:"right"},children:"Ekle"})})]})},dataSource:null===e||void 0===e?void 0:e.sort((function(e,t){return e.type.localeCompare(t.type)})),columns:n})})}(t,e)}return null}))}),Object(me.jsxs)(Jt.a,{title:"\xdcretim S\xfcresi \u0130\u015flemleri",style:{width:"60%",marginBottom:"1%",marginTop:"2%"},children:[Object(me.jsx)(dn.a,{style:{marginBottom:10},addonBefore:"\u015ease \xdcretim S\xfcresi",placeholder:String(null===Tn||void 0===Tn?void 0:Tn.chassis_production_time),suffix:"G\xfcn",enterButton:"De\u011fi\u015ftir",size:"large",onSearch:function(e){Dt("chassis_production_time",{text:e})}}),Object(me.jsx)(dn.a,{style:{marginBottom:10},addonBefore:"Fan \xdcretim S\xfcresi",suffix:"G\xfcn",placeholder:String(null===Tn||void 0===Tn?void 0:Tn.fan_production_time),enterButton:"De\u011fi\u015ftir",size:"large",onSearch:function(e){Dt("fan_production_time",{text:e})}}),Object(me.jsx)(dn.a,{style:{marginBottom:10},addonBefore:"Kol \xdcretim S\xfcresi",placeholder:String(null===Tn||void 0===Tn?void 0:Tn.arm_production_time),suffix:"G\xfcn",enterButton:"De\u011fi\u015ftir",size:"large",onSearch:function(e){Dt("arm_production_time",{text:e})}})]}),Object(me.jsx)(Jt.a,{title:"\u0130htiya\xe7 Listesi \u0130\u015flemleri",style:{width:"60%",marginBottom:"1%",marginTop:"2%"},children:Tn.tank_size.sort((function(e,t){return parseInt(t.type)-parseInt(e.type)})).map((function(e){return Object(me.jsx)(a,{value:parseInt(e.type),text:"".concat(e.text," LT Tank \u0130htiya\xe7 Listesi")})}))})]})})};N.a.locale("tr");var zn=function(e){var t,n,a,i,o,c,l,s,u,d,m,h,j=JSON.parse(null!==(t=localStorage.getItem("config"))&&void 0!==t?t:"{}"),b=e.serial_number,f=Object(r.useState)(null),O=Object(p.a)(f,2),x=O[0],y=O[1],g=Object(r.useState)(!1),v=Object(p.a)(g,2),k=v[0],_=v[1];return Object(r.useEffect)((function(){Ue(b).then((function(e){e&&y(e)}))}),[]),Object(me.jsx)("div",{style:{marginLeft:"40px"},children:x?Object(me.jsxs)(me.Fragment,{children:[rn("\xdcr\xfcn",x.description),rn("Son \u0130\u015flem Tarihi",J(x.last_location_date)),rn("Marka",null===(n=j.brand.filter((function(e){return e.type===x.brand}))[0])||void 0===n?void 0:n.text),rn("Sipari\u015f No",x.order_no),rn("Sipari\u015f Miktar\u0131",String(x.order_amount)),rn("Tip",null!==(a=j.type.filter((function(e){return e.type===x.type}))[0])&&void 0!==a&&a.text?null===(i=j.type.filter((function(e){return e.type===x.type}))[0])||void 0===i?void 0:i.text:null===(o=j.machine_type.filter((function(e){return e.type===x.type}))[0])||void 0===o?void 0:o.text),rn("So\u011futucu Tipi",null===(c=j.cooler_type.filter((function(e){return e.type===x.cooler_type}))[0])||void 0===c?void 0:c.text),rn("Kazan Boyutu",x.tank_size+" LT"),rn("Pompa",null===(l=j.pump.filter((function(e){return e.type===x.pump}))[0])||void 0===l?void 0:l.text),rn("Pompa Seri No",null===x||void 0===x?void 0:x.pump_serial),rn("Model Y\u0131l\u0131",x.year),rn("Meme Tipi",x.meme_type),rn("Meme Aral\u0131\u011f\u0131",x.meme_distance),rn("\xc7eki Tipi",null===(s=j.tow_type.filter((function(e){return e.type===x.tow_type}))[0])||void 0===s?void 0:s.text),rn("Kol Tipi",null===(u=j.arm_type.filter((function(e){return e.type===x.arm_type}))[0])||void 0===u?void 0:u.text),rn("Kol Uzunlu\u011fu",x.arm_length),rn("\u015ease Rengi",null===(d=j.chassis_color.filter((function(e){return e.type===x.chassis_color}))[0])||void 0===d?void 0:d.text),rn("Kazan Rengi",U(x.caldron_color)),rn("Kazan Tipi",null===(m=j.caldron_type.filter((function(e){return e.type===x.caldron_type}))[0])||void 0===m?void 0:m.text),rn("Kumanda",null===(h=j.commander.filter((function(e){return e.type===x.commander}))[0])||void 0===h?void 0:h.text),rn("Alternatif \xd6zellikler",x.alt_features),Object(me.jsx)(A.a,{type:"primary",onClick:function(){return _(!0)},children:"\u0130\u015flem Ge\xe7mi\u015fini G\xf6ster"}),Object(me.jsx)($t,{serial_number:b,machine_id:x.id,isVisible:k,setIsVisible:_})]}):Object(me.jsx)(Wt.a,{style:{margin:"25%"},size:"large"})})},Bn=n(120);Bn.locale("tr");var Mn=function(e){Object(I.a)(n,e);var t=Object(z.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,o=t.clearFilters;return Object(me.jsxs)("div",{style:{padding:8},children:[Object(me.jsx)(de.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(me.jsx)(A.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(me.jsx)(A.a,{onClick:function(){return r.handleReset(o)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(me.jsx)(Nt.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={csvdata:[["Seri No","Teslim Tarihi","M\xfc\u015fteri","Telefon No","Adres"]],orderDetails:{},loading:!1,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(d.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},r.getColumnSearchProps("serial_number")),{title:"Teslim Tarihi",dataIndex:"row_created_date",sorter:function(e,t){return Bn(e.row_created_date).unix()-Bn(t.row_created_date).unix()},render:function(e){return Object(me.jsx)("td",{children:J(e)})}},Object(d.a)({title:"M\xfc\u015fteri",dataIndex:"customer",sorter:function(e,t){return e.customer.localeCompare(t.customer)}},r.getColumnSearchProps("customer")),Object(d.a)({title:"Telefon No",dataIndex:"phone_number"},r.getColumnSearchProps("phone_number")),Object(d.a)({title:"Adres",dataIndex:"address"},r.getColumnSearchProps("address")),Object(d.a)({title:"A\xe7\u0131klama",dataIndex:"comment"},r.getColumnSearchProps("comment"))]},r.componentDidMount=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot();case 2:t=e.sent,r.setState({data:t});case 4:case"end":return e.stop()}}),e)}))),r}return Object(C.a)(n,[{key:"render",value:function(){var e=this.state;return Object(me.jsx)(V.a,{rowKey:function(e){return"key"+e.serial_number},size:"small",loading:this.state.loading,pagination:{defaultPageSize:10,position:["bottomRight"]},columns:this.state.columns,dataSource:e.data,expandable:{expandedRowRender:function(e){return Object(me.jsx)(zn,{serial_number:e.serial_number})}}})}}]),n}(a.a.Component),Fn=n(105),Dn=n(90),An=n.n(Dn);N.a.locale("tr");var Pn=function(e){Object(I.a)(n,e);var t=Object(z.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,o=t.clearFilters;return Object(me.jsxs)("div",{style:{padding:8},children:[Object(me.jsx)(de.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(me.jsx)(A.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(me.jsx)(A.a,{onClick:function(){return r.handleReset(o)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(me.jsx)(Nt.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={csvdata:[[]],orderDetails:{},loading:!1,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(d.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no-t.order_no}},r.getColumnSearchProps("order_no")),Object(d.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},r.getColumnSearchProps("serial_number")),{},{},Object(d.a)({title:"Planlanan \xdcretim Tarihi",dataIndex:"planned_date",sorter:function(e,t){return N()(""!==e.planned_date?e.planned_date:"25 Temmuz 2500","D MMMM YYYY").unix()-N()(""!==t.planned_date?t.planned_date:"25 Temmuz 2500","D MMMM YYYY").unix()}},r.getColumnSearchProps("planned_date")),Object(d.a)({title:"Son \u0130\u015flem Tarihi",dataIndex:"last_operation_date",sorter:function(e,t){return N()(e.last_operation_date,"D MMMM YYYY, HH:mm").unix()-N()(t.last_operation_date,"D MMMM YYYY, HH:mm").unix()}},r.getColumnSearchProps("last_operation_date")),Object(d.a)({title:"Durum",dataIndex:"status",sorter:function(e,t){return e.status.localeCompare(t.status)}},r.getColumnSearchProps("status")),Object(d.a)({title:"\xdcr\xfcn Tipi",dataIndex:"production_unit",sorter:function(e,t){return e.production_unit.localeCompare(t.production_unit)}},r.getColumnSearchProps("production_unit")),Object(d.a)({title:"Depo Boyutu",dataIndex:"tank_size",sorter:function(e,t){return e.tank_size-t.tank_size}},r.getColumnSearchProps("tank_size")),Object(d.a)({title:"Depo Rengi",dataIndex:"caldron_color"},r.getColumnSearchProps("caldron_color")),{title:"Depo Tipi",dataIndex:"caldron_type",sorter:function(e,t){var n;return null===e||void 0===e||null===(n=e.caldron_type)||void 0===n?void 0:n.localeCompare(null===t||void 0===t?void 0:t.caldron_type)}},{title:"Marka",dataIndex:"brand",sorter:function(e,t){return e.brand.localeCompare(t.brand)}},{title:"\u0130\u015flemler",render:function(e,t){return Object(me.jsxs)("td",{children:["admin"==r.props.user.role||"tankproducer"==r.props.user.role?Object(me.jsx)(A.a,{block:!0,style:{marginBottom:10},type:"primary",onClick:function(){r.printQRCode("TU"+t.serial_number)},children:"QR Kodu Yazd\u0131r"}):null,"tankproducer"==r.props.user.role&&("Onay Bekliyor"===t.status||"\xdcretiliyor (Onayland\u0131)"===t.status)&&Object(me.jsx)(A.a,{block:!0,style:{marginBottom:10},type:"primary",onClick:function(){ht("Onay Bekliyor"===t.status?"pending":"\xdcretiliyor (Onayland\u0131)"===t.status?"confirmed":"",t.id).then(Object(w.a)(Object(S.a)().mark((function e(){var t,n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt();case 2:t=e.sent,n=r.filterResult(t),r.setState({data:n});case 5:case"end":return e.stop()}}),e)}))))},children:"Onay Bekliyor"===t.status?"Onayla":"\xdcretiliyor (Onayland\u0131)"===t.status?"\xdcretildi Olarak \u0130\u015faretle":""})]})}}]},r.componentDidMount=Object(w.a)(Object(S.a)().mark((function e(){var t,n,a;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt();case 2:t=e.sent,n=r.filterResult(t),r.setState({data:n}),a=[["Sipari\u015f No","M\xfc\u015fteri","Sipari\u015f Tarihi","Son \u0130\u015flem Tarihi","Durum","Depo Boyutu","Kazan Tipi","Kazan Rengi","Marka"]],t.forEach((function(e){return a.push([e.order_no,e.customer,e.order_date,e.last_operation_date,e.status,e.tank_size,e.caldron_type,e.caldron_color,e.brand])})),r.setState({csvdata:a});case 8:case"end":return e.stop()}}),e)}))),r}return Object(C.a)(n,[{key:"printQRCode",value:function(e){var t=window.open("","","height=1024, width=1024"),n=Object(Be.renderToString)(Object(me.jsxs)("div",{style:{width:"50mm",height:"64mm"},children:[Object(me.jsx)(An.a,{value:e,style:{height:"44mm",width:"44mm",margin:"3mm"},renderAs:"svg"}),Object(me.jsx)("p",{style:{margin:10},children:e})]}));null===t||void 0===t||t.document.write(String(n)),t.document.body.style.margin=0,null===t||void 0===t||t.document.close(),null===t||void 0===t||t.print()}},{key:"filterResult",value:function(e){return e.forEach((function(e){e.last_operation_date=e.deliver_date?N()(e.deliver_date).format("D MMMM YYYY, HH:mm"):e.producted_date?N()(e.producted_date).format("D MMMM YYYY, HH:mm"):e.confirmed_date?N()(e.confirmed_date).format("D MMMM YYYY, HH:mm"):N()(e.order_date).format("D MMMM YYYY, HH:mm"),e.order_date=N()(e.order_date).format("D MMMM YYYY, HH:mm"),e.planned_date=e.planned_date?N()(e.planned_date).format("D MMMM YYYY"):"",e.brand=U(e.brand),e.status="delivered"==e.status?"Teslim Edildi":"producted"==e.status?"\xdcretim Tamamland\u0131 (Haz\u0131r)":"confirmed"==e.status?"\xdcretiliyor (Onayland\u0131)":"cancelled"==e.status?"\u0130ptal Edildi":"ontheway"==e.status?"Yolda (Saruhanl\u0131ya G\xf6nderildi)":"pending"===e.status?"Onay Bekliyor":e.status,e.caldron_type=e.caldron_type?U(e.caldron_type):"",e.caldron_color=U(e.caldron_color),e.status=U(e.status)})),e}},{key:"render",value:function(){var e=this.state;return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(V.a,{rowKey:function(e){return"key"+e.id},size:"small",loading:this.state.loading,pagination:{defaultPageSize:10,position:["bottomRight"]},columns:this.state.columns,dataSource:e.data}),Object(me.jsx)(A.a,{style:{float:"right",marginRight:10},type:"primary",children:Object(me.jsx)(Fn.CSVLink,{data:e.csvdata,children:"CSV'ye aktar"})})]})}}]),n}(a.a.Component),Gn=Object(c.b)((function(e,t){return{user:e.auth.user}}))(Pn),Rn=n(120);Rn.locale("tr");var Vn=function(e){Object(I.a)(n,e);var t=Object(z.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,o=t.clearFilters;return Object(me.jsxs)("div",{style:{padding:8},children:[Object(me.jsx)(de.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(me.jsx)(A.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(me.jsx)(A.a,{onClick:function(){return r.handleReset(o)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(me.jsx)(Nt.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={orderModalVisible:!1,orderDetails:{},loading:!1,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(d.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no.localeCompare(t.order_no)}},r.getColumnSearchProps("order_no")),Object(d.a)({title:"M\xfc\u015fteri",dataIndex:"customer",sorter:function(e,t){return e.customer.localeCompare(t.customer)}},r.getColumnSearchProps("customer")),Object(d.a)({title:"Telefon No",dataIndex:"phone_number"},r.getColumnSearchProps("phone_number")),Object(d.a)({title:"Adres",dataIndex:"address"},r.getColumnSearchProps("address")),Object(d.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},r.getColumnSearchProps("serial_number")),{title:"\xdcr\xfcn Tipi",dataIndex:"production_unit",render:function(e){return Object(me.jsx)("td",{children:U(e)})},sorter:function(e,t){return e.production_unit.localeCompare(t.production_unit)}},{title:"Sipari\u015f Tarihi",dataIndex:"last_location_date",render:function(e){return Object(me.jsx)("td",{children:J(e)})},sorter:function(e,t){return Rn(e.last_location_date).unix()-Rn(t.last_location_date).unix()}},{title:"\u0130\u015flemler",render:function(e,t){return Object(me.jsx)("td",{children:"admin"==r.props.user.role?Object(me.jsx)(A.a,{disabled:"diger"!=t.production_unit&&!t.can_start_production,style:{marginBottom:10},type:"primary",onClick:function(){bt(t.production_unit,t.id).then((function(e){e&&r.GetPendingOrdersData()}))},children:"\xdcretime Ba\u015fla"}):null})},sorter:function(e,t){return("diger"!=e.production_unit&&!e.can_start_production)-("diger"!=t.production_unit&&!t.can_start_production)}}]},r.componentDidMount=function(){r.GetPendingOrdersData()},r.GetPendingOrdersData=function(){qe().then((function(e){r.setState({data:e})}))},r}return Object(C.a)(n,[{key:"render",value:function(){var e=this.state;return Object(me.jsx)(V.a,{rowKey:function(e){return"key"+e.id},size:"small",loading:e.loading,pagination:{defaultPageSize:10,position:["bottomRight"]},columns:e.columns,dataSource:e.data,expandable:{expandedRowRender:function(e){return Object(me.jsx)(zn,{serial_number:e.serial_number})}}})}}]),n}(a.a.Component),Kn=Object(c.b)((function(e,t){return{user:e.auth.user}}))(Vn);N.a.locale("tr");var Ln=function(e){Object(I.a)(n,e);var t=Object(z.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,o=t.clearFilters;return Object(me.jsxs)("div",{style:{padding:8},children:[Object(me.jsx)(de.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(me.jsx)(A.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(me.jsx)(A.a,{onClick:function(){return r.handleReset(o)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(me.jsx)(Nt.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={csvdata:[["Seri No","Sipari\u015f No","Sipari\u015f Tarihi","M\xfc\u015fteri","Telefon","Adres","Sipari\u015f Alan","Sipari\u015f \xd6zellikleri","Durum","\xdcretim Birimi"]],movableMachines:[],orderModalVisible:!1,orderDetails:{},loading:!1,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(d.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no.localeCompare(t.order_no)}},r.getColumnSearchProps("order_no")),Object(d.a)({title:"M\xfc\u015fteri",dataIndex:"customer",sorter:function(e,t){return e.customer.localeCompare(t.customer)}},r.getColumnSearchProps("customer")),Object(d.a)({title:"Telefon No",dataIndex:"phone_number"},r.getColumnSearchProps("phone_number")),Object(d.a)({title:"Adres",dataIndex:"address"},r.getColumnSearchProps("address")),Object(d.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},r.getColumnSearchProps("serial_number")),{title:"\xdcr\xfcn Tipi",dataIndex:"production_unit",render:function(e){return Object(me.jsx)("td",{children:U(e)})},sorter:function(e,t){return e.production_unit.localeCompare(t.production_unit)}},{title:"Son \u0130\u015flem Tarihi",dataIndex:"last_location_date",defaultSortOrder:"descend",render:function(e){return Object(me.jsx)("td",{children:J(e)})},sorter:function(e,t){return N()(e.last_location_date).unix()-N()(t.last_location_date).unix()}},Object(d.a)({title:"Bulundu\u011fu Konum",dataIndex:"location",sorter:function(e,t){return e.location.localeCompare(t.location)}},r.getColumnSearchProps("location"))]},r.componentDidMount=function(){var e=[["Seri No","Sipari\u015f No","Sipari\u015f Tarihi","M\xfc\u015fteri","Telefon","Adres","Sipari\u015f Alan","Durum","\xdcretim Birimi","Sipari\u015f \xd6zellikleri"]];vt().then((function(t){var n,a,i=null===t||void 0===t?void 0:t.filter((function(e){return!("iptal"==e.location||"teslimat"==e.location||"onaybekliyor"==e.location)}));i=null===(n=i)||void 0===n?void 0:n.map((function(e){return e.location=W(e.location),e})),r.setState({data:i,csvDataloaded:!0}),null===(a=r.state.data)||void 0===a||a.forEach((function(t){var n=t.brand+"$"+t.production_unit+"$"+t.caldron_color+"$"+t.caldron_type+"$"+t.cooler_type+"$"+t.fan_radius+"$"+t.fan_type+"$"+t.pump+"$"+t.meme_distance+"$"+t.meme_type+"$"+t.tank_size+"$"+t.type+"$"+t.tow_type+"$"+t.alt_features+"$"+t.year;e.push([t.serial_number,t.order_no,t.date,t.customer,t.phone_number,t.address,t.order_tooker,t.location,t.production_unit,n])})),r.setState({csvdata:e})}))},r}return Object(C.a)(n,[{key:"render",value:function(){var e=this.state;return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)(V.a,{rowKey:function(e){return"key"+e.last_location_date+e.serial_number},size:"small",loading:this.state.loading,pagination:{defaultPageSize:10,position:["bottomRight"]},columns:this.state.columns,dataSource:e.data,expandable:{expandedRowRender:function(e){return Object(me.jsx)(zn,{serial_number:e.serial_number})}}})})}}]),n}(a.a.Component),En=n(175);function Yn(){return(Yn=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/report/",{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(200===e.status)return e.data})).catch((function(){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nn=function(e){Object(I.a)(n,e);var t=Object(z.a)(n);function n(){var e;Object(T.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).OrderStartDate="",e.OrderEndDate="",e.StatusStartDate="",e.StatusEndDate="",e}return Object(C.a)(n)}(Ae);function qn(){return(qn=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.put(si+"/api/report/ExportToCSV",t,{headers:{Authorization:"Bearer "+q()},responseType:"blob"}).then((function(e){if(200===e.status)return En.saveAs(e.data,"rapor.xlsx"),e.data})).catch((function(){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hn(){return(Hn=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.put(si+"/api/report/ExportToCSVByGroupMachine",t,{headers:{Authorization:"Bearer "+q()},responseType:"blob"}).then((function(e){if(200===e.status)return En.saveAs(e.data,"rapor.xlsx"),e.data})).catch((function(){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Un=n(585),Jn=Un.a.Title;var Wn=function(e){var t=e.title,n=e.data,r=e.color;return Object(me.jsx)("div",{style:{boxSizing:"border-box",overflow:"auto",maxWidth:"100%",margin:10,borderRadius:10},children:Object(me.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignContent:"center",width:"100%",backgroundColor:r,padding:5},children:[Object(me.jsx)(Jn,{level:5,style:{margin:0,color:"white"},children:t}),Object(me.jsx)(Jn,{level:3,style:{margin:0,color:"white"},children:n})]})})},Qn=n(163);N.a.locale("tr");var $n=Un.a.Title,Xn=Ie.a.RangePicker;var Zn=function(){var e=Object(s.f)(),t=Object(r.useState)(!1),n=Object(p.a)(t,2),a=n[0],i=n[1],o={turbo:"Turbo \xdcretimde",kollu:"Kollu \xdcretimde",diger:"Di\u011fer \xdcretimde",test:"Testte",iptal:"\u0130ptal Edilmi\u015f",onaybekliyor:"\xdcretim Onay\u0131 Bekliyor",teslimat:"Teslim Edilmi\u015f",depo:"Depoda",bahce:"Bah\xe7ede","planland\u0131":"Planland\u0131"};return Object(me.jsx)("div",{style:{boxSizing:"border-box",overflow:"auto",maxWidth:"100%",margin:10,borderRadius:10},children:Object(me.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignContent:"center",width:"100%",backgroundColor:"rgb(240,240,240)",padding:"5%"},children:[Object(me.jsx)($n,{level:4,children:"Sipari\u015fleri CSV'ye aktar"}),Object(me.jsxs)(ue.a,Object(d.a)(Object(d.a)({},{labelCol:{span:6},wrapperCol:{span:24}}),{},{name:"reportPrefences",onFinish:function(t){var n,r=new Nn;null===(n=t["bulundugu-konum"])||void 0===n||n.forEach((function(e){r[e]=!0})),r.OrderStartDate=t["siparis-tarihi"][0],r.OrderEndDate=t["siparis-tarihi"][1],r.StatusStartDate=t["son-islem-tarihi"][0],r.StatusEndDate=t["son-islem-tarihi"][1],a?function(e){return Hn.apply(this,arguments)}(r).then((function(t){t&&(console.log("excel file donwloaded"),e.push("/"))})):function(e){return qn.apply(this,arguments)}(r).then((function(t){t&&(console.log("excel file donwloaded"),e.push("/"))}))},initialValues:{"bulundugu-konum":["turbo","kollu","diger","test"],"siparis-tarihi":[N()().startOf("year"),N()().add(1,"days")],"son-islem-tarihi":[N()().startOf("year"),N()().add(1,"days")]},children:[Object(me.jsx)(ue.a.Item,{label:"Sipari\u015f Tarihi",name:"siparis-tarihi",children:Object(me.jsx)(Xn,{})}),Object(me.jsx)(ue.a.Item,{label:"Son \u0130\u015flem Tarihi",name:"son-islem-tarihi",children:Object(me.jsx)(Xn,{})}),Object(me.jsx)(ue.a.Item,{name:"bulundugu-konum",children:Object(me.jsx)(Qn.a.Group,{children:Object(me.jsx)(G.a,{children:Object.keys(o).map((function(e){return Object(me.jsx)(R.a,{span:12,children:Object(me.jsx)(Qn.a,{value:e,style:{lineHeight:"32px"},children:o[e]})},"exportcsvcheckbox"+e)}))})})}),Object(me.jsxs)(G.a,{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[Object(me.jsx)(Qn.a,{onChange:function(){return i(!a)},children:"Grupla"}),Object(me.jsx)(A.a,{htmlType:"submit",type:"primary",children:"Excel'e Aktar"})]})]}))]})})},er=n(117),tr=n.n(er),nr=n(101),rr=n.n(nr);n(120).locale("tr");B.a.Header,B.a.Footer,B.a.Sider,B.a.Content;var ar=function(e){Object(I.a)(n,e);var t=Object(z.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.state={reports:null},r.searchInput=void 0,r}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=this;(function(){return Yn.apply(this,arguments)})().then((function(t){t&&(t.test_bugun_yapilan_is=e.uniq(t.test_bugun_yapilan_is),t.turbo_bugun_yapilan_is=e.uniq(t.turbo_bugun_yapilan_is),t.diger_bugun_yapilan_is=e.uniq(t.diger_bugun_yapilan_is),t.teslimat_bugun_yapilan_is=e.uniq(t.teslimat_bugun_yapilan_is),t.kollu_bugun_yapilan_is=e.uniq(t.kollu_bugun_yapilan_is)),t&&e.setState({reports:t})}))}},{key:"uniq",value:function(e){return Array.from(new Set(e))}},{key:"renderReports",value:function(){var e=this.state.reports;return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(Wn,{title:"Toplam Onay Bekleyen Sipari\u015f",data:null===e||void 0===e?void 0:e.toplam_siparis,color:"#4A66C5"}),Object(me.jsx)(Wn,{title:"Kollu Onay Bekleyen Sipari\u015f",data:null===e||void 0===e?void 0:e.kollu_siparis,color:"#898C94"}),Object(me.jsx)(Wn,{title:"Kollu \xdcretimde",data:null===e||void 0===e?void 0:e.kollugereken,color:"#FF7800"}),Object(me.jsx)(Wn,{title:"Kollu Planlanan",data:null===e||void 0===e?void 0:e.kolluplanlanan,color:"#EE204D"}),Object(me.jsx)(Wn,{title:"Turbo Onay Bekleyen Sipari\u015f",data:null===e||void 0===e?void 0:e.turbo_siparis,color:"#9C459E"}),Object(me.jsx)(Wn,{title:"Turbo \xdcretimde",data:null===e||void 0===e?void 0:e.turbogereken,color:"#8EBF00"}),Object(me.jsx)(Wn,{title:"Turbo Planlanan",data:null===e||void 0===e?void 0:e.turboplanlanan,color:"#4A66C5"})]})}},{key:"renderStocks",value:function(){var e=this.state.reports;return Object(me.jsx)(me.Fragment,{children:Object.keys(null===e||void 0===e?void 0:e.stocks).length>0?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(Wn,{title:"Di\u011fer Onay Bekleyen Sipari\u015f",data:null===e||void 0===e?void 0:e.diger_siparis,color:"#00C5CD"}),Object(me.jsx)(Wn,{title:"Di\u011fer \xdcretimde",data:null===e||void 0===e?void 0:e.digergereken,color:"#499370"}),Object(me.jsx)(Wn,{title:"Di\u011fer Planlanan",data:null===e||void 0===e?void 0:e.digerplanlanan,color:"#8EBF00"}),Object(me.jsx)(Wn,{title:"Bah\xe7edeki Turbo Makinalar",data:null!==e&&void 0!==e&&e.stocks["bahce turbo"]?null===e||void 0===e?void 0:e.stocks["bahce turbo"]:0,color:"#B4674D"}),Object(me.jsx)(Wn,{title:"Depodaki Turbo Makinalar",data:null!==e&&void 0!==e&&e.stocks["depo turbo"]?null===e||void 0===e?void 0:e.stocks["depo turbo"]:0,color:"#EE204D"}),Object(me.jsx)(Wn,{title:"Bah\xe7edeki Kollu Makinalar",data:null!==e&&void 0!==e&&e.stocks["bahce kollu"]?null===e||void 0===e?void 0:e.stocks["bahce kollu"]:0,color:"#1A4876"}),Object(me.jsx)(Wn,{title:"Depodaki Kollu Makinalar",data:null!==e&&void 0!==e&&e.stocks["depo kollu"]?null===e||void 0===e?void 0:e.stocks["bahce kollu"]:0,color:"#8EE53F"}),Object(me.jsx)(Wn,{title:"Bah\xe7edeki Di\u011fer Makinalar",data:null!==e&&void 0!==e&&e.stocks["bahce diger"]?null===e||void 0===e?void 0:e.stocks["bahce diger"]:0,color:"#FF7518"}),Object(me.jsx)(Wn,{title:"Depodaki Di\u011fer Makinalar",data:null!==e&&void 0!==e&&e.stocks["depo diger"]?null===e||void 0===e?void 0:e.stocks["depo diger"]:0,color:"#00C5CD"})]}):Object(me.jsx)(Wt.a,{})})}},{key:"renderDailyCompletedTasks",value:function(){var e=this;return Object(me.jsx)("div",{style:{boxSizing:"border-box",overflow:"auto",maxWidth:"100%",margin:10,borderRadius:10},children:Object(me.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignContent:"center",width:"100%",backgroundColor:"#1A4876",padding:5},children:[Object(me.jsx)(tr.a,{level:3,style:{color:"white",textAlign:"center"},children:"Bug\xfcn Yap\u0131lan \u0130\u015fler"}),Object(me.jsxs)(G.a,{gutter:[0,24],children:[Object(me.jsxs)(R.a,{xs:24,sm:12,md:12,style:{alignItems:"center"},children:[Object(me.jsx)(tr.a,{level:5,style:{margin:0,color:"white",textAlign:"center"},children:"Turbo \xdcretilen Makineler"}),function(){var t,n;return null===(t=e.state)||void 0===t||null===(n=t.reports)||void 0===n?void 0:n.turbo_bugun_yapilan_is.map((function(e){return Object(me.jsx)(G.a,{children:Object(me.jsx)(rr.a,{code:!0,style:{margin:0,width:"100%",color:"white"},children:e})},"turborowkey"+e)}))}()]}),Object(me.jsxs)(R.a,{xs:24,sm:12,md:12,style:{alignItems:"center"},children:[Object(me.jsx)(tr.a,{level:5,style:{margin:0,color:"white",textAlign:"center"},children:"Kollu \xdcretilen Makineler"}),function(){var t,n;return null===(t=e.state)||void 0===t||null===(n=t.reports)||void 0===n?void 0:n.kollu_bugun_yapilan_is.map((function(e){return Object(me.jsx)(G.a,{children:Object(me.jsx)(rr.a,{code:!0,style:{margin:0,width:"100%",color:"white"},children:e})},"kollurowkey"+e)}))}()]}),Object(me.jsxs)(R.a,{xs:24,sm:12,md:12,style:{alignItems:"center"},children:[Object(me.jsx)(tr.a,{level:5,style:{margin:0,color:"white",textAlign:"center"},children:"Di\u011fer \xdcretilen Makineler"}),function(){var t,n;return null===(t=e.state)||void 0===t||null===(n=t.reports)||void 0===n?void 0:n.diger_bugun_yapilan_is.map((function(e){return Object(me.jsx)(G.a,{children:Object(me.jsx)(rr.a,{code:!0,style:{margin:0,width:"100%",color:"white"},children:e})},"digerrowkey"+e)}))}()]}),Object(me.jsxs)(R.a,{xs:24,sm:12,md:12,style:{alignItems:"center"},children:[Object(me.jsx)(tr.a,{level:5,style:{margin:0,color:"white",textAlign:"center"},children:"Test Edilen Makineler"}),function(){var t,n;return null===(t=e.state)||void 0===t||null===(n=t.reports)||void 0===n?void 0:n.test_bugun_yapilan_is.map((function(e){return Object(me.jsx)(G.a,{children:Object(me.jsx)(rr.a,{code:!0,style:{margin:0,width:"100%",color:"white"},children:e})},"testrowkey"+e)}))}()]}),Object(me.jsxs)(R.a,{xs:24,sm:12,md:12,style:{alignItems:"center"},children:[Object(me.jsx)(tr.a,{level:5,style:{margin:0,color:"white",textAlign:"center"},children:"Teslim Edilen Makineler"}),function(){var t,n;return null===(t=e.state)||void 0===t||null===(n=t.reports)||void 0===n?void 0:n.teslimat_bugun_yapilan_is.map((function(e){return Object(me.jsx)(G.a,{children:Object(me.jsx)(rr.a,{code:!0,style:{margin:0,width:"100%",color:"white"},children:e})},"teslimatrowkey"+e)}))}()]})]})]})})}},{key:"render",value:function(){return Object(me.jsx)(B.a,{children:this.state.reports?Object(me.jsxs)(G.a,{children:[Object(me.jsx)(R.a,{xs:24,sm:24,md:12,lg:8,xl:6,children:this.state.reports?this.renderReports():Object(me.jsx)(Wt.a,{})}),Object(me.jsx)(R.a,{xs:24,sm:24,md:12,lg:8,xl:6,children:this.state.reports?this.renderStocks():Object(me.jsx)(Wt.a,{})}),Object(me.jsxs)(R.a,{xs:24,sm:24,md:12,lg:8,xl:12,children:[Object(me.jsx)(R.a,{xs:24,sm:24,md:24,lg:24,xl:24,children:this.state.reports?this.renderDailyCompletedTasks():Object(me.jsx)(Wt.a,{})}),Object(me.jsx)(R.a,{xs:24,sm:24,md:24,lg:24,xl:24,children:Object(me.jsx)(Zn,{})})]})]}):Object(me.jsx)(Wt.a,{style:{alignSelf:"center"}})})}}]),n}(a.a.Component),ir=ar,or=n(591);function cr(){return(cr=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,E.a.post(si+"/api/ProductionPlan/CreatePlan",t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(e)return n(),!0})).catch((function(e){return F.a.error({title:"Hata",content:Object(me.jsx)("p",{children:"Plan olu\u015fturulurken bir hata olu\u015ftu l\xfctfen tekrar deneyin.."}),okText:"Tamam"}),!1}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lr(){return(lr=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.put(si+"/api/ProductionPlan/CancelPlan/".concat(t),null,{headers:{Authorization:"Bearer "+q()}}).then((function(e){if(e)return n(),!0})).catch((function(e){return F.a.error({title:"Hata",content:Object(me.jsx)("p",{children:"Sipari\u015f iptal edilirken bir hata olu\u015ftu.L\xfctfen tekrar deneyin.."}),okText:"Tamam"}),!1}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sr(){return(sr=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/ProductionPlan/GetPlans",{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ur(){return dr.apply(this,arguments)}function dr(){return(dr=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/ProductionTasks/GetChassisProductionTasks",{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pr(){return mr.apply(this,arguments)}function mr(){return(mr=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/ProductionTasks/GetArmProductionTasks",{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hr(){return(hr=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,E.a.post(si+"/api/Task/AddGenericTask",t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){return console.log(e),e.data})).catch((function(e){return null}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jr(e){return br.apply(this,arguments)}function br(){return(br=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.put(si+"/api/Task/ModifyGenericTask",t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){return!0})).catch((function(e){return!1}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fr(){return(fr=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/Task/GetGenericTasksWeb",{headers:{Authorization:"Bearer "+q()}}).then((function(e){return console.log(e),e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Or(){return(Or=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/Task/GetGenericTasksWithRole/".concat(t),{headers:{Authorization:"Bearer "+q()}}).then((function(e){return console.log(e),e.data})).catch((function(e){return null}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xr(){return(xr=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/Task/GetFinishedGenericTasks",{headers:{Authorization:"Bearer "+q()}}).then((function(e){return console.log(e),e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yr(e){return gr.apply(this,arguments)}function gr(){return(gr=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.delete(si+"/api/Task/DeleteGenericTask/"+t,{headers:{Authorization:"Bearer "+q()}}).then((function(e){return!0})).catch((function(e){return F.a.error({title:"Bir hata olu\u015ftu",content:Object(me.jsx)("p",{children:"L\xfctfen tekrar deneyin.."}),okText:"Tamam"}),!1}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vr(e,t){return kr.apply(this,arguments)}function kr(){return(kr=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.put(si+"/api/Task/DivideGenericTask/"+t+"/"+n,{},{headers:{Authorization:"Bearer "+q()}}).then((function(e){return!0})).catch((function(e){return F.a.error({title:"Bir hata olu\u015ftu",content:Object(me.jsx)("p",{children:"L\xfctfen tekrar deneyin.."}),okText:"Tamam"}),!1}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _r(e,t){return Sr.apply(this,arguments)}function Sr(){return(Sr=Object(w.a)(Object(S.a)().mark((function e(t,n){var r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.put("".concat(si,"/api/Task/UpdateGenericTask"),{id:t,amount:n},{headers:{Authorization:"Bearer "+q()}}).then((function(e){return console.log(e),e})).catch((function(e){return console.log(e),F.a.error({title:"Bir hata olu\u015ftu",content:Object(me.jsx)("p",{children:"L\xfctfen tekrar deneyin.."}),okText:"Tamam"}),!1}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wr(){return Tr.apply(this,arguments)}function Tr(){return(Tr=Object(w.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(si+"/api/ProductionTasks/GetFanProductionTasks",{headers:{Authorization:"Bearer "+q()}}).then((function(e){return e.data})).catch((function(e){return null}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cr=n(596),Ir=n(77),zr=M.a.Option;N.a.locale("tr");var Br,Mr={labelCol:{span:7},wrapperCol:{span:17}},Fr={wrapperCol:{offset:8,span:16}},Dr=function(e){Object(I.a)(n,e);var t=Object(z.a)(n);function n(e){var a,i;return Object(T.a)(this,n),(i=t.call(this,e)).configFile=JSON.parse(null!==(a=localStorage.getItem("config"))&&void 0!==a?a:"{}"),i.formRef=Object(r.createRef)(),i.state={loading:!0,selectedDate:null,pendingOrders:[],data:[],csvdata:[[]]},i.onFinish=function(e){var t;console.log("Success:",e),function(e,t){return cr.apply(this,arguments)}(Object(d.a)(Object(d.a)({},e),{},{planned_date:null===(t=i.state)||void 0===t?void 0:t.selectedDate.format()}),i.GetData).then((function(){var e;null===(e=i.formRef.current)||void 0===e||e.resetFields()}))},i.onFinishFailed=function(e){console.log("Failed:",e)},i.SaveExcel=function(e){console.log("clikced");var t=Ir.a.aoa_to_sheet(e),n=Ir.a.book_new();Ir.a.book_append_sheet(n,t,"Sheet1"),Ir.b(n,"DataSheet.xlsx")},i.dateCellRender=i.dateCellRender.bind(Object(Yt.a)(i)),i.GetData=i.GetData.bind(Object(Yt.a)(i)),i}return Object(C.a)(n,[{key:"componentDidMount",value:function(){this.GetData()}},{key:"GetData",value:function(){var e=this;(function(){return sr.apply(this,arguments)})().then((function(t){e.setState({data:t}),console.log(t);var n=[["Planlanan Tarih","M\xfc\u015fteri","Seri No","\xdcr\xfcn","Durum"]];t.forEach((function(e){return n.push([J(e.planned_date),e.customer,e.serial_number,e.description,e.status])})),e.setState({csvdata:n,data:t,loading:!1})})),function(){return Ne.apply(this,arguments)}().then((function(t){e.setState({pendingOrders:t})}))}},{key:"dateCellRender",value:function(e){var t,n=null===(t=this.state.data)||void 0===t?void 0:t.filter((function(t){return e.isSame(t.planned_date,"day")}));return Object(me.jsx)("ul",{style:{margin:0,padding:0},className:"events",children:null===n||void 0===n?void 0:n.map((function(e){return Object(me.jsx)("li",{children:Object(me.jsx)(rr.a,{style:{fontSize:8},ellipsis:!0,children:e.serial_number})},e.serial_number)}))})}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedDate,r=t.pendingOrders,a=this.onFinish,i=this.onFinishFailed;return Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)(G.a,{children:[Object(me.jsx)(R.a,{md:24,lg:10,children:n?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(Jt.a,{style:{margin:"5%"},children:Object(me.jsxs)(ue.a,Object(d.a)(Object(d.a)({},Mr),{},{name:"basic",ref:this.formRef,onFinish:a,onFinishFailed:i,children:[Object(me.jsx)(tr.a,{level:5,children:"".concat(null===n||void 0===n?void 0:n.startOf("day").locale("tr").format("D MMMM YYYY")," Tarihine \u0130\u015f Ekle")}),Object(me.jsx)(ue.a.Item,{label:"\xdcretilecek Makinalar",name:"machine_ids",rules:[{required:!0,message:"L\xfctfen en az bir makine se\xe7in."}],children:Object(me.jsx)(M.a,{mode:"multiple",optionFilterProp:"children",filterOption:function(e,t){return(null===t||void 0===t?void 0:t.props.children.toLowerCase().indexOf(e.toLowerCase()))>=0},children:null===r||void 0===r?void 0:r.map((function(e){return Object(me.jsx)(zr,{value:e.id,children:e.customer+" "+e.serial_number})}))})}),Object(me.jsx)(ue.a.Item,Object(d.a)(Object(d.a)({},Fr),{},{children:"admin"==this.props.user.role&&Object(me.jsx)(A.a,{type:"primary",htmlType:"submit",children:"Ekle"})}))]}))}),Object(me.jsx)(Jt.a,{style:{margin:"5%"},children:function(){var t,n=null===(t=e.state.data)||void 0===t?void 0:t.filter((function(t){var n;return null===(n=e.state.selectedDate)||void 0===n?void 0:n.isSame(t.planned_date,"day")}));return Object(me.jsx)("ul",{style:{margin:0,padding:0},className:"events",children:null===n||void 0===n?void 0:n.map((function(t){return Object(me.jsx)("li",{children:Object(me.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",margin:5,padding:2,borderBottom:"0.5px solid"},children:[Object(me.jsx)(rr.a,{ellipsis:!0,children:t.customer+" - "+t.serial_number}),"admin"==e.props.user.role&&Object(me.jsx)(D.a,{title:"Bu plan\u0131 silmek istedi\u011finizden emin misiniz?",onConfirm:function(){!function(e,t){lr.apply(this,arguments)}(t.machine_id,e.GetData)},okText:"Evet",cancelText:"Hay\u0131r",children:Object(me.jsx)(A.a,{shape:"circle",icon:Object(me.jsx)(Cr.a,{}),danger:!0})})]})},t.serial_number)}))})}()})]}):null}),Object(me.jsxs)(R.a,{md:24,lg:14,children:[Object(me.jsx)(A.a,{loading:this.state.loading,style:{float:"right"},onClick:function(){return e.SaveExcel(e.state.csvdata)},children:"Excele Aktar"}),Object(me.jsx)(or.a,{onSelect:function(t){e.setState({selectedDate:N()(t)})},dateCellRender:this.dateCellRender})]})]})})}}]),n}(a.a.Component),Ar=Object(c.b)((function(e,t){return{user:e.auth.user}}))(Dr);function Pr(e){var t=e.machine_id,n=e.type,a=Object(r.useState)(null),i=Object(p.a)(a,2),o=i[0],l=i[1],s=Object(r.useState)(null),u=Object(p.a)(s,2),d=(u[0],u[1]);Object(c.d)((function(e){return e.auth.user}));return Object(r.useEffect)((function(){!function(){switch(n){case Br.arm:Ze(t).then((function(e){e.length>0&&(l(e),d(null===e||void 0===e?void 0:e.reduce((function(e,t){return e.row_created_date>t.row_created_date?e:t}))))}));break;case Br.fan:tt(t).then((function(e){e.length>0&&(l(e),d(null===e||void 0===e?void 0:e.reduce((function(e,t){return e.row_created_date>t.row_created_date?e:t}))))}));break;case Br.chassis:rt(t).then((function(e){e.length>0&&(l(e),d(null===e||void 0===e?void 0:e.reduce((function(e,t){return e.row_created_date>t.row_created_date?e:t}))))}))}}()}),[t]),o?Object(me.jsx)(Jt.a,{style:{marginBottom:5},title:n==Br.arm?"Kol \u0130\u015flem Ge\xe7mi\u015fi":n==Br.chassis?"\u015ease \u0130\u015flem Ge\xe7mi\u015fi":"Fan \u0130\u015flem Ge\xe7mi\u015fi",children:Object(me.jsx)(Ut.a,{mode:"left",style:{width:"100%"},children:null===o||void 0===o?void 0:o.map((function(e){return Object(me.jsxs)(Ut.a.Item,{label:J(e.row_created_date),children:[Object(me.jsx)("p",{children:Object(me.jsx)("b",{children:W(e.location)})}),Object(me.jsx)("p",{children:"G\xf6nderen: ".concat(e.name," ").concat(e.surname)})]},"timelinekey"+e.row_created_date)}))})}):null}!function(e){e[e.arm=0]="arm",e[e.fan=1]="fan",e[e.chassis=2]="chassis"}(Br||(Br={}));var Gr=function(e){var t=e.isVisible,n=e.setIsVisible,a=e.machine_id,i=e.serial_number,o=e.partType,l=Object(r.useState)(null),s=Object(p.a)(l,2),u=s[0],d=s[1],m=Object(r.useState)(null),h=Object(p.a)(m,2),j=h[0],b=h[1],f=Object(c.d)((function(e){return e.auth.user}));function O(){$e(a).then((function(e){console.log("GetOrderHistory"),e&&(d(e),b(null===e||void 0===e?void 0:e.reduce((function(e,t){return e.row_created_date>t.row_created_date?e:t}))))}))}return Object(r.useEffect)((function(){O()}),[a]),Object(me.jsx)(Ht.a,{title:i+" Numaral\u0131 Par\xe7an\u0131n \u0130\u015flem Ge\xe7mi\u015fi",visible:t,footer:null,onCancel:function(){return n(!1)},children:Object(me.jsx)("div",{style:{display:"flex",width:"100%",alignContent:"center",alignItems:"center",justifyContent:"center"},children:u?Object(me.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(me.jsx)(Pr,{machine_id:a,type:o}),Object(me.jsx)(Jt.a,{title:"Makine \u0130\u015flem Ge\xe7mi\u015fi",style:{marginBottom:5},children:Object(me.jsx)(Ut.a,{mode:"left",style:{width:"100%"},children:null===u||void 0===u?void 0:u.map((function(e){return Object(me.jsxs)(Ut.a.Item,{label:J(e.row_created_date),children:[Object(me.jsx)("p",{children:Object(me.jsx)("b",{children:W(e.location)})}),Object(me.jsx)("p",{children:"G\xf6nderen: ".concat(e.name," ").concat(e.surname)})]},"timelinekey"+e.row_created_date)}))})}),"admin"===f.role&&"onaybekliyor"!==(null===j||void 0===j?void 0:j.location)&&"iptal"!==(null===j||void 0===j?void 0:j.location)?Object(me.jsx)(D.a,{title:"Bu par\xe7ay\u0131 bir \xf6nceki konuma g\xf6ndermek istedi\u011finizden emin misiniz?",onConfirm:function(){switch(o){case Br.arm:(function(e){return xt.apply(this,arguments)})(a).then((function(e){e&&O()}));break;case Br.fan:(function(e){return Ot.apply(this,arguments)})(a).then((function(e){e&&O()}));break;case Br.chassis:(function(e){return yt.apply(this,arguments)})(a).then((function(e){e&&O()}))}},okText:"Evet",cancelText:"Hay\u0131r",children:Object(me.jsx)(A.a,{style:{marginBottom:10},type:"primary",children:"Bir \xd6nceki Konuma Geri G\xf6nder"})}):null]}):Object(me.jsx)(Wt.a,{size:"large"})})})},Rr=n(120);Rr.locale("tr");var Vr=function(e){Object(I.a)(n,e);var t=Object(z.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,o=t.clearFilters;return Object(me.jsxs)("div",{style:{padding:8},children:[Object(me.jsx)(de.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(me.jsx)(A.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(me.jsx)(A.a,{onClick:function(){return r.handleReset(o)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(me.jsx)(Nt.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={csvdata:[[]],orderDetails:{},loading:!1,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(d.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no.localeCompare(t.order_no)}},r.getColumnSearchProps("order_no")),Object(d.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},r.getColumnSearchProps("serial_number")),Object(d.a)(Object(d.a)({title:"Tip",dataIndex:"type",sorter:function(e,t){return e.type.localeCompare(t.type)}},r.getColumnSearchProps("type")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)(Object(d.a)({title:"Marka",dataIndex:"brand",sorter:function(e,t){return e.brand.localeCompare(t.brand)}},r.getColumnSearchProps("brand")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)(Object(d.a)({title:"Model",dataIndex:"description",sorter:function(e,t){return e.description.localeCompare(t.description)}},r.getColumnSearchProps("model")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)(Object(d.a)({title:"Fan Tipi",dataIndex:"cooler_type",sorter:function(e,t){return e.cooler_type.localeCompare(t.cooler_type)}},r.getColumnSearchProps("cooler_type")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)(Object(d.a)({title:"\u015ease Rengi",dataIndex:"chassis_color",sorter:function(e,t){return e.cooler_type.localeCompare(t.cooler_type)}},r.getColumnSearchProps("cooler_type")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)({title:"Depo Boyutu",dataIndex:"tank_size",sorter:function(e,t){return e.tank_size-t.tank_size}},r.getColumnSearchProps("tank_size")),Object(d.a)({title:"Durum",dataIndex:"location",sorter:function(e,t){return e.location.localeCompare(t.location)}},r.getColumnSearchProps("location")),Object(d.a)({title:"Son \u0130\u015flem Tarihi",dataIndex:"row_updated_date",sorter:function(e,t){return Rr(e.row_updated_date).unix()-Rr(t.row_updated_date).unix()}},r.getColumnSearchProps("row_updated_date")),{title:"\u0130\u015flemler",render:function(e,t){return Object(me.jsx)("td",{children:"admin"==r.props.user.role?Object(me.jsx)(A.a,{style:{marginBottom:10},type:"primary",onClick:function(){r.printQRCode("SU"+t.serial_number)},children:"QR Kodu Yazd\u0131r"}):null})}},{render:function(e,t){return Object(me.jsx)("td",{children:"admin"==r.props.user.role?Object(me.jsx)(A.a,{style:{marginBottom:10},type:"primary",onClick:function(){console.log("ID:"+t.machine_id),r.setState({historyModalVisible:!0,historyModalId:t.machine_id,orderSelected:{serial_number:t.serial_number,order_id:t.id}})},children:"\u0130\u015flem Ge\xe7mi\u015fi"}):null})}}]},r.componentDidMount=Object(w.a)(Object(S.a)().mark((function e(){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ur().then((function(e){var t,n;e=null===(t=e)||void 0===t?void 0:t.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{location:W(e.location),row_updated_date:J(e.row_updated_date)})})),r.setState({data:e});var a=[["Sipari\u015f No","Seri No","Tip","Marka","\xdcr\xfcn","Fan Tipi","\u015ease Rengi","Kazan Boyutu","Durum","Son \u0130\u015flem Tarihi"]];null===(n=e)||void 0===n||n.forEach((function(e){return a.push([e.order_no,e.serial_number,e.type,e.brand,e.description,e.cooler_type,e.chassis_color,e.tank_size,e.location,e.row_updated_date])})),r.setState({csvdata:a})}));case 1:case"end":return e.stop()}}),e)}))),r}return Object(C.a)(n,[{key:"printQRCode",value:function(e){var t=window.open("","","height=1024, width=1024"),n=Object(Be.renderToString)(Object(me.jsxs)("div",{style:{width:"50mm",height:"64mm"},children:[Object(me.jsx)(An.a,{value:e,style:{height:"44mm",width:"44mm",margin:"3mm"},renderAs:"svg"}),Object(me.jsx)("p",{style:{margin:10},children:e})]}));null===t||void 0===t||t.document.write(String(n)),t.document.body.style.margin=0,null===t||void 0===t||t.document.close(),null===t||void 0===t||t.print()}},{key:"render",value:function(){var e,t=this,n=this.state;return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(V.a,{rowKey:function(e){return"key"+e.id},size:"small",loading:this.state.loading,pagination:{defaultPageSize:10,position:["bottomRight"]},columns:this.state.columns,dataSource:n.data}),Object(me.jsx)(A.a,{style:{float:"right",marginRight:10},type:"primary",children:Object(me.jsx)(Fn.CSVLink,{separator:"$",data:n.csvdata,children:"CSV'ye aktar"})}),this.state.historyModalVisible?Object(me.jsx)(Gr,{isVisible:this.state.historyModalVisible,machine_id:this.state.historyModalId,serial_number:null===(e=this.state.orderSelected)||void 0===e?void 0:e.serial_number,partType:2,setIsVisible:function(e){return t.setState({historyModalVisible:e})}},this.state.historyModalId):null]})}}]),n}(a.a.Component),Kr=Object(c.b)((function(e,t){return{user:e.auth.user}}))(Vr),Lr=n(120);Lr.locale("tr");var Er=function(e){Object(I.a)(n,e);var t=Object(z.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,o=t.clearFilters;return Object(me.jsxs)("div",{style:{padding:8},children:[Object(me.jsx)(de.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(me.jsx)(A.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(me.jsx)(A.a,{onClick:function(){return r.handleReset(o)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(me.jsx)(Nt.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={csvdata:[[]],orderDetails:{},loading:!1,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(d.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no.localeCompare(t.order_no)}},r.getColumnSearchProps("order_no")),Object(d.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},r.getColumnSearchProps("serial_number")),Object(d.a)(Object(d.a)({title:"Tip",dataIndex:"type",sorter:function(e,t){return e.type.localeCompare(t.type)}},r.getColumnSearchProps("type")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)(Object(d.a)({title:"Marka",dataIndex:"brand",sorter:function(e,t){return e.brand.localeCompare(t.brand)}},r.getColumnSearchProps("brand")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)(Object(d.a)({title:"Model",dataIndex:"description",sorter:function(e,t){return e.description.localeCompare(t.description)}},r.getColumnSearchProps("model")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)(Object(d.a)({title:"Kol Tipi",dataIndex:"arm_type",sorter:function(e,t){return e.arm_type.localeCompare(t.arm_type)}},r.getColumnSearchProps("arm_type")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)(Object(d.a)({title:"Kol Uzunlu\u011fu",dataIndex:"arm_length",sorter:function(e,t){return e.arm_length.localeCompare(t.arm_length)}},r.getColumnSearchProps("arm_length")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)({title:"Durum",dataIndex:"location",sorter:function(e,t){return e.location.localeCompare(t.location)}},r.getColumnSearchProps("location")),Object(d.a)({title:"Son \u0130\u015flem Tarihi",dataIndex:"row_updated_date",sorter:function(e,t){return Lr(e.row_updated_date).unix()-Lr(t.row_updated_date).unix()}},r.getColumnSearchProps("row_updated_date")),{title:"\u0130\u015flemler",render:function(e,t){return Object(me.jsx)("td",{children:"admin"==r.props.user.role?Object(me.jsx)(A.a,{style:{marginBottom:10},type:"primary",onClick:function(){r.printQRCode("KU"+t.serial_number)},children:"QR Kodu Yazd\u0131r"}):null})}},{render:function(e,t){return Object(me.jsx)("td",{children:"admin"==r.props.user.role?Object(me.jsx)(A.a,{style:{marginBottom:10},type:"primary",onClick:function(){console.log("ID:"+t.machine_id),r.setState({historyModalVisible:!0,historyModalId:t.machine_id,orderSelected:{serial_number:t.serial_number,order_id:t.id}})},children:"\u0130\u015flem Ge\xe7mi\u015fi"}):null})}}]},r.componentDidMount=Object(w.a)(Object(S.a)().mark((function e(){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pr().then((function(e){var t,n;e=null===(t=e)||void 0===t?void 0:t.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{location:W(e.location),row_updated_date:J(e.row_updated_date)})})),r.setState({data:e});var a=[["Sipari\u015f No","Seri No","Tip","Marka","\xdcr\xfcn","Kol Tipi","Kol Uzunlu\u011fu","Durum","Son \u0130\u015flem Tarihi"]];null===(n=e)||void 0===n||n.forEach((function(e){return a.push([e.order_no,e.serial_number,e.type,e.brand,e.description,e.arm_type,e.arm_length,e.location,e.row_updated_date])})),r.setState({csvdata:a})}));case 1:case"end":return e.stop()}}),e)}))),r}return Object(C.a)(n,[{key:"printQRCode",value:function(e,t){var n=window.open("","","height=1024, width=1024"),r=Object(Be.renderToString)(Object(me.jsxs)("div",{style:{width:"50mm",height:"64mm"},children:[Object(me.jsx)(An.a,{value:e,style:{height:"44mm",width:"44mm",margin:"3mm"},renderAs:"svg"}),Object(me.jsx)("p",{style:{margin:10},children:e})]}));null===n||void 0===n||n.document.write(String(r)),n.document.body.style.margin=0,null===n||void 0===n||n.document.close(),null===n||void 0===n||n.print()}},{key:"render",value:function(){var e,t=this,n=this.state;return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(V.a,{rowKey:function(e){return"key"+e.id},size:"small",loading:this.state.loading,pagination:{defaultPageSize:10,position:["bottomRight"]},columns:this.state.columns,dataSource:n.data}),Object(me.jsx)(A.a,{style:{float:"right",marginRight:10},type:"primary",children:Object(me.jsx)(Fn.CSVLink,{separator:"$",data:n.csvdata,children:"CSV'ye aktar"})}),this.state.historyModalVisible?Object(me.jsx)(Gr,{isVisible:this.state.historyModalVisible,machine_id:this.state.historyModalId,serial_number:null===(e=this.state.orderSelected)||void 0===e?void 0:e.serial_number,partType:0,setIsVisible:function(e){return t.setState({historyModalVisible:e})}},this.state.historyModalId):null]})}}]),n}(a.a.Component),Yr=Object(c.b)((function(e,t){return{user:e.auth.user}}))(Er),Nr=n(120);Nr.locale("tr");var qr,Hr=function(e){Object(I.a)(n,e);var t=Object(z.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,o=t.clearFilters;return Object(me.jsxs)("div",{style:{padding:8},children:[Object(me.jsx)(de.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(me.jsx)(A.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(me.jsx)(A.a,{onClick:function(){return r.handleReset(o)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(me.jsx)(Nt.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={csvdata:[[]],orderDetails:{},loading:!1,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(d.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no.localeCompare(t.order_no)}},r.getColumnSearchProps("order_no")),Object(d.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},r.getColumnSearchProps("serial_number")),Object(d.a)(Object(d.a)({title:"Tip",dataIndex:"type",sorter:function(e,t){return e.type.localeCompare(t.type)}},r.getColumnSearchProps("type")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)(Object(d.a)({title:"Marka",dataIndex:"brand",sorter:function(e,t){return e.brand.localeCompare(t.brand)}},r.getColumnSearchProps("brand")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)(Object(d.a)({title:"Model",dataIndex:"description",sorter:function(e,t){return e.description.localeCompare(t.description)}},r.getColumnSearchProps("model")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)(Object(d.a)({title:"Fan Tipi",dataIndex:"cooler_type",sorter:function(e,t){return e.cooler_type.localeCompare(t.cooler_type)}},r.getColumnSearchProps("cooler_type")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)(Object(d.a)({title:"Pervane Tipi",dataIndex:"fan_type",sorter:function(e,t){return e.fan_type.localeCompare(t.fan_type)}},r.getColumnSearchProps("fan_type")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)({title:"Pervane \xc7ap\u0131",dataIndex:"fan_radius",sorter:function(e,t){return e.fan_radius-t.fan_radius}},r.getColumnSearchProps("fan_radius")),Object(d.a)({title:"Meme Tipi",dataIndex:"meme_type",sorter:function(e,t){return e.meme_type-t.meme_type}},r.getColumnSearchProps("meme_type")),Object(d.a)({title:"Durum",dataIndex:"location",sorter:function(e,t){return e.location.localeCompare(t.location)}},r.getColumnSearchProps("location")),Object(d.a)({title:"Son \u0130\u015flem Tarihi",dataIndex:"row_updated_date",sorter:function(e,t){return Nr(e.row_updated_date).unix()-Nr(t.row_updated_date).unix()}},r.getColumnSearchProps("row_updated_date")),{title:"\u0130\u015flemler",render:function(e,t){return Object(me.jsx)("td",{children:"admin"==r.props.user.role?Object(me.jsx)(A.a,{style:{marginBottom:10},type:"primary",onClick:function(){r.printQRCode("FU"+t.serial_number)},children:"QR Kodu Yazd\u0131r"}):null})}},{render:function(e,t){return Object(me.jsx)("td",{children:"admin"==r.props.user.role?Object(me.jsx)(A.a,{style:{marginBottom:10},type:"primary",onClick:function(){console.log("ID:"+t.machine_id),r.setState({historyModalVisible:!0,historyModalId:t.machine_id,orderSelected:{serial_number:t.serial_number,order_id:t.id}})},children:"\u0130\u015flem Ge\xe7mi\u015fi"}):null})}}]},r.componentDidMount=Object(w.a)(Object(S.a)().mark((function e(){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wr().then((function(e){var t,n;e=null===(t=e)||void 0===t?void 0:t.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{location:W(e.location),row_updated_date:J(e.row_updated_date)})})),r.setState({data:e});var a=[["Sipari\u015f No","Seri No","Tip","Marka","\xdcr\xfcn","Fan Tipi","Pervane Tipi","Pervane \xc7ap\u0131","Meme Tipi","Durum","Son \u0130\u015flem Tarihi"]];null===(n=e)||void 0===n||n.forEach((function(e){return a.push([e.order_no,e.serial_number,e.type,e.brand,e.description,e.cooler_type,e.fan_type,e.fan_radius,e.meme_type,e.location,e.row_updated_date])})),r.setState({csvdata:a})}));case 1:case"end":return e.stop()}}),e)}))),r}return Object(C.a)(n,[{key:"printQRCode",value:function(e,t){var n=window.open("","","height=1024, width=1024"),r=Object(Be.renderToString)(Object(me.jsxs)("div",{style:{width:"50mm",height:"64mm"},children:[Object(me.jsx)(An.a,{value:e,style:{height:"44mm",width:"44mm",margin:"3mm"},renderAs:"svg"}),Object(me.jsx)("p",{style:{margin:10},children:e})]}));null===n||void 0===n||n.document.write(String(r)),n.document.body.style.margin=0,null===n||void 0===n||n.document.close(),null===n||void 0===n||n.print()}},{key:"render",value:function(){var e,t=this,n=this.state;return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(V.a,{rowKey:function(e){return"key"+e.id},size:"small",loading:this.state.loading,pagination:{defaultPageSize:10,position:["bottomRight"]},columns:this.state.columns,dataSource:n.data}),Object(me.jsx)(A.a,{style:{float:"right",marginRight:10},type:"primary",children:Object(me.jsx)(Fn.CSVLink,{separator:"$",data:n.csvdata,children:"CSV'ye aktar"})}),this.state.historyModalVisible?Object(me.jsx)(Gr,{isVisible:this.state.historyModalVisible,machine_id:this.state.historyModalId,serial_number:null===(e=this.state.orderSelected)||void 0===e?void 0:e.serial_number,partType:1,setIsVisible:function(e){return t.setState({historyModalVisible:e})}},this.state.historyModalId):null]})}}]),n}(a.a.Component),Ur=Object(c.b)((function(e,t){return{user:e.auth.user}}))(Hr),Jr=JSON.parse(null!==(qr=localStorage.getItem("config"))&&void 0!==qr?qr:"{}");var Wr,Qr=function(e){var t=e.isVisible,n=e.setIsVisible,a=e.task_id,i=Object(r.useState)(null),o=Object(p.a)(i,2),l=o[0],s=o[1];return Object(c.d)((function(e){return e.auth.user})),Object(r.useEffect)((function(){(function(e){return it.apply(this,arguments)})(a).then((function(e){e&&s(e)}))}),[a]),Object(me.jsx)(Ht.a,{title:a+" Numaral\u0131 Makinenin \u0130\u015flem Ge\xe7mi\u015fi",visible:t,footer:null,onCancel:function(){return n(!1)},children:Object(me.jsx)("div",{style:{display:"flex",width:"100%",alignContent:"center",alignItems:"center",justifyContent:"center"},children:l?Object(me.jsx)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:Object(me.jsx)(Jt.a,{title:"Makine \u0130\u015flem Ge\xe7mi\u015fi",style:{marginBottom:5},children:Object(me.jsx)(Ut.a,{mode:"left",style:{width:"100%"},children:null===l||void 0===l?void 0:l.map((function(e){var t;return Object(me.jsxs)(Ut.a.Item,{label:J(e.row_created_date),children:[Object(me.jsx)("p",{children:Object(me.jsx)("b",{children:null===(t=Jr.role.find((function(t){return t.type===e.location})))||void 0===t?void 0:t.text})}),Object(me.jsx)("p",{children:"G\xf6nderen: ".concat(e.name," ").concat(e.surname)})]},"timelinekey"+e.row_created_date)}))})})}):Object(me.jsx)(Wt.a,{size:"large"})})})},$r=JSON.parse(null!==(Wr=localStorage.getItem("config"))&&void 0!==Wr?Wr:"{}"),Xr=n(120);Xr.locale("tr");var Zr,ea=function(e){var t=Object(r.useState)(1),n=Object(p.a)(t,2),a=n[0],i=n[1];return Object(me.jsxs)("div",{children:[Object(me.jsx)(sn.a,{max:e.maxAmount,style:{width:"70%"},size:"large",defaultValue:1,formatter:function(e){return"B\xf6l\xfcnen Miktar ".concat(e)},parser:function(e){return e.split("B\xf6l\xfcnen Miktar ")[1]},onChange:function(e){return i(e)}}),Object(me.jsx)(A.a,{danger:!0,size:"large",style:{marginLeft:10},onClick:function(){vr(e.id,a).then((function(t){t&&e.getTasks()}))},children:"B\xf6l"})]})},ta=function(e){Object(I.a)(n,e);var t=Object(z.a)(n);function n(){var e,r;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(r=t.call.apply(t,[this].concat(i))).configFile=JSON.parse(null!==(e=localStorage.getItem("config"))&&void 0!==e?e:"{}"),r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,i=t.confirm,o=t.clearFilters;return Object(me.jsxs)("div",{style:{padding:8},children:[Object(me.jsx)(de.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(a,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(me.jsx)(A.a,{type:"primary",onClick:function(){return r.handleSearch(a,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(me.jsx)(A.a,{onClick:function(){return r.handleReset(o)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(me.jsx)(Nt.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(e){return e}}},r.handleSearch=function(e,t,n){t(),r.setState({searchText:e[0],searchedColumn:n})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={selectedRole:"anasiparis",selectedUnit:"adet",csvdata:[["G\xf6rev No","Grup","Ba\u015fl\u0131k","Ek A\xe7\u0131klama","Miktar","Kazan Tipi","Tamamlanan","G\xf6rev Verilme Tarihi","Son \u0130\u015flem Tarihi"]],loading:!1,data:[],columns:[Object(d.a)({title:"G\xf6rev No",dataIndex:"id",sorter:function(e,t){return e.id-t.id}},r.getColumnSearchProps("id")),Object(d.a)(Object(d.a)({title:"Grup",dataIndex:"last_location",sorter:function(e,t){return e.last_location.localeCompare(t.last_location)}},r.getColumnSearchProps("last_location")),{},{render:function(e,t){return Object(me.jsx)("td",{children:r.props.isActive?Object(me.jsx)(M.a,{disabled:"admin"!==r.props.user.role,value:e,size:"large",style:{width:200},onChange:function(e){jr({id:t.id,new_group:e}).then((function(e){r.GetTasks()}))},children:function(){var e;return null===(e=$r.role)||void 0===e?void 0:e.map((function(e){return Object(me.jsx)(M.a.Option,{value:e.type,children:e.text})}))}()}):function(){var t;return null===(t=$r.role)||void 0===t?void 0:t.map((function(t){if(t.type==e)return Object(me.jsx)("p",{children:t.text})}))}()})}}),Object(d.a)(Object(d.a)({title:"Ba\u015fl\u0131k",dataIndex:"title",sorter:function(e,t){return e.title.localeCompare(t.title)}},r.getColumnSearchProps("title")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)(Object(d.a)({title:"Ek A\xe7\u0131klama",dataIndex:"description",sorter:function(e,t){return e.description.localeCompare(t.description)}},r.getColumnSearchProps("description")),{},{render:function(e){return Object(me.jsx)("td",{children:e?U(e):""})}}),{title:"Miktar",dataIndex:"amount",sorter:function(e,t){return parseInt(e.amount.split(" ")[0])-parseInt(t.amount.split(" ")[0])}},{title:"Tamamlanan",dataIndex:"completed_amount",sorter:function(e,t){return e.completed_amount-t.completed_amount}},Object(d.a)(Object(d.a)({title:"G\xf6rev Verilme Tarihi",dataIndex:"row_created_date",sorter:function(e,t){return Xr(e.row_created_date).unix()-Xr(t.row_created_date).unix()}},r.getColumnSearchProps("row_created_date")),{},{render:function(e){return Object(me.jsx)("td",{children:J(e)})}}),Object(d.a)(Object(d.a)({title:"Son \u0130\u015flem Tarihi",dataIndex:"row_updated_date",sorter:function(e,t){return Xr(e.row_updated_date).unix()-Xr(t.row_updated_date).unix()}},r.getColumnSearchProps("row_updated_date")),{},{render:function(e){return Object(me.jsx)("td",{children:J(e)})}}),{title:"\u0130\u015flemler",render:function(e,t){return Object(me.jsxs)("td",{children:["admin"!=r.props.user.role&&"ambar1"!=r.props.user.role||"ambar1"!=t.last_location||"QR Kod Bas\u0131m\u0131"!=t.title?null:Object(me.jsx)(D.a,{title:Object(me.jsxs)("div",{children:["Bu g\xf6revi tamamlamak istedi\u011finizden eminmisiniz? ",Object(me.jsx)("br",{})," Bu i\u015flem geri al\u0131namaz"]}),onConfirm:function(){_r(t.id,1).then((function(e){e&&r.GetTasks()}))},okText:"Evet",cancelText:"Hay\u0131r",children:Object(me.jsx)(A.a,{style:{margin:5},block:!0,size:"large",type:"primary",children:"Tamamla"})}),"admin"==r.props.user.role?Object(me.jsx)(D.a,{title:Object(me.jsxs)("div",{children:["Bu g\xf6revi silmek istedi\u011finizden eminmisiniz? ",Object(me.jsx)("br",{})," Bu i\u015flem geri al\u0131namaz"]}),onConfirm:function(){yr(t.id).then((function(e){e&&r.GetTasks()}))},okText:"Evet",cancelText:"Hayir",children:Object(me.jsx)(A.a,{style:{margin:5},block:!0,danger:!0,size:"large",type:"primary",children:"Sil"})}):null,Object(me.jsx)(A.a,{block:!0,style:{margin:5},onClick:function(){r.setState({isModalVisible:!0,selectedTaskId:t.id})},size:"large",type:"primary",children:"\u0130\u015flem Ge\xe7mi\u015fi"}),"admin"==r.props.user.role||"lazer"==r.props.user.role||"lazer2"===r.props.user.role||"lazerkesim"===r.props.user.role||"depo"==r.props.user.role&&0==t.completed_amount&&r.props.isActive?Object(me.jsx)(ln.a,{content:Object(me.jsx)(ea,{maxAmount:parseInt(t.amount.split(" ")[0])-1,id:t.id,getTasks:r.GetTasks.bind(Object(Yt.a)(r))}),title:Object(me.jsxs)(me.Fragment,{children:["G\xf6revin tamamlanan ve kalan k\u0131sm\u0131n\u0131 ay\u0131rmak istedi\u011finizden emin misiniz? ",Object(me.jsx)("br",{})," Bu i\u015flem geri al\u0131namaz"]}),trigger:"click",children:Object(me.jsx)(A.a,{style:{margin:5},block:!0,danger:!0,size:"large",type:"primary",children:"B\xf6l"})}):null]})}}]},r.componentWillReceiveProps=function(e,t){setTimeout((function(){r.GetTasks()}),500)},r.SaveExcel=function(e){console.log("clikced");var t=Ir.a.aoa_to_sheet(e),n=Ir.a.book_new();Ir.a.book_append_sheet(n,t,"Sheet1"),Ir.b(n,"DataSheet.xlsx")},r}return Object(C.a)(n,[{key:"componentDidMount",value:function(){this.GetTasks()}},{key:"GetTasks",value:function(){var e=this,t=this.props.isActive;console.log(t),this.setState({loading:!0});var n=[["G\xf6rev No","Grup","Ba\u015fl\u0131k","Ek A\xe7\u0131klama","Miktar","Tamamlanan","G\xf6rev Verilme Tarihi","Son \u0130\u015flem Tarihi"]];t?function(){return fr.apply(this,arguments)}().then((function(t){null===t||void 0===t||t.forEach((function(e){n.push([e.id,e.last_location,e.title,e.description,e.amount,e.completed_amount,J(e.row_created_date),J(e.row_updated_date)])})),e.setState({data:t,csvdata:n,loading:!1})})):function(){return xr.apply(this,arguments)}().then((function(t){null===t||void 0===t||t.forEach((function(e){n.push([e.id,e.last_location,e.title,e.description,e.amount,e.completed_amount,J(e.row_created_date),J(e.row_updated_date)])})),e.setState({data:t,csvdata:n,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state;return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("div",{children:Object(me.jsxs)(Jt.a,{children:[Object(me.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",marginBottom:5},children:[Object(me.jsx)(de.a,{disabled:!this.props.isActive,onChange:function(t){e.setState({selectedTitle:t.target.value})},value:this.state.selectedTitle,style:{width:500},size:"large",addonBefore:"G\xf6rev",placeholder:"G\xf6rev Tan\u0131m\u0131"}),Object(me.jsx)(de.a,{disabled:!this.props.isActive,onChange:function(t){e.setState({selectedDescription:t.target.value})},value:this.state.selectedDescription,style:{width:500,marginLeft:25,marginRight:25},size:"large",addonBefore:"A\xe7\u0131klama?",placeholder:"Opsiyonel"}),Object(me.jsxs)(de.a.Group,{compact:!0,children:[Object(me.jsx)(sn.a,{disabled:!this.props.isActive,onChange:function(t){e.setState({selectedAmount:t})},value:this.state.selectedAmount,style:{width:100},min:1,placeholder:"0",size:"large"}),Object(me.jsx)(de.a,{disabled:!this.props.isActive,onChange:function(t){e.setState({selectedUnit:t.target.value})},value:this.state.selectedUnit,style:{width:100},defaultValue:"adet",size:"large"})]}),Object(me.jsx)(A.a,{style:na.button,type:"primary",loading:this.state.addTaskButtonLoading,disabled:!t.selectedAmount||!t.selectedTitle||!t.selectedRole,onClick:function(){e.setState({addTaskButtonLoading:!0}),function(e){return hr.apply(this,arguments)}({title:t.selectedTitle,description:t.selectedDescription,group:t.selectedRole,amount:t.selectedAmount,unit:t.selectedUnit}).then((function(t){t&&(e.setState({selectedTitle:null,selectedDescription:null,selectedAmount:null,selectedUnit:"adet"}),e.GetTasks()),e.setState({addTaskButtonLoading:!1})}))},children:"Emir Olu\u015ftur"})]}),Object(me.jsx)(A.a,{style:Object(d.a)(Object(d.a)({},na.button),{},{float:"right"}),onClick:function(){return e.SaveExcel(e.state.csvdata)},children:"Emirleri Excele Aktar"})]})}),Object(me.jsx)(V.a,{pagination:{defaultPageSize:10,position:["bottomRight"]},rowKey:function(e){return"key"+e.id},size:"small",style:{maxWidth:"99.5%"},loading:this.state.loading,columns:this.state.columns,dataSource:t.data}),Object(me.jsx)(Qr,{isVisible:this.state.isModalVisible,task_id:this.state.selectedTaskId,setIsVisible:function(t){return e.setState({isModalVisible:t})}})]})}}]),n}(a.a.Component),na={button:{marginLeft:25}},ra=Object(c.b)((function(e,t){return{user:e.auth.user}}))(ta),aa=JSON.parse(null!==(Zr=localStorage.getItem("config"))&&void 0!==Zr?Zr:"{}");var ia,oa=function(e){function t(e){var t=e.value,n=e.text,a=Object(r.useState)([]),i=Object(p.a)(a,2),o=i[0],c=i[1];Object(r.useEffect)((function(){(function(e){return mn.apply(this,arguments)})(t).then((function(e){console.log(e),e&&c(e)}))}),[t]);return Object(me.jsx)(Jt.a,{style:{width:"60%",marginBottom:"1%",marginTop:"2%"},children:Object(me.jsx)(V.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)("b",{children:n})})},dataSource:o,columns:[{title:"\xdcr\xfcn Ad\u0131",dataIndex:"name",key:"type",width:50},{title:"Gereken Miktar",dataIndex:"amount",width:50}]})})}return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:aa.tank_size.sort((function(e,t){return parseInt(t.type)-parseInt(e.type)})).map((function(e){return Object(me.jsx)(t,{value:parseInt(e.type),text:"".concat(e.type," LT Tank \u0130\xe7in \u0130htiya\xe7 Listesi")})}))})})},ca=JSON.parse(null!==(ia=localStorage.getItem("config"))&&void 0!==ia?ia:"{}");var la,sa=function(e){return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:Object(me.jsx)(Jt.a,{style:{width:"60%",marginBottom:"1%",marginTop:"2%"},title:"",children:Object.keys(ca).map((function(e){var t=ca[e];return"role"==e?function(e,t){var n=[{title:"Tip",dataIndex:"type",width:33},{title:"G\xf6sterim",dataIndex:"text",width:33},{title:"\u0130\u015flem",dataIndex:"shortend",width:34}],r=null===e||void 0===e?void 0:e.sort((function(e,t){return e.type.localeCompare(t.type)}));return Object(me.jsx)(Jt.a,{style:{marginBottom:10},children:Object(me.jsx)(V.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("b",{children:"Kullan\u0131c\u0131 Rolleri"}),Object(me.jsx)(ln.a,{content:Object(me.jsxs)(ue.a,{layout:"vertical",onFinish:function(e){Dt(String(t),e)},children:[Object(me.jsx)(ue.a.Item,{name:"type",rules:[{required:!0,message:"L\xfctfen sadece k\xfc\xe7\xfck harf ve bo\u015fluksuz yaz\u0131n."}],label:"Tip",children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{name:"text",label:"G\xf6sterim",children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{name:"shortend",label:"K\u0131saltma",rules:[{required:!0,message:"L\xfctfen sadece b\xfcy\xfck harf yaz\u0131n, ve harf say\u0131s\u0131na dikkat edin."}],children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{children:Object(me.jsx)(A.a,{type:"primary",htmlType:"submit",children:"Ekle"})})]}),title:"Yeni kullan\u0131c\u0131 ekle",trigger:"click",children:Object(me.jsx)(A.a,{type:"primary",style:{float:"right"},children:"Ekle"})})]})},dataSource:r,columns:n,rowKey:"type"})},"hello")}(t,e):null}))})},"hello")})},ua=JSON.parse(null!==(la=localStorage.getItem("config"))&&void 0!==la?la:"{}");var da,pa=function(e){var t=ue.a.useForm(),n=Object(p.a)(t,1)[0];function a(e){var t=e.value,a=e.text,i=Object(r.useState)([]),o=Object(p.a)(i,2),l=o[0],s=o[1],u=Object(c.d)((function(e){return e.auth.user}));function d(){(function(e){return On.apply(this,arguments)})(t).then((function(e){e&&s(e)}))}Object(r.useEffect)((function(){d()}),[t]);var m=[{title:"Yetki",dataIndex:"authority",render:function(e){var t;return Object(me.jsx)("td",{children:null===(t=ua.role.find((function(t){return t.type===e})))||void 0===t?void 0:t.text})}},{title:"\u0130\u015flemler",width:"min-content",render:function(e,t){return Object(me.jsx)("td",{children:"admin"==u.role?Object(me.jsx)(A.a,{style:{marginBottom:10},danger:!0,type:"primary",onClick:function(){(function(e){return yn.apply(this,arguments)})(t.id).then((function(e){e?d():F.a.error({title:"Bir hata olu\u015ftu",content:Object(me.jsx)("p",{children:"L\xfctfen tekrar deneyin."}),okText:"Tamam"})}))},children:"Sil"}):null})}}];return Object(me.jsx)(Jt.a,{children:Object(me.jsx)(V.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("b",{children:a}),Object(me.jsx)(ln.a,{content:Object(me.jsxs)(ue.a,{form:n,layout:"vertical",onFinish:function(e){(function(e){return xn.apply(this,arguments)})({role:t,authority:e.authority}).then((function(e){e?(d(),n.resetFields()):F.a.error({title:"Bir hata olu\u015ftu",content:Object(me.jsx)("p",{children:"L\xfctfen tekrar deneyin."}),okText:"Tamam"})}))},children:[Object(me.jsx)(ue.a.Item,{name:"authority",label:"Yetki",rules:[{required:!0}],children:Object(me.jsx)(M.a,{children:ua.role.sort((function(e,t){return t.text.localeCompare(t.text)})).filter((function(e){return e.type!==u.role})).map((function(e){return Object(me.jsx)(M.a.Option,{value:e.type,children:e.text})}))})}),Object(me.jsx)(ue.a.Item,{children:Object(me.jsx)(A.a,{type:"primary",htmlType:"submit",children:"Ekle"})})]}),title:"".concat(a," Ekleme Yap"),trigger:"click",children:Object(me.jsx)(A.a,{type:"primary",style:{float:"right"},children:"Ekle"})})]})},dataSource:l,columns:m})})}return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:Object(me.jsx)(G.a,{gutter:[10,10],children:ua.role.sort((function(e,t){return t.text.localeCompare(t.text)})).map((function(e){return Object(me.jsx)(R.a,{xs:24,sm:24,md:12,lg:8,xl:8,children:Object(me.jsx)(a,{value:e.type,text:"".concat(e.text," Rol\xfcn\xfcn Yetkileri ")})})}))})})})},ma=n(335),ha=n(336),ja=n(597),ba=n(592);var fa={button:{marginLeft:25}},Oa=_.a.div(da||(da=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 1rem;\n  gap: 1rem;\n"]))),xa=function(){var e,t,n=Object(r.useState)([]),a=Object(p.a)(n,2),i=a[0],o=a[1],c=null===i||void 0===i?void 0:i.filter((function(e){return""!==e})),l=Object(r.useState)(),u=Object(p.a)(l,2),d=u[0],m=u[1],h=Object(r.useState)(),j=Object(p.a)(h,2),b=j[0],f=j[1],O=Object(s.f)();Object(r.useEffect)((function(){var e,t=localStorage.getItem("config"),n=null===(e=JSON.parse(t))||void 0===e?void 0:e.role;m(n)}),[]),Object(r.useEffect)(Object(w.a)(Object(S.a)().mark((function e(){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ct().then((function(e){return o(null===e||void 0===e?void 0:e.split(","))}));case 1:case"end":return e.stop()}}),e)}))),[]);var x=function(){var e=Object(w.a)(Object(S.a)().mark((function e(){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zt(c,b).then((function(e){return o(null===e||void 0===e?void 0:e.split(","))})),f(null);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Mt(c,t).then((function(e){return o(null===e||void 0===e?void 0:e.split(","))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=screen.width<800;return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(Oa,{children:[Object(me.jsx)(A.a,{disabled:!b,style:fa.button,onClick:x,type:"primary",children:"K\u0131sayol Olu\u015ftur +"}),Object(me.jsx)(M.a,{placeholder:"Se\xe7in",style:{width:120},value:b,onChange:function(e){f(e)},options:null===d||void 0===d||null===(e=d.filter((function(e){return!(null!==c&&void 0!==c&&c.includes(e.type))})))||void 0===e?void 0:e.map((function(e){return{value:e.type,label:e.text}}))})]}),Object(me.jsx)(ha.b,{onChange:function(e,t){var n=Object(ma.a)(c,e,t);console.log("nextState",n),o(n),console.log("items",c)},children:Object(me.jsx)(ja.a,{id:"items",boxesPerRow:g?2:4,rowHeight:100,style:{height:"400px"},children:null===c||void 0===c||null===(t=c.filter((function(e){return""!==e})))||void 0===t?void 0:t.map((function(e){var t;return Object(me.jsx)(ba.a,{style:{display:e?"block":"none"},children:Object(me.jsxs)("div",{style:{padding:"5px",position:"relative"},children:[Object(me.jsx)("button",{style:{position:"absolute",right:0,top:10,borderTopRightRadius:"10px",backgroundColor:"#FF4845",color:"white",boxShadow:"none",border:"none",height:"26px",width:"40px",cursor:"pointer"},onClick:function(){return y(e)},children:"Sil"}),Object(me.jsx)("div",{style:{margin:"5px",borderRadius:"10px",backgroundColor:"rgb(245,245,245)",width:"100%",height:"90px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"grabbing"},children:Object(me.jsx)("span",{style:{cursor:"pointer",userSelect:"none"},onDoubleClick:function(t){O.push({pathname:"GenericTaskWithRoleScreen",state:{role:e}})},children:null===d||void 0===d||null===(t=d.find((function(t){return(null===t||void 0===t?void 0:t.type)===e})))||void 0===t?void 0:t.text})})]})},e)}))})}),Object(me.jsx)("hr",{}),Object(me.jsx)("div",{style:{display:"grid",gridTemplateColumns:"auto auto auto",gap:"1rem"},children:[{label:"Kollu Sipari\u015fler",route:"kollu"},{label:"Turbo Sipari\u015fler",route:"turbo"},{label:"Di\u011fer Sipari\u015fler",route:"diger"}].map((function(e){return Object(me.jsx)("div",{onClick:function(t){return O.push({pathname:"filteredOrders/".concat(e.route)})},style:{margin:"5px",borderRadius:"10px",backgroundColor:"rgb(245,245,245)",width:"100%",height:"90px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"grabbing"},children:e.label})}))})]})};var ya,ga=function(e){function t(){var t=Object(r.useState)([]),n=Object(p.a)(t,2),a=n[0],i=n[1];Object(r.useEffect)((function(){!function(){switch(e.type){case"Fan":(function(){return hn.apply(this,arguments)})().then((function(e){if(e){var t=[];Object.keys(e).forEach((function(n){t.push({name:n,amount:e[n]})})),i(t)}}));break;case"Kumanda":(function(){return bn.apply(this,arguments)})().then((function(e){if(e){var t=[];Object.keys(e).forEach((function(n){t.push({name:n,amount:e[n]})})),i(t)}}));break;case"\xc7eki":(function(){return fn.apply(this,arguments)})().then((function(e){if(e){var t=[];Object.keys(e).forEach((function(n){t.push({name:n,amount:e[n]})})),i(t)}}));break;case"Pompa":(function(){return jn.apply(this,arguments)})().then((function(e){if(e){var t=[];Object.keys(e).forEach((function(n){t.push({name:n,amount:e[n]})})),i(t)}}));break;case"\u015ease":(function(){return pn.apply(this,arguments)})().then((function(e){if(e){var t=[];Object.keys(e.total).forEach((function(n){t.push({name:n,amount:e.total[n],finished_amount:e.finished[n]})})),i(t)}}))}}()}),[]);var o="\u015ease"===e.type?[{title:"\xdcr\xfcn Ad\u0131",dataIndex:"name",key:"type",width:50},{title:"Gereken Miktar",dataIndex:"amount",width:50},{title:"Stoktaki Miktar",dataIndex:"finished_amount",width:50,render:function(e){return Object(me.jsx)("div",{children:e||0})}},{title:"Net Stok",width:50,render:function(e,t,n){var r=(t.finished_amount?t.finished_amount:0)-t.amount;return Object(me.jsx)("div",{style:{color:r<0?"red":void 0,fontWeight:"bolder"},children:r})}}]:[{title:"\xdcr\xfcn Ad\u0131",dataIndex:"name",key:"type",width:50},{title:"Gereken Miktar",dataIndex:"amount",width:50}];return Object(me.jsx)(Jt.a,{style:{width:"60%",marginBottom:"1%",marginTop:"2%"},children:Object(me.jsx)(V.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)("b",{children:[e.type," \u0130htiya\xe7 Listesi"]})})},dataSource:a.sort((function(e,t){return e.name.localeCompare(t.name)})),columns:o})})}return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:Object(me.jsx)(t,{})})})},va=JSON.parse(null!==(ya=localStorage.getItem("config"))&&void 0!==ya?ya:"{}"),ka={machine_type:"Makine Tipleri",brand:"Markalar",type:"Tipler",cooler_type:"Fan Tipleri",tank_size:"Depo Boyutlar\u0131",pump:"Pompalar",tow_type:"\xc7eki Tipleri",chassis_color:"\u015ease Renkleri",caldron_type:"Kazan Tipleri",fan_type:"Pervane Tipleri",arm_type:"Kol Tipleri",fan_radius:"Fan \xc7aplar\u0131",order_tooker:"Sipari\u015f Alanlar",commander:"Kumandalar",turktraktormodel:"T\xfcrk Trakt\xf6r Modelleri",meme_type:"Meme Tipleri",caldron_material:"Kazan Materyalleri",role:"Kullan\u0131c\u0131 Rolleri"};var _a,Sa=function(e){var t=ue.a.useForm();return Object(p.a)(t,1)[0],Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(me.jsxs)(Jt.a,{title:"\xdcretim S\xfcresi \u0130\u015flemleri",style:{width:"60%",marginBottom:"1%",marginTop:"2%"},children:[Object(me.jsx)(dn.a,{style:{marginBottom:10},addonBefore:"\u015ease \xdcretim S\xfcresi",placeholder:String(null===va||void 0===va?void 0:va.chassis_production_time),suffix:"G\xfcn",enterButton:"De\u011fi\u015ftir",size:"large",onSearch:function(e){Dt("chassis_production_time",{text:e})}},"saseUretim"),Object(me.jsx)(dn.a,{style:{marginBottom:10},addonBefore:"Fan \xdcretim S\xfcresi",suffix:"G\xfcn",placeholder:String(null===va||void 0===va?void 0:va.fan_production_time),enterButton:"De\u011fi\u015ftir",size:"large",onSearch:function(e){Dt("fan_production_time",{text:e})}},"fanUretim"),Object(me.jsx)(dn.a,{style:{marginBottom:10},addonBefore:"Kol \xdcretim S\xfcresi",placeholder:String(null===va||void 0===va?void 0:va.arm_production_time),suffix:"G\xfcn",enterButton:"De\u011fi\u015ftir",size:"large",onSearch:function(e){Dt("arm_production_time",{text:e})}},"kolUretim")]},"uretimSuresiProgress"),Object(me.jsx)(Jt.a,{style:{width:"60%",marginBottom:"1%",marginTop:"2%"},title:"",children:Object.keys(va).map((function(e){var t=va[e];return"object"==typeof t&&"role"!=e&&2===Object.keys(t[0]).length?function(e,t){var n=[{title:"Tip",dataIndex:"type",key:"type",width:50},{title:"G\xf6sterim",dataIndex:"text",width:50}];return Object(me.jsx)(Jt.a,{style:{marginBottom:10},children:Object(me.jsx)(V.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("b",{children:ka[t]}),Object(me.jsx)(ln.a,{content:Object(me.jsxs)(ue.a,{layout:"vertical",onFinish:function(e){Dt(String(t),e).then((function(e){e&&we()}))},children:[Object(me.jsx)(ue.a.Item,{name:"type",label:"Tip",rules:[{required:!0,message:"L\xfctfen sadece k\xfc\xe7\xfck harf ve bo\u015fluksuz yaz\u0131n."}],children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{name:"text",label:"G\xf6sterim",children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{children:Object(me.jsx)(A.a,{type:"primary",htmlType:"submit",children:"Ekle"})})]}),title:"".concat(ka[t],"a Ekleme Yap"),trigger:"click",children:Object(me.jsx)(A.a,{type:"primary",style:{float:"right"},children:"Ekle"})})]})},dataSource:null===e||void 0===e?void 0:e.sort((function(e,t){return e.type.localeCompare(t.type)})),columns:n,rowKey:"type"})},t)}(t,e):null}))},"configTable")]},"hello")})},wa=JSON.parse(null!==(_a=localStorage.getItem("config"))&&void 0!==_a?_a:"{}");var Ta,Ca=function(e){var t=ue.a.useForm(),n=Object(p.a)(t,1)[0];function a(e){var t=e.value,a=e.text,i=Object(r.useState)([]),o=Object(p.a)(i,2),l=o[0],s=o[1],u=Object(c.d)((function(e){return e.auth.user}));function d(){gn(t).then((function(e){e&&s(e)}))}Object(r.useEffect)((function(){d()}),[t]);var m=[{title:"\xdcr\xfcn Ad\u0131",dataIndex:"name",key:"type"},{title:"Gereken Miktar",dataIndex:"amount"},{title:"\u0130\u015flemler",render:function(e,t){return Object(me.jsx)("td",{children:"admin"==u.role?Object(me.jsx)(A.a,{style:{marginBottom:10},danger:!0,type:"primary",onClick:function(){Sn(t.id).then((function(e){e?d():F.a.error({title:"Bir hata olu\u015ftu",content:Object(me.jsx)("p",{children:"L\xfctfen tekrar deneyin."}),okText:"Tamam"})}))},children:"Sil"}):null})}}];return Object(me.jsx)(V.a,{pagination:!1,style:{width:"100%"},title:function(){return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("b",{children:a}),Object(me.jsx)(ln.a,{content:Object(me.jsxs)(ue.a,{form:n,layout:"vertical",onFinish:function(e){kn({amount:e.amount,name:e.name,tank_size:t}).then((function(e){e?(d(),n.resetFields()):F.a.error({title:"Bir hata olu\u015ftu",content:Object(me.jsx)("p",{children:"L\xfctfen tekrar deneyin."}),okText:"Tamam"})}))},children:[Object(me.jsx)(ue.a.Item,{name:"name",label:"\xdcr\xfcn",rules:[{required:!0}],children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{name:"amount",label:"Miktar",children:Object(me.jsx)(sn.a,{min:0})}),Object(me.jsx)(ue.a.Item,{children:Object(me.jsx)(A.a,{type:"primary",htmlType:"submit",children:"Ekle"})})]}),title:"".concat(a," Ekleme Yap"),trigger:"click",children:Object(me.jsx)(A.a,{type:"primary",style:{float:"right"},children:"Ekle"})})]})},dataSource:l,columns:m,rowKey:"id"},t.toString()+"Head")}return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:Object(me.jsx)(Jt.a,{title:"\u0130htiya\xe7 Listesi \u0130\u015flemleri",style:{width:"60%",marginBottom:"1%",marginTop:"2%"},children:wa.tank_size.sort((function(e,t){return parseInt(t.type)-parseInt(e.type)})).map((function(e){return Object(me.jsx)(a,{value:parseInt(e.type),text:"".concat(e.text," LT Tank \u0130htiya\xe7 Listesi")},e.type)}))},"requiermentTable")},"hello")})},Ia=JSON.parse(null!==(Ta=localStorage.getItem("config"))&&void 0!==Ta?Ta:"{}"),za=n(120);za.locale("tr");var Ba=function(e){var t=Object(r.useState)(1),n=Object(p.a)(t,2),a=n[0],i=n[1];return Object(me.jsxs)("div",{children:[Object(me.jsx)(sn.a,{max:e.maxAmount,style:{width:"70%"},size:"large",defaultValue:1,formatter:function(e){return"B\xf6l\xfcnen Miktar ".concat(e)},parser:function(e){return null===e||void 0===e?void 0:e.split("B\xf6l\xfcnen Miktar ")[1]},onChange:function(e){return i(e)}}),Object(me.jsx)(A.a,{danger:!0,size:"large",style:{marginLeft:10},onClick:function(){vr(e.id,a).then((function(t){t&&e.getTasks()}))},children:"B\xf6l"})]})},Ma=function(e){Object(I.a)(n,e);var t=Object(z.a)(n);function n(e){var r,a;return Object(T.a)(this,n),(a=t.call(this,e)).configFile=JSON.parse(null!==(r=localStorage.getItem("config"))&&void 0!==r?r:"{}"),a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,i=t.confirm,o=t.clearFilters;return Object(me.jsxs)("div",{style:{padding:8},children:[Object(me.jsx)(de.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(r,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(me.jsx)(A.a,{type:"primary",onClick:function(){return a.handleSearch(r,i,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(me.jsx)(A.a,{onClick:function(){return a.handleReset(o)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(me.jsx)(Nt.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(e){return e}}},a.handleSearch=function(e,t,n){t(),a.setState({searchText:e[0],searchedColumn:n})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.state={selectedRole:"anasiparis",selectedUnit:"adet",csvdata:[["G\xf6rev No","Grup","Ba\u015fl\u0131k","Ek A\xe7\u0131klama","Miktar","Kazan Tipi","Tamamlanan","G\xf6rev Verilme Tarihi","Son \u0130\u015flem Tarihi"]],loading:!1,data:[],columns:[Object(d.a)({title:"G\xf6rev No",dataIndex:"id",sorter:function(e,t){return e.id-t.id}},a.getColumnSearchProps("id")),Object(d.a)(Object(d.a)({title:"Grup",dataIndex:"last_location",sorter:function(e,t){return e.last_location.localeCompare(t.last_location)}},a.getColumnSearchProps("last_location")),{},{render:function(e,t){return Object(me.jsx)("td",{children:a.props.isActive?Object(me.jsx)(M.a,{disabled:"admin"!==a.props.user.role,value:e,size:"large",style:{width:200},onChange:function(e){jr({id:t.id,new_group:e}).then((function(e){a.GetTasks()}))},children:function(){var e;return null===(e=Ia.role)||void 0===e?void 0:e.map((function(e){return Object(me.jsx)(M.a.Option,{value:e.type,children:e.text})}))}()}):function(){var t;return null===(t=Ia.role)||void 0===t?void 0:t.map((function(t){if(t.type==e)return Object(me.jsx)("p",{children:t.text})}))}()})}}),Object(d.a)(Object(d.a)({title:"Ba\u015fl\u0131k",dataIndex:"title",sorter:function(e,t){return e.title.localeCompare(t.title)}},a.getColumnSearchProps("title")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)(Object(d.a)({title:"Ek A\xe7\u0131klama",dataIndex:"description",sorter:function(e,t){return e.description.localeCompare(t.description)}},a.getColumnSearchProps("description")),{},{render:function(e){return Object(me.jsx)("td",{children:e?U(e):""})}}),{title:"Miktar",dataIndex:"amount",sorter:function(e,t){var n,r;return parseInt(null===(n=e.amount)||void 0===n?void 0:n.split(" ")[0])-parseInt(null===(r=t.amount)||void 0===r?void 0:r.split(" ")[0])}},{title:"Tamamlanan",dataIndex:"completed_amount",sorter:function(e,t){return e.completed_amount-t.completed_amount}},Object(d.a)(Object(d.a)({title:"G\xf6rev Verilme Tarihi",dataIndex:"row_created_date",sorter:function(e,t){return za(e.row_created_date).unix()-za(t.row_created_date).unix()}},a.getColumnSearchProps("row_created_date")),{},{render:function(e){return Object(me.jsx)("td",{children:J(e)})}}),Object(d.a)(Object(d.a)({title:"Son \u0130\u015flem Tarihi",dataIndex:"row_updated_date",sorter:function(e,t){return za(e.row_updated_date).unix()-za(t.row_updated_date).unix()}},a.getColumnSearchProps("row_updated_date")),{},{render:function(e){return Object(me.jsx)("td",{children:J(e)})}}),{title:"\u0130\u015flemler",render:function(e,t){var n;return Object(me.jsxs)("td",{children:["admin"!=a.props.user.role&&"ambar1"!=a.props.user.role||"ambar1"!=t.last_location||"QR Kod Bas\u0131m\u0131"!=t.title?null:Object(me.jsx)(D.a,{title:Object(me.jsxs)("div",{children:["Bu g\xf6revi tamamlamak istedi\u011finizden eminmisiniz? ",Object(me.jsx)("br",{})," Bu i\u015flem geri al\u0131namaz"]}),onConfirm:function(){_r(t.id,1).then((function(e){e&&a.GetTasks()}))},okText:"Evet",cancelText:"Hay\u0131r",children:Object(me.jsx)(A.a,{style:{margin:5},block:!0,size:"large",type:"primary",children:"Tamamla"})}),"admin"==a.props.user.role?Object(me.jsx)(D.a,{title:Object(me.jsxs)("div",{children:["Bu g\xf6revi silmek istedi\u011finizden eminmisiniz? ",Object(me.jsx)("br",{})," Bu i\u015flem geri al\u0131namaz"]}),onConfirm:function(){yr(t.id).then((function(e){e&&a.GetTasks()}))},okText:"Evet",cancelText:"Hayir",children:Object(me.jsx)(A.a,{style:{margin:5},block:!0,danger:!0,size:"large",type:"primary",children:"Sil"})}):null,Object(me.jsx)(A.a,{block:!0,style:{margin:5},onClick:function(){a.setState({isModalVisible:!0,selectedTaskId:t.id})},size:"large",type:"primary",children:"\u0130\u015flem Ge\xe7mi\u015fi"}),"admin"==a.props.user.role||"lazer"==a.props.user.role||"lazer2"===a.props.user.role||"lazerkesim"===a.props.user.role||"depo"==a.props.user.role&&0==t.completed_amount&&a.props.isActive?Object(me.jsx)(ln.a,{content:Object(me.jsx)(Ba,{maxAmount:parseInt(null===t||void 0===t||null===(n=t.amount)||void 0===n?void 0:n.split(" ")[0])-1,id:t.id,getTasks:a.GetTasks.bind(Object(Yt.a)(a))}),title:Object(me.jsxs)(me.Fragment,{children:["G\xf6revin tamamlanan ve kalan k\u0131sm\u0131n\u0131 ay\u0131rmak istedi\u011finizden emin misiniz? ",Object(me.jsx)("br",{})," Bu i\u015flem geri al\u0131namaz"]}),trigger:"click",children:Object(me.jsx)(A.a,{style:{margin:5},block:!0,danger:!0,size:"large",type:"primary",children:"B\xf6l"})}):null]})}}]},a.componentWillReceiveProps=function(e,t){setTimeout((function(){var e,t;null!==(e=a.props.location)&&void 0!==e&&null!==(t=e.state)&&void 0!==t&&t.role?a.GetTasks():a.props.history.push("shortcuts")}),500)},a.SaveExcel=function(e){var t=Ir.a.aoa_to_sheet(e),n=Ir.a.book_new();Ir.a.book_append_sheet(n,t,"Sheet1"),Ir.b(n,"DataSheet.xlsx")},a}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e,t;null!==(e=this.props.location)&&void 0!==e&&null!==(t=e.state)&&void 0!==t&&t.role?this.GetTasks():this.props.history.push("shortcuts")}},{key:"GetTasks",value:function(){var e=this;this.props.isActive;this.setState({loading:!0});var t=[["G\xf6rev No","Grup","Ba\u015fl\u0131k","Ek A\xe7\u0131klama","Miktar","Tamamlanan","G\xf6rev Verilme Tarihi","Son \u0130\u015flem Tarihi"]];(function(e){return Or.apply(this,arguments)})(this.props.location.state.role).then((function(n){null===n||void 0===n||n.forEach((function(e){t.push([e.id,e.last_location,e.title,e.description,e.amount,e.completed_amount,J(e.row_created_date),J(e.row_updated_date)])})),e.setState({data:n,csvdata:t,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state;return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("div",{children:Object(me.jsx)(Jt.a,{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(me.jsx)(A.a,{style:Object(d.a)(Object(d.a)({},Fa.button),{},{float:"right"}),onClick:function(){return e.SaveExcel(e.state.csvdata)},children:"Emirleri Excele Aktar"})})}),Object(me.jsx)(V.a,{pagination:{defaultPageSize:10,position:["bottomRight"]},rowKey:function(e){return"key"+e.id},size:"small",style:{maxWidth:"99.5%"},loading:this.state.loading,columns:this.state.columns,dataSource:t.data}),Object(me.jsx)(Qr,{isVisible:this.state.isModalVisible,task_id:this.state.selectedTaskId,setIsVisible:function(t){return e.setState({isModalVisible:t})}})]})}}]),n}(a.a.Component),Fa={button:{marginLeft:25}},Da=Object(c.b)((function(e,t){return{user:e.auth.user}}))(Ma),Aa=M.a.Option,Pa=M.a.OptGroup,Ga=n(90);var Ra=function(e){var t,n=JSON.parse(null!==(t=localStorage.getItem("config"))&&void 0!==t?t:"{}"),a=Object(r.useState)(""),i=Object(p.a)(a,2),o=i[0],c=i[1],l=Object(r.useState)([]),u=Object(p.a)(l,2),m=u[0],h=u[1],j=Object(r.useState)([]),b=Object(p.a)(j,2),f=(b[0],b[1]),O=Object(r.useState)("turbo"),x=Object(p.a)(O,2),y=x[0],g=x[1],v=Object(r.useState)({brand:"",type:"",cooler_type:"",arm_type:"",tank_size:0,pump:"",order_no:"000000",order_amount:0,year:""}),k=Object(p.a)(v,2),_=k[0],T=k[1],C=function(){switch(y){case"kollu":return _.brand+_.type+_.arm_type+_.tank_size+_.pump+_.year+0+_.order_no+0+_.order_amount;case"turbo":return _.brand+_.type+_.cooler_type+_.tank_size+_.pump+_.year+0+_.order_no+0+_.order_amount;case"diger":return _.brand+_.type+_.year+0+_.order_no+0+_.order_amount;default:return""}}(),I=ue.a.useForm(),z=Object(p.a)(I,1)[0],B=Object(s.g)().pathname.split("/")[2];return Object(r.useEffect)((function(){Ue(B).then((function(e){delete e.date,delete e.year,f({orderDetails:e,caldron_stock:"onstock",order_amount:String(e.order_amount)}),z.setFieldsValue(Object(d.a)(Object(d.a)({},e),{},{caldron_stock:"onstock",order_amount:String(e.order_amount)}))}))}),[B]),Object(r.useEffect)((function(){At().then((function(e){h(e)}))}),[]),Object(me.jsxs)(Ha,{style:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap-reverse",overflow:"auto"},children:[Object(me.jsxs)(ue.a,{form:z,onFieldsChange:function(){var e="turktraktor"==z.getFieldValue("brand")?z.getFieldValue("brand")+" "+z.getFieldValue("model"):"turbo"==z.getFieldValue("production_unit")?z.getFieldValue("brand")+" "+z.getFieldValue("tank_size")+"LT "+z.getFieldValue("cooler_type")+z.getFieldValue("fan_radius")+"cm "+z.getFieldValue("fan_type"):"kollu"==z.getFieldValue("production_unit")?z.getFieldValue("brand")+" "+z.getFieldValue("tank_size")+"LT "+z.getFieldValue("arm_type")+" "+z.getFieldValue("arm_length"):"diger"==z.getFieldValue("production_unit")?z.getFieldValue("brand")+" "+z.getFieldValue("type"):"";c(C+","+e.toUpperCase()),z.getFieldValue("model")&&"turktraktor"==z.getFieldValue("brand")&&z.setFieldsValue({caldron_color:z.getFieldValue("model")})},onFinish:function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("values",t),e.next=3,Re(t,C);case 3:n=e.sent,console.log("result",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),labelCol:{span:5},wrapperCol:{span:24},style:{maxWidth:"calc(100% - 168px)",minWidth:"450px"},requiredMark:!1,children:[Object(me.jsx)(ue.a.Item,{name:"date",initialValue:Fe()(),label:"Tarih",required:!0,children:Object(me.jsx)(Ie.a,{disabled:!0})}),Object(me.jsx)(ue.a.Item,{name:"customer",label:"M\xfc\u015fteri Ad\u0131",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:250,message:"Maksimum s\u0131n\u0131r a\u015f\u0131ld\u0131."}],required:!0,children:Object(me.jsx)(ze.a,{style:{width:200},options:m,placeholder:"aramak i\xe7in yaz\u0131n.",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})}),Object(me.jsx)(ue.a.Item,{name:"address",label:"Adresi",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:250,message:"Maksimum s\u0131n\u0131r a\u015f\u0131ld\u0131."}],required:!0,children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{name:"phone_number",label:"Telefon No",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:10,min:10,message:"Telefon numaras\u0131 10 haneden olu\u015fmal\u0131d\u0131r."}],required:!0,children:Object(me.jsx)(de.a,{addonBefore:"+90",style:{width:"100%"}})}),Object(me.jsx)(ue.a.Item,{name:"production_unit",label:"\xdcretim Birimi",initialValue:"turbo",required:!0,children:Object(me.jsxs)(pe.a.Group,{onChange:function(e){g(e.target.value)},children:[Object(me.jsx)(pe.a,{value:"turbo",children:"Turbo"}),Object(me.jsx)(pe.a,{value:"kollu",children:"Kollu"}),Object(me.jsx)(pe.a,{value:"diger",children:"Di\u011fer"})]})}),Object(me.jsx)(ue.a.Item,{name:"brand",label:"Marka",required:!0,children:Object(me.jsx)(M.a,{onSelect:function(e){var t=n.brand.filter((function(t){return t.type==e}));T(Object(d.a)(Object(d.a)({},_),{},{brand:t[0].shortend}))},children:n.brand.map((function(e){return Object(me.jsx)(Aa,{value:e.type,children:e.text},e.type)}))})}),"turbo"==y&&"T"==_.brand?Object(me.jsx)(ue.a.Item,{name:"model",label:"Model",required:!0,children:Object(me.jsx)(M.a,{children:n.turktraktormodel.map((function(e){return Object(me.jsx)(Aa,{value:e.text,children:e.text},e.text)}))})}):null,Object(me.jsx)(ue.a.Item,{name:"type",label:"Tip",required:!0,children:"turbo"===y||"kollu"===y?Object(me.jsx)(M.a,{onSelect:function(e){var t=n.type.filter((function(t){return t.type==e}));T(Object(d.a)(Object(d.a)({},_),{},{type:t[0].shortend}))},children:n.type.map((function(e){return Object(me.jsx)(Aa,{value:e.type,children:e.text},e.type)}))}):Object(me.jsx)(M.a,{onSelect:function(e){var t=n.machine_type.filter((function(t){return t.type==e}));T(Object(d.a)(Object(d.a)({},_),{},{type:t[0].shortend}))},children:n.machine_type.map((function(e){return Object(me.jsx)(Aa,{value:e.type,children:e.text},e.type)}))})}),"kollu"==y||"turbo"==y?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(ue.a.Item,{name:"caldron_color",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:32,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Kazan Rengi",required:!0,children:Object(me.jsx)(de.a,{})}),Object(me.jsx)(ue.a.Item,{name:"caldron_stock",label:"Kazan Tedarik",children:Object(me.jsxs)(pe.a.Group,{children:[Object(me.jsx)(pe.a,{value:"onstock",children:"Stoktan"}),Object(me.jsx)(pe.a,{value:"new",children:"Kazan \xdcreticiden"})]})}),Object(me.jsx)(ue.a.Item,{name:"caldron_material",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:19,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Materyal",required:!0,children:Object(me.jsx)(M.a,{children:n.caldron_material.map((function(e){return Object(me.jsx)(Aa,{value:e.type,children:e.text},e.type)}))})}),Object(me.jsx)(ue.a.Item,{name:"tank_size",label:"Depo Hacmi",required:!0,children:Object(me.jsx)(M.a,{onSelect:function(e){var t=n.tank_size.filter((function(t){return t.type==e}));T(Object(d.a)(Object(d.a)({},_),{},{tank_size:parseInt(t[0].shortend)}))},children:Object(me.jsx)(Pa,{label:"Litre",children:n.tank_size.map((function(e){return Object(me.jsx)(Aa,{value:e.type,children:e.text},e.type)}))})})}),Object(me.jsx)(ue.a.Item,{name:"tow_type",label:"\xc7eki Tipi",required:!0,children:Object(me.jsx)(M.a,{children:n.tow_type.map((function(e){return Object(me.jsx)(Aa,{value:e.type,children:e.text},e.type)}))})}),Object(me.jsx)(ue.a.Item,{name:"pump",label:"Pompa",required:!0,children:Object(me.jsx)(M.a,{onSelect:function(e){var t=n.pump.filter((function(t){return t.type==e}));T(Object(d.a)(Object(d.a)({},_),{},{pump:t[0].shortend}))},children:n.pump.map((function(e){return Object(me.jsx)(Aa,{value:e.type,children:e.text},e.type)}))})}),Object(me.jsx)(ue.a.Item,{name:"commander",label:"Kumanda",required:!0,children:Object(me.jsx)(M.a,{children:n.commander.map((function(e){return Object(me.jsx)(Aa,{value:e.type,children:e.text},e.type)}))})}),Object(me.jsx)(ue.a.Item,{name:"meme_type",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:19,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Meme Tipi",required:!0,children:Object(me.jsx)(M.a,{children:n.meme_type.map((function(e){return Object(me.jsx)(Aa,{value:e.type,children:e.text},e.type)}))})})]}):null,"kollu"==y?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(ue.a.Item,{name:"arm_type",label:"Kol Tipi",required:!0,children:Object(me.jsx)(M.a,{onSelect:function(e){var t=n.arm_type.filter((function(t){return t.type==e}));T(Object(d.a)(Object(d.a)({},_),{},{arm_type:t[0].shortend}))},children:n.arm_type.map((function(e){return Object(me.jsx)(Aa,{value:e.type,children:e.text},e.type)}))})}),Object(me.jsx)(ue.a.Item,{name:"meme_distance",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:19,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Meme Aral\u0131\u011f\u0131",required:!0,children:Object(me.jsx)(de.a,{maxLength:19})}),Object(me.jsx)(ue.a.Item,{name:"arm_length",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:30,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Kol Uzunlu\u011fu",required:!0,children:Object(me.jsx)(de.a,{maxLength:20})})]}):null,"turbo"==y?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(ue.a.Item,{name:"cooler_type",label:"Fan Tipi",required:!0,children:Object(me.jsx)(M.a,{onSelect:function(e){var t=n.cooler_type.filter((function(t){return t.type==e}));T(Object(d.a)(Object(d.a)({},_),{},{cooler_type:t[0].shortend}))},children:n.cooler_type.map((function(e){return Object(me.jsx)(Aa,{value:e.type,children:e.text},e.type)}))})}),"turbo"==y?Object(me.jsx)(ue.a.Item,{name:"caldron_type",label:"Kazan Tipi",required:!0,children:Object(me.jsx)(M.a,{children:n.caldron_type.map((function(e){return Object(me.jsx)(Aa,{value:e.type,children:e.text},e.type)}))})}):null,"turbo"==y?Object(me.jsx)(ue.a.Item,{name:"fan_radius",label:"Pervane \xc7ap\u0131",required:!0,children:Object(me.jsx)(M.a,{children:n.fan_radius.map((function(e){return Object(me.jsx)(Aa,{value:e.type,children:e.text},e.type)}))})}):null,"turbo"==y?Object(me.jsx)(ue.a.Item,{name:"fan_type",label:"Pervane Tipi",required:!0,children:Object(me.jsx)(M.a,{children:n.fan_type.map((function(e){return Object(me.jsx)(Aa,{value:e.type,children:e.text},e.type)}))})}):null]}):null,Object(me.jsx)(ue.a.Item,{name:"order_no",label:"Sipari\u015f No",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:6,message:"Maksimum s\u0131n\u0131r a\u015f\u0131ld\u0131."},{min:6,message:"Sipari\u015f No 6 Karakter olmal\u0131d\u0131r.."}],required:!0,children:Object(me.jsx)(de.a,{maxLength:6,onChange:function(e){T(Object(d.a)(Object(d.a)({},_),{},{order_no:H(e.target.value,"0",6)}))}})}),Object(me.jsx)(ue.a.Item,{name:"order_amount",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz"},{max:5,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Sipari\u015f Adedi",required:!0,children:Object(me.jsx)(de.a,{max:99,min:1,type:"number",onChange:function(e){T(Object(d.a)(Object(d.a)({},_),{},{order_amount:parseInt(e.target.value)}))}})}),Object(me.jsx)(ue.a.Item,{name:"year",label:"Y\u0131l",initialValue:Fe()(),required:!0,children:Object(me.jsx)(Ie.a,{disabled:!0,picker:"year"})}),Object(me.jsx)(ue.a.Item,{name:"chassis_color",label:"\u015ease Rengi",required:!0,children:Object(me.jsx)(M.a,{children:n.chassis_color.map((function(e){return Object(me.jsx)(Aa,{value:e.type,children:e.text},e.type)}))})}),Object(me.jsx)(ue.a.Item,{name:"alt_features",rules:[{max:250,message:"Maksimum s\u0131n\u0131ra ula\u015f\u0131ld\u0131."}],label:"Ek \xd6zellikler",required:!0,children:Object(me.jsx)(de.a.TextArea,{maxLength:250})}),Object(me.jsx)(ue.a.Item,{name:"order_tooker",label:"Sipari\u015f Alan",required:!0,children:Object(me.jsx)(M.a,{children:n.order_tooker.map((function(e){return Object(me.jsx)(Aa,{value:e.type,children:e.text},e.type)}))})}),Object(me.jsx)(ue.a.Item,{name:"serial_number",label:"Seri No",children:Object(me.jsx)(de.a,{disabled:!0,placeholder:C})}),Object(me.jsx)(ue.a.Item,{wrapperCol:{span:12,offset:6},children:Object(me.jsx)(A.a,{size:"large",block:!0,type:"primary",htmlType:"submit",children:"Sipari\u015fi D\xfczenle"})})]}),Object(me.jsx)("div",{style:{display:"block",width:"min-content"},children:Object(me.jsx)(Ga,{value:o,renderAs:"svg",size:178})})]})};N.a.extend(tn.a),N.a.locale("tr");var Va=n(90);function Ka(e,t){if(t)return Object(me.jsxs)("div",{style:{display:"flex"},children:[Object(me.jsxs)("p",{style:{fontWeight:"bold",marginRight:"5px"},children:[e,":"]}),Object(me.jsx)("p",{children:t})]})}var La,Ea,Ya=function(e){Object(I.a)(r,e);var t=Object(z.a)(r);function r(e){var n,a,i,o;return Object(T.a)(this,r),(o=t.call(this,e)).configFile=JSON.parse(null!==(n=localStorage.getItem("config"))&&void 0!==n?n:"{}"),o.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,a=t.confirm,i=t.clearFilters;return Object(me.jsxs)("div",{style:{padding:8},children:[Object(me.jsx)(de.a,{ref:function(e){o.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return o.handleSearch(r,a,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(me.jsx)(A.a,{type:"primary",onClick:function(){return o.handleSearch(r,a,e)},size:"small",style:{width:90,marginRight:8},children:"Bul"}),Object(me.jsx)(A.a,{onClick:function(){return o.handleReset(i)},size:"small",style:{width:90},children:"S\u0131f\u0131rla"})]})},filterIcon:function(e){return Object(me.jsx)(Nt.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){return o.searchInput.select()}))},render:function(e){return e}}},o.handleSearch=function(e,t,n){t(),o.setState({searchText:e[0],searchedColumn:n})},o.handleReset=function(e){e(),o.setState({searchText:""})},o.state={movableMachines:[],orderModalVisible:!1,csvdata:[["Seri No","Sipari\u015f No","Sipari\u015f Tarihi","M\xfc\u015fteri","Telefon","Adres","Sipari\u015f Alan","Durum"]],orderDetails:{},loading:!1,size:"small",top:"none",bottom:"bottomRight",ellipsis:!0,data:[],columns:[Object(d.a)({title:"Sipari\u015f No",dataIndex:"order_no",sorter:function(e,t){return e.order_no.localeCompare(t.order_no)}},o.getColumnSearchProps("order_no")),Object(d.a)({title:"M\xfc\u015fteri",dataIndex:"customer",sorter:function(e,t){return e.customer.localeCompare(t.customer)}},o.getColumnSearchProps("customer")),Object(d.a)({title:"Telefon No",dataIndex:"phone_number"},o.getColumnSearchProps("phone_number")),Object(d.a)({title:"Lokasyon",dataIndex:"address"},o.getColumnSearchProps("address")),Object(d.a)({title:"Seri No",dataIndex:"serial_number",sorter:function(e,t){return e.serial_number.localeCompare(t.serial_number)}},o.getColumnSearchProps("serial_number")),Object(d.a)(Object(d.a)({title:"\xdcr\xfcn Tipi",dataIndex:"production_unit",sorter:function(e,t){return e.production_unit.localeCompare(t.production_unit)}},o.getColumnSearchProps("production_unit")),{},{render:function(e){return Object(me.jsx)("td",{children:U(e)})}}),Object(d.a)(Object(d.a)({title:"Miktar",sorter:function(e,t){return e.pending_amount-t.pending_amount}},o.getColumnSearchProps("order_amount")),{},{render:function(e,t){return Object(me.jsx)("td",{children:String(t.order_amount-t.pending_amount)+"/"+t.order_amount})}}),Object(d.a)({title:"Sipari\u015f Tarihi",dataIndex:"date",sorter:function(e,t){return N()(e.date,"D MMMM YYYY, HH:mm").unix()-N()(t.date,"D MMMM YYYY, HH:mm").unix()}},o.getColumnSearchProps("date")),Object(d.a)(Object(d.a)({title:"Sipari\u015f Alan",dataIndex:"order_tooker",sorter:function(e,t){return e.order_tooker.localeCompare(t.order_tooker)}},o.getColumnSearchProps("order_tooker")),{},{render:function(e){return Object(me.jsx)("td",{children:e.toUpperCase()})}})]},o.componentDidMount=function(){o.GetOrders(),lt().then((function(e){e&&o.setState({movableMachines:e})}))},o.route=null===(a=o.props.location)||void 0===a?void 0:a.pathname.split("/")[(null===(i=o.props.location)||void 0===i?void 0:i.pathname.split("/").length)-1],o.renderOrderDetails=o.renderOrderDetails.bind(Object(Yt.a)(o)),o}return Object(C.a)(r,[{key:"renderOrderDetails",value:function(e){var t=this;return Object.keys(this.state.orderDetails).map((function(r){return r==e.id?t.state.orderDetails[r].map((function(r){var a;return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)("div",{style:{width:"80%",marginTop:30,display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(me.jsxs)("div",{children:[Ka("Seri No",U(r.serial_number)),Ka("Pompa Seri No",U(r.pump_serial)),Ka("Bulundu\u011fu Konum",W(r.location)+(r.comment?" (".concat(r.comment,")"):" ")),Ka("Son \u0130\u015flem Tarihi",J(r.row_created_date))]}),Object(me.jsxs)("div",{style:{width:"min-content"},children:["teslimat"!==r.location&&"iptal"!==r.location&&"admin"==t.props.user.role?Object(me.jsx)(A.a,{style:{marginBottom:10,width:"100%"},type:"primary",onClick:function(){t.setState({orderModalVisible:!0,orderSelected:{serial_number:r.serial_number,order_id:e.id}})},children:"Sipari\u015fi Kayd\u0131r"}):null,Object(me.jsx)(A.a,{style:{marginBottom:10,width:"100%"},onClick:function(){var n=r.serial_number+","+e.description;t.printQRCode(n,r.serial_number)},children:"Qr Kodu Yazd\u0131r"}),Object(me.jsx)(A.a,{style:{marginBottom:10,width:"100%"},onClick:function(){console.log(e.id),t.setState({historyModalVisible:!0,historyModalId:r.id,orderSelected:{serial_number:r.serial_number,order_id:e.id}})},children:"\u0130\u015flem Ge\xe7mi\u015fini G\xf6ster"}),r.test_comment?Object(me.jsx)(A.a,{block:!0,onClick:function(){E.a.get("./finalkontrolformu.xlsx",{responseType:"blob"}).then((function(e){var t=n(175),a=new FileReader;a.readAsArrayBuffer(e.data),a.onload=function(e){var n=new Zt.a.Workbook;n.xlsx.load(e.target.result).then((function(){var e=n.getWorksheet(1),a=e.getRow(58);a.getCell(1).value=r.test_comment,a.commit();var i=e.getRow(8);i.getCell(1).value=r.serial_number,i.getCell(5).value=r.test_manager,i.getCell(6).value=J(r.test_date),i.commit(),n.xlsx.writeBuffer().then((function(e){var n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});t.saveAs(n,"deneme.xlsx")}))}))}}))},children:"Test Raporu"}):null,"admin"==(null===(a=t.props.user)||void 0===a?void 0:a.role)&&"iptal"!==r.location?Object(me.jsx)(D.a,{title:"Bu makinay\u0131 silmek istedi\u011finizden emin misiniz? Bu i\u015flem geri al\u0131namaz",onConfirm:function(){return wt(r.id)},okText:"Evet",cancelText:"Hay\u0131r",children:Object(me.jsx)(A.a,{danger:!0,block:!0,style:{marginBottom:10},type:"primary",children:"Makinay\u0131 Sil"})}):null]})]}),Object(me.jsx)(P.a,{})]})})):null}))}},{key:"printQRCode",value:function(e,t){var n=window.open("","","height=1024, width=1024"),r=Object(Be.renderToString)(Object(me.jsxs)("div",{style:{width:"50mm",height:"64mm"},children:[Object(me.jsx)(Va,{value:e,style:{height:"44mm",width:"44mm",margin:"3mm"},renderAs:"svg"}),Object(me.jsx)("p",{style:{margin:10},children:t})]}));null===n||void 0===n||n.document.write(String(r)),n.document.body.style.margin=0,null===n||void 0===n||n.document.close(),null===n||void 0===n||n.print()}},{key:"componentDidUpdate",value:function(e){this.props.isFinishedOrders===e.isFinishedOrders&&this.props.isCancelledOrders===e.isCancelledOrders||this.GetOrders()}},{key:"GetOrders",value:function(){var e=this;this.props.isFinishedOrders&&function(e){return Ye.apply(this,arguments)}(this.route).then((function(t){var n=t.map((function(e){return e.date=N()(e.date).format("D MMMM YYYY, HH:mm"),e}));e.setState({data:n})}))}},{key:"render",value:function(){var e,t,n=this,r=this.state;return Object(me.jsxs)("div",{style:{width:"100%",maxWidth:"100%",height:"100%",maxHeight:"100%"},children:[Object(me.jsx)(V.a,{rowKey:function(e){return"key"+e.id},size:"small",loading:this.state.loading,expandable:{expandedRowRender:function(e){var t,r,a,i,o,c,s,u,p,m,h,j,b,f;return Object(me.jsxs)("div",{style:{marginLeft:"3rem"},children:[Ka("\xdcr\xfcn",e.description),Ka("Tarih",e.date),Ka("Marka",null===(t=n.configFile.brand.filter((function(t){return t.type===e.brand}))[0])||void 0===t?void 0:t.text),Ka("Sipari\u015f No",e.order_no),Ka("Sipari\u015f Miktar\u0131",String(e.order_amount)),Ka("Tip",null!==(r=n.configFile.type.filter((function(t){return t.type===e.type}))[0])&&void 0!==r&&r.text?null===(a=n.configFile.type.filter((function(t){return t.type===e.type}))[0])||void 0===a?void 0:a.text:null===(i=n.configFile.machine_type.filter((function(t){return t.type===e.type}))[0])||void 0===i?void 0:i.text),Ka("Fan Tipi",null===(o=n.configFile.cooler_type.filter((function(t){return t.type===e.cooler_type}))[0])||void 0===o?void 0:o.text),Ka("Kazan Boyutu",e.tank_size?e.tank_size+" LT":null),Ka("Kazan Materyali",null===(c=n.configFile.caldron_material.filter((function(t){return t.type===e.caldron_material}))[0])||void 0===c?void 0:c.text),Ka("Pompa",null===(s=n.configFile.pump.filter((function(t){return t.type===e.pump}))[0])||void 0===s?void 0:s.text),Ka("Model Y\u0131l\u0131",e.year),Ka("Meme Tipi",null===(u=n.configFile.meme_type.filter((function(t){return t.type===e.meme_type}))[0])||void 0===u?void 0:u.text),Ka("Meme Aral\u0131\u011f\u0131",e.meme_distance),Ka("\xc7eki Tipi",null===(p=n.configFile.tow_type.filter((function(t){return t.type===e.tow_type}))[0])||void 0===p?void 0:p.text),Ka("Kol Tipi",null===(m=n.configFile.arm_type.filter((function(t){return t.type===e.arm_type}))[0])||void 0===m?void 0:m.text),Ka("Kol Uzunlu\u011fu",e.arm_length),Ka("\u015ease Rengi",null===(h=n.configFile.chassis_color.filter((function(t){return t.type===e.chassis_color}))[0])||void 0===h?void 0:h.text),Ka("Kazan Rengi",U(e.caldron_color)),Ka("Kazan Tipi",null===(j=n.configFile.caldron_type.filter((function(t){return t.type===e.caldron_type}))[0])||void 0===j?void 0:j.text),Ka("Kumanda",null===(b=n.configFile.commander.filter((function(t){return t.type===e.commander}))[0])||void 0===b?void 0:b.text),Ka("Alternatif \xd6zellikler",e.alt_features),Object(me.jsx)(A.a,{style:{marginRight:"10px"},type:"primary",onClick:function(){We(e.id).then((function(t){n.setState({orderDetails:Object(d.a)(Object(d.a)({},n.state.orderDetails),{},Object(Et.a)({},e.id,t))})}))},children:"Detaylar\u0131 G\xf6ster"}),n.renderOrderDetails(e),"cancelled"===e.status||"admin"!=(null===(f=n.props.user)||void 0===f?void 0:f.role)||n.props.isFinishedOrders?null:Object(me.jsx)(D.a,{title:"Bu sipari\u015fi iptal etmek istedi\u011finizden emin misiniz?",onConfirm:function(){return _t(e.id)},okText:"Evet",cancelText:"Hay\u0131r",children:Object(me.jsx)(A.a,{danger:!0,style:{marginBottom:10,marginRight:10},type:"primary",children:"Sipari\u015fi \u0130ptal Et"})}),Object(me.jsx)(l.b,{style:{display:e.order_amount!==e.pending_amount&&"none",color:"white",marginBottom:10,backgroundColor:"#1677ff",padding:"8px",borderRadius:"6px"},to:{pathname:"/editOrder/".concat(e.serial_number)},children:"D\xfczenle"})]},"keyexpandable "+e.id)}},pagination:{defaultPageSize:10,position:["bottomRight"]},columns:this.state.columns,dataSource:r.data}),Object(me.jsxs)(Ht.a,{title:(null===(e=this.state.orderSelected)||void 0===e?void 0:e.serial_number)+" Seri Numaral\u0131 Makine.",visible:this.state.orderModalVisible,onOk:function(){n.setState({orderModalVisible:!1}),ut({order1:n.state.selectedToMove,order2:n.state.orderSelected})},onCancel:function(){n.setState({orderModalVisible:!1})},children:[Object(me.jsx)("p",{children:"L\xfctfen de\u011fi\u015fim yapmak istedi\u011finiz makineyi se\xe7in."}),Object(me.jsx)(M.a,{showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},style:{width:"100%"},onSelect:function(e){n.setState({selectedToMove:{serial_number:e.split(" ")[0],order_id:Number.parseInt(e.split(" ")[1])}})},placeholder:"L\xfctfen bir makine se\xe7in",defaultActiveFirstOption:!0,children:this.state.movableMachines.map((function(e){return Object(me.jsx)(M.a.Option,{value:e.serial_number+" "+e.order_id,children:e.serial_number+" "+e.customer+" "+U(e.location)})}))})]}),this.state.historyModalVisible?Object(me.jsx)($t,{isVisible:this.state.historyModalVisible,machine_id:this.state.historyModalId,serial_number:null===(t=this.state.orderSelected)||void 0===t?void 0:t.serial_number,setIsVisible:function(e){return n.setState({historyModalVisible:e})}}):null]})}}]),r}(a.a.Component),Na=Object(c.b)((function(e,t){return{user:e.auth.user}}))(Ya);N.a.locale("tr");var qa=_.a.div(La||(La=Object(u.a)(["\n  width: 100%;\n  height: 100%;\n"]))),Ha=_.a.div(Ea||(Ea=Object(u.a)(["\n  background-color: rgb(247, 249, 251);\n  height: calc(100% - 48px);\n  width: 100%;\n  padding-left: 10%;\n  padding-right: 10%;\n  padding-top: 1rem;\n"]))),Ua=function(){var e=Object(s.f)(),t=Object(c.c)(),n=Object(c.d)((function(e){return e.auth.user})),a=Object(r.useState)("light"),i=Object(p.a)(a,2),o=i[0],l=i[1];return Object(me.jsxs)(qa,{children:[Object(me.jsxs)(m.a,{defaultSelectedKeys:[window.location.hash.split("/")[1]],onClick:function(t){switch(t.key){case"ihtiyacListesiConfig":e.push("ihtiyacListesiConfig");break;case"GenericTasksScreen":e.push("GenericTasksScreen");break;case"machineTypeConfig":e.push("machineTypeConfig");break;case"userRollsConfig":e.push("userRollsConfig");break;case"manageConfig":e.push("manageConfig");break;case"createOrder":e.push("/createOrder");break;case"reports":e.push("/reports");break;case"users":e.push("/users");break;case"deliveries":e.push("/deliveries");break;case"pendingorders":e.push("/pendingorders");break;case"tankproducer":e.push("/tankproducer");break;case"activeorders":e.push("/activeorders");break;case"chassisproduction":e.push("/chassisproductiontasks");break;case"fanproduction":e.push("/fanproductiontasks");break;case"armproduction":e.push("/armproductiontasks");break;case"productionplans":e.push("/planning");break;case"finishedorders":e.push("/finishedorders");break;case"cancelledorders":e.push("/cancelledorders");break;case"orders":e.push("/orders");break;case"activegenerictasks":e.push("/activegenerictasks");break;case"finishedgenerictasks":e.push("/finishedgenerictasks");break;case"chassisneedlist":e.push("/chassisneedlist");break;case"fanneedlist":e.push("/fanneedlist");break;case"pumpneedlist":e.push("/pumpneedlist");break;case"towneedlist":e.push("/towneedlist");break;case"commanderneedlist":e.push("/commanderneedlist");break;case"otherneedlist":e.push("/otherneedlist");break;case"generictasksconfig":e.push("/generictasksconfig");break;case"shortcuts":e.push("/shortcuts");break;case"editOrder":e.push("/editOrder");break;default:e.push("/")}l(!1?"dark":"light")},mode:"horizontal",theme:o,children:[Object(me.jsx)(m.a.Item,{style:{float:"right"},icon:Object(me.jsx)(h.a,{}),children:N()().format("D MMMM YYYY dddd")},"watchtome"),"admin"===n.role||"muhasebe"===n.role?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(j.a,{}),children:"Anasayfa"},"mainscreen"),"admin"===n.role?Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(b.a,{}),children:"Kullan\u0131c\u0131lar\u0131 Y\xf6net"},"users"):null,"admin"===n.role?Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(f.a,{}),children:"Sipari\u015f Olu\u015ftur"},"createOrder"):null,Object(me.jsxs)(m.a.SubMenu,{icon:Object(me.jsx)(O.a,{}),title:"Sipari\u015fler",children:[Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(O.a,{}),children:"T\xfcm Sipari\u015fler"},"orders"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(O.a,{}),children:"Tamamlanan Sipari\u015fler"},"finishedorders"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(O.a,{}),children:"\u0130ptal Edilen Sipari\u015fler"},"cancelledorders"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(x.a,{}),children:"Onay Bekleyen Makineler"},"pendingorders"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(y.a,{}),children:"Aktif Makineler"},"activeorders")]},"OrdersSubMenu")]}):null,"admin"===n.role||"muhasebe"==n.role||"ambar1"==n.role||"ambar2"==n.role?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.a.SubMenu,{icon:Object(me.jsx)(O.a,{}),title:"\xdcretim",children:[Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"\xdcretim Planlama"},"productionplans"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"Depo \xdcretici"},"tankproducer"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"\u015ease \xdcretimdekiler"},"chassisproduction"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"Fan \xdcretimdekiler"},"fanproduction"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"Kol \xdcretimdekiler"},"armproduction")]},"ProductionsSubMenu"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(v.a,{}),children:"Teslimatlar"},"deliveries")]}):null,"tankproducer"===n.role?Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"Depo \xdcretici"},"tankproducer"):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.a.SubMenu,{icon:Object(me.jsx)(O.a,{}),title:"\u0130\u015f Emirleri",children:[Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"Aktif \u0130\u015f Emirleri"},"activegenerictasks"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"Tamamlanan \u0130\u015f Emirleri"},"finishedgenerictasks"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"Yetkilendirme Ayarlar\u0131"},"generictasksconfig"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"K\u0131sayollar"},"shortcuts")]},"GenericTasksSubmenu"),Object(me.jsxs)(m.a.SubMenu,{icon:Object(me.jsx)(O.a,{}),title:"\u0130htiya\xe7 Listesi",children:[Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"\u015ease \u0130htiya\xe7 Listesi"},"chassisneedlist"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"Pompa \u0130htiya\xe7 Listesi"},"pumpneedlist"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"\xc7eki \u0130htiya\xe7 Listesi"},"towneedlist"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"Fan \u0130htiya\xe7 Listesi"},"fanneedlist"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"Kumanda \u0130htiya\xe7 Listesi"},"commanderneedlist"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"Di\u011fer \u0130htiya\xe7 Listeleri"},"otherneedlist")]},"NeedListSubmenu")]}):null,"lazer"===n.role||"lazer2"===n.role||"lazerkesim"===n.role||"planlama"===n.role||"robot1"===n.role||"robot2"===n.role?Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"Aktif \u0130\u015f Emirleri"},"activegenerictasks"):null,"depo"===n.role?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(j.a,{}),children:"Anasayfa"},"mainscreen"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(y.a,{}),children:"Aktif Makineler"},"activeorders"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"Aktif \u0130\u015f Emirleri"},"activegenerictasks")]}):null,"admin"===n.role?Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)(m.a.SubMenu,{theme:o,icon:Object(me.jsx)(y.a,{}),title:"Men\xfcleri Y\xf6net",children:[Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"Kullan\u0131c\u0131 Rolleri"},"userRollsConfig"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"Kullan\u0131c\u0131 Yetkileri"},"GenericTasksScreen"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"Makine Tipleri"},"machineTypeConfig"),Object(me.jsx)(m.a.Item,{icon:Object(me.jsx)(g.a,{}),children:"Ihtiyac Listesi"},"ihtiyacListesiConfig")]},"manageConfig")}):null,Object(me.jsx)(m.a.Item,{onClick:function(){t(function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sessionStorage.removeItem("user"),t({type:ke});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},style:{float:"right"},icon:Object(me.jsx)(k.a,{}),children:"\xc7\u0131k\u0131\u015f Yap"},"logout")]}),Object(me.jsxs)(s.c,{children:["admin"===n.role?Object(me.jsx)(s.a,{path:"/ihtiyacListesiConfig",children:Object(me.jsx)(Ca,{})}):null,"admin"===n.role?Object(me.jsx)(s.a,{path:"/manageConfig",children:Object(me.jsx)(In,{})}):null,"admin"===n.role?Object(me.jsx)(s.a,{path:"/userRollsConfig",children:Object(me.jsx)(sa,{})}):null,"admin"===n.role?Object(me.jsx)(s.a,{path:"/machineTypeConfig",children:Object(me.jsx)(Sa,{})}):null,"admin"===n.role?Object(me.jsx)(s.a,{path:"/GenericTasksScreen",children:Object(me.jsx)(pa,{})}):null,"admin"===n.role?Object(me.jsx)(s.a,{path:"/GenericTaskWithRoleScreen",render:function(e){return Object(me.jsx)(Da,Object(d.a)({},e))}}):null,"admin"===n.role?Object(me.jsx)(s.a,{path:"/generictasksconfig",exact:!0,children:Object(me.jsx)(pa,{})}):null,"admin"===n.role?Object(me.jsx)(s.a,{path:"/shortcuts",exact:!0,children:Object(me.jsx)(xa,{})}):null,"admin"===n.role?Object(me.jsx)(s.a,{path:"/createOrder",children:Object(me.jsx)(Lt,{})}):null,"admin"===n.role?Object(me.jsx)(s.a,{path:"/editOrder/:serial_number",children:Object(me.jsx)(Ra,{})}):null,"admin"===n.role?Object(me.jsx)(s.a,{path:"/users",children:Object(me.jsx)(ge,{})}):null,"admin"===n.role||"muhasebe"===n.role?Object(me.jsx)(s.a,{path:"/pendingorders",children:Object(me.jsx)(Kn,{})}):null,"admin"===n.role||"muhasebe"===n.role?Object(me.jsx)(s.a,{path:"/deliveries",children:Object(me.jsx)(Mn,{})}):null,"admin"===n.role||"muhasebe"===n.role||"tankproducer"===n.role?Object(me.jsx)(s.a,{path:"/tankproducer",children:Object(me.jsx)(Gn,{})}):null,"admin"===n.role||"muhasebe"===n.role||"depo"===n.role?Object(me.jsx)(s.a,{path:"/activeorders",children:Object(me.jsx)(Ln,{})}):null,"admin"===n.role||"muhasebe"===n.role?Object(me.jsx)(s.a,{path:"/orders",children:Object(me.jsx)(cn,{isFinishedOrders:!1,isCancelledOrders:!1})}):null,"admin"===n.role||"muhasebe"===n.role?Object(me.jsx)(s.a,{path:"/finishedorders",children:Object(me.jsx)(cn,{isFinishedOrders:!0,isCancelledOrders:!1})}):null,"admin"===n.role?Object(me.jsx)(s.a,{path:"/filteredOrders/:type",render:function(e){return Object(me.jsx)(Na,Object(d.a)({isFinishedOrders:!0,isCancelledOrders:!1},e))}}):null,"admin"===n.role||"muhasebe"===n.role?Object(me.jsx)(s.a,{path:"/cancelledorders",children:Object(me.jsx)(cn,{isFinishedOrders:!1,isCancelledOrders:!0})}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(me.jsx)(s.a,{path:"/planning",children:Object(me.jsx)(Ar,{})}):null,"admin"===n.role||"muhasebe"===n.role?Object(me.jsx)(s.a,{path:"/chassisproductiontasks",children:Object(me.jsx)(Kr,{})}):null,"admin"===n.role||"muhasebe"===n.role?Object(me.jsx)(s.a,{path:"/fanproductiontasks",children:Object(me.jsx)(Ur,{})}):null,"admin"===n.role||"muhasebe"===n.role?Object(me.jsx)(s.a,{path:"/armproductiontasks",children:Object(me.jsx)(Yr,{})}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(me.jsx)(s.a,{path:"/activegenerictasks",exact:!0,children:Object(me.jsx)(ra,{isActive:!0})}):null,"lazer"===n.role||"lazer2"===n.role||"lazerkesim"===n.role||"depo"===n.role?Object(me.jsx)(me.Fragment,{children:Object(me.jsx)(s.a,{path:"/",exact:!0,children:Object(me.jsx)(ra,{isActive:!0})})}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(me.jsx)(s.a,{path:"/finishedgenerictasks",exact:!0,children:Object(me.jsx)(ra,{isActive:!1})}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(me.jsx)(s.a,{path:"/otherneedlist",exact:!0,children:Object(me.jsx)(oa,{})}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(me.jsx)(s.a,{path:"/chassisneedlist",exact:!0,children:Object(me.jsx)(ga,{type:"\u015ease"})}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(me.jsx)(s.a,{path:"/pumpneedlist",exact:!0,children:Object(me.jsx)(ga,{type:"Pompa"})}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(me.jsx)(s.a,{path:"/commanderneedlist",exact:!0,children:Object(me.jsx)(ga,{type:"Kumanda"})}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(me.jsx)(s.a,{path:"/fanneedlist",exact:!0,children:Object(me.jsx)(ga,{type:"Fan"})}):null,"admin"===n.role||"muhasebe"===n.role||"ambar1"===n.role||"ambar2"===n.role?Object(me.jsx)(s.a,{path:"/towneedlist",exact:!0,children:Object(me.jsx)(ga,{type:"\xc7eki"})}):null,Object(me.jsx)(s.a,{path:"/",children:Object(me.jsx)(ir,{})})]})]})},Ja=(B.a.Header,B.a.Content),Wa=(B.a.Sider,{labelCol:{span:24},wrapperCol:{span:24}}),Qa={wrapperCol:{span:24}};var $a=function(){var e=Object(c.c)(),t=Object(r.useState)(!1),n=Object(p.a)(t,1)[0];return Object(me.jsx)(B.a,{children:Object(me.jsx)(Ja,{children:Object(me.jsx)(G.a,{justify:"center",align:"middle",children:Object(me.jsxs)(Jt.a,{bordered:!0,style:{width:"min-content",height:"min-content"},children:[Object(me.jsx)(Jt.a,{children:Object(me.jsx)("div",{style:{display:"flex",height:"auto",width:"auto",justifyContent:"center"},children:Object(me.jsx)("img",{width:"200",height:"200",src:"agrotek.png",alt:"image"})})}),Object(me.jsx)("h1",{className:"center",children:"Giri\u015f"}),Object(me.jsxs)(ue.a,Object(d.a)(Object(d.a)({},Wa),{},{name:"basic",onFinish:function(t){console.log("Success:",t),e(Ce(t.mail,t.password))},onFinishFailed:function(e){console.log("Failed:",e)},requiredMark:!1,children:[Object(me.jsx)(ue.a.Item,{name:"mail",rules:[{required:!0,message:"L\xfctfen bir kullan\u0131c\u0131 ad\u0131 girin."}],children:Object(me.jsx)(de.a,{placeholder:"kullan\u0131c\u0131@mail.com"})}),Object(me.jsx)(ue.a.Item,{name:"password",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz."}],children:Object(me.jsx)(de.a.Password,{placeholder:"******"})}),Object(me.jsxs)(ue.a.Item,Object(d.a)(Object(d.a)({},Qa),{},{children:[Object(me.jsx)(A.a,{style:{marginBottom:"1rem"},type:"primary",htmlType:"submit",loading:n,block:!0,children:"Giri\u015f Yap"}),Object(me.jsx)(l.b,{to:"/forgotPassword",className:"center",children:"\u015eifremi unuttum"})]})),Object(me.jsx)("div",{className:"center",children:Object(me.jsx)("a",{href:"https://covisart.com.tr/",children:Object(me.jsx)("img",{width:"auto",height:"16",src:"logo.png",alt:"image"})})}),Object(me.jsx)(rr.a,{className:"center",children:"Software: v1.6.12.2022"})]}))]})})})})},Xa={labelCol:{span:24},wrapperCol:{span:24}},Za={wrapperCol:{span:24}};var ei=function(){var e=Object(c.c)(),t=Object(r.useState)(!1),n=Object(p.a)(t,2),a=n[0];return n[1],Object(me.jsxs)(Ha,{style:{height:"100%",display:"flex",flexDirection:"column",paddingTop:"10%",alignItems:"center"},children:[Object(me.jsx)("h1",{children:"\u015eifremi Unuttum"}),Object(me.jsx)(Jt.a,{bordered:!0,style:{width:300,height:"min-content"},children:Object(me.jsxs)(ue.a,Object(d.a)(Object(d.a)({},Xa),{},{name:"basic",onFinish:function(t){E.a.post(si+"/api/auth/ResetPassword",{Mail:t.mail}).then((function(e){200===e.status&&F.a.success({title:"\u0130\u015flem Ba\u015far\u0131l\u0131.",content:"L\xfctfen mail kutunuzu kontrol edin."})})).catch((function(e){F.a.warning({title:"Bir hata olu\u015ftu.",content:"L\xfctfen mail adresinizi kontrol edin."})})),e(Ce(t.mail,t.password))},onFinishFailed:function(e){console.log("Failed:",e)},requiredMark:!1,children:[Object(me.jsx)(ue.a.Item,{name:"mail",rules:[{required:!0,message:"Bu alan bo\u015f b\u0131rak\u0131lamaz."},{type:"email",message:"L\xfctfen ge\xe7erli bir mail adresi girin."}],children:Object(me.jsx)(de.a,{placeholder:"birisi@gmail.com"})}),Object(me.jsx)(ue.a.Item,Object(d.a)(Object(d.a)({},Za),{},{children:Object(me.jsx)(A.a,{style:{marginBottom:"1rem"},type:"primary",htmlType:"submit",loading:a,block:!0,children:"\u015eifremi G\xf6nder"})}))]}))})]})},ti=n(23),ni=n(589);var ri=function(){we();var e=Object(c.d)((function(e){return e.auth.user}));return Object(me.jsx)(l.a,{children:Object(me.jsx)(ti.a,{theme:{algorithm:ni.a.defaultAlgorithm},children:Object(me.jsxs)(s.c,{children:[Object(me.jsx)(s.a,{path:"/ForgotPassword",children:Object(me.jsx)(ei,{})}),Object(me.jsx)(s.a,{path:"/",children:e?Object(me.jsx)(Ua,{}):Object(me.jsx)($a,{})})]})})})},ai=n(183),ii=Object(ai.b)({auth:Se}),oi=n(338),ci=n(339),li=n.n(ci),si="https://devagrotek.azurewebsites.net",ui=sessionStorage.getItem("user")?{auth:{user:JSON.parse(String(sessionStorage.getItem("user")))}}:void 0,di=Object(ai.c)(ii,ui,Object(ai.a)(oi.a));o.a.render(Object(me.jsx)(ti.a,{locale:li.a,children:Object(me.jsx)(c.a,{store:di,children:Object(me.jsx)(ri,{})})}),document.getElementById("root"))}},[[570,1,2]]]);
//# sourceMappingURL=main.1c109502.chunk.js.map